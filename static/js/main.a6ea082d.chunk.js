/*! For license information please see main.a6ea082d.chunk.js.LICENSE.txt */
(this["webpackJsonptinder-project"]=this["webpackJsonptinder-project"]||[]).push([[0],{111:function(e,t,n){e.exports={btnStyle:"Matches_btnStyle__1K_MD"}},142:function(e,t,n){},154:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(15),r=n.n(i),o=n(58),s=n(14),l=(n(142),n(22)),u=n(192),d=n(197),j=n(103),b=n.n(j),h=n(220),m=n(113),f=n(115),O=n(31),g=n(198),p=n(195),x=n(64);x.a.initializeApp({apiKey:"AIzaSyBTxAOZJx56d3i9hCiD5ZcYpnp4cvfady4",authDomain:"fir-project-d9b09.firebaseapp.com",projectId:"fir-project-d9b09",storageBucket:"fir-project-d9b09.appspot.com",messagingSenderId:"74333153272",appId:"1:74333153272:web:ebfbec43f8b31327d1980d"});var v=x.a.firestore(),y=(x.a.storage(),x.a.auth()),w=x.a,C=n(20),N=n.p+"static/media/dinderTrans2.19d7ad87.png",k=n(3),S=Object(u.a)((function(e){return{root:{flexGrow:1,width:"100%",marginTop:"100px",fontFamily:"Nunito"},logoPaper:{margin:"".concat(e.spacing(1),"px auto"),background:"rgba(255,255,255,0.3)",padding:"0 10px"},logo:{width:"100px"},appBar:{background:"none",padding:"0 ".concat(e.spacing(3),"px")},title:{fontSize:"3rem"},menu:{fontSize:"35px"}}}));function I(){var e=S(),t=c.a.useState(null),n=Object(s.a)(t,2),a=n[0],i=n[1],r=(Boolean(a),Object(C.b)()),o=Object(C.c)((function(e){return e.currentUser}));return Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(p.a,{}),Object(k.jsx)(d.a,{elevation:0,className:e.appBar,children:Object(k.jsxs)(g.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(k.jsx)(g.a,{item:!0,xs:1,children:Object(k.jsx)(f.a,{className:e.logoPaper,elevation:10,children:Object(k.jsx)("img",{src:N,className:e.logo,alt:"logo"})})}),Object(k.jsx)(g.a,{item:!0,xs:10}),Object(k.jsxs)(g.a,{container:!0,xs:1,justify:"flex-end",children:[Object(k.jsx)(b.a,{className:e.menu,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}}),Object(k.jsxs)(m.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){i(null)},children:[Object(k.jsx)(h.a,{component:O.b,to:"/",children:"Home"}),o?Object(k.jsxs)("div",{children:[Object(k.jsx)(h.a,{component:O.b,to:"/matches",children:"Kotenca"}),Object(k.jsx)(h.a,{component:O.b,to:"/profile",children:"Profile"}),Object(k.jsx)(h.a,{component:O.b,to:"/",onClick:function(){y.signOut().then(r({type:"userLoggedOut"})).catch((function(e){return console.log(e.message)}))},children:"Logout"})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)(h.a,{component:O.b,to:"/register",children:"Register"}),Object(k.jsx)(h.a,{component:O.b,to:"/login",children:"Login"})]})]})]})]})})]})}var _=n(52),M=n(104),U=n.n(M),B=(n(154),n(106)),A=n.n(B),E=n(105),D=n.n(E),P=n(201),F=n(202),L=n(205),T=n(204),W=n(203),V=n(206),z=n(116),R=[];var Y=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.currentUser.user})),n=Object(C.c)((function(e){return e.allUsers.allUsers})),i=n.filter((function(e){return!t.liked.includes(e.uid)&&!t.disliked.includes(e.uid)&&!t.matches.includes(e.uid)&&t.uid!==e.uid})),r=i,l=Object(a.useState)(i),u=Object(s.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(),h=Object(s.a)(b,2),m=h[0],f=h[1],O=Object(a.useState)(!0),g=Object(s.a)(O,2),p=g[0],x=g[1],y=Object(a.useMemo)((function(){return Array(i.length).fill(0).map((function(e){return c.a.createRef()}))}),[]),w=function(a,c){v.collection("users").doc(t.uid).update(Object(o.a)({},a,[].concat(Object(_.a)(t[a]),[c]))).then((function(){t[a].push(c),e({type:"userLoggedIn",payload:t}),console.log("Updated currentUser liked Array: ",t[a]," with: ",c)})).catch((function(e){console.error("Error updating document: ",e)})),j(r),console.log("characters: ",d," sa setnati na ",r," a filteredUsers sa ",i),"liked"===a&&v.collection("users").doc(c).get().then((function(e){e.data().liked.includes(t.uid)&&function(e,t){var a=n.find((function(t){return t.uid===e})).matches,c=n.find((function(e){return e.uid===t})).matches;v.collection("users").doc(e).update({matches:[].concat(Object(_.a)(a),[t])}).then(console.log("VVVV updateProfileMatches sme i update-nahme uspeshno matches na: ",e)),v.collection("users").doc(t).update({matches:[].concat(Object(_.a)(c),[e])}).then(console.log("VVVV updateProfileMatches sme i update-nahme uspeshno matches na: ",t))}(t.uid,c)}))},N=function(e){var t=d.filter((function(e){return!R.includes(e.name)}));if(t.length){var n=t[t.length-1].name,a=i.map((function(e){return e.name})).indexOf(n);R.push(n),y[a].current.swipe(e),r=r.filter((function(e){return e.name!==n}))}},S=function(){x(!p)};return Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{onClick:function(){v.collection("users").where("liked","array-contains","iRAJrtLOEtO92cbkP4ZYOC0nNMv2").get().then((function(e){e.forEach((function(e){}))}))},children:"find who liked me"}),p?Object(k.jsxs)("div",{style:{width:"85%",margin:"0 auto"},children:[Object(k.jsx)(D.a,{onClick:S}),Object(k.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Damion&display=swap",rel:"stylesheet"}),Object(k.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Alatsi&display=swap",rel:"stylesheet"}),Object(k.jsx)("h1",{children:"React Tinder Card"}),Object(k.jsx)("div",{className:"cardContainer",children:d.map((function(e,t){return Object(k.jsx)(U.a,{ref:y[t],className:"swipe",onSwipe:function(t){var n,a,c;n=t,a=e.name,c=e.uid,w("left"===n?"disliked":"liked",c),f(n),R.push(a)},onCardLeftScreen:function(){return t=e.name,e.uid,r=r.filter((function(e){return e.name!==t})),void j(r);var t},children:Object(k.jsx)("div",{style:{backgroundImage:"url("+e.images[0]+")"},className:"card",children:Object(k.jsx)("h3",{children:e.name})})},e.uid)}))}),Object(k.jsxs)("div",{className:"buttons",children:[Object(k.jsx)("button",{onClick:function(){return N("left")},children:"Swipe left!"}),Object(k.jsx)("button",{onClick:function(){return N("right")},children:"Swipe right!"})]}),m?Object(k.jsxs)("h2",{className:"infoText",children:["You swiped ",m]},m):Object(k.jsx)("h2",{className:"infoText",children:"Swipe a card or press a button to get started!"})]}):Object(k.jsxs)("div",{children:[Object(k.jsx)(A.a,{onClick:S}),Object(k.jsx)("div",{className:"containerCardView",children:Object(k.jsx)("div",{className:"containerCardView",children:d.map((function(e){return Object(k.jsxs)(P.a,{elevation:20,className:"root",children:[Object(k.jsxs)(F.a,{children:[Object(k.jsx)(W.a,{className:"media",image:e.images[0],title:e.name}),Object(k.jsx)(T.a,{children:Object(k.jsxs)(z.a,{className:"colorBlack",gutterBottom:!0,variant:"h5",component:"h2",children:[e.name.split(" ")[0]," ",e.age]})})]}),Object(k.jsxs)(L.a,{className:"btnContainer",children:[Object(k.jsx)(V.a,{size:"small",color:"primary",onClick:function(){return w("disliked",e.uid)},children:"Dislike"}),Object(k.jsx)(V.a,{size:"small",color:"primary",onClick:function(){return w("liked",e.uid)},children:"Like"})]})]},e.uid)}))})})]})]})},G=n(7),H=n(212),Z=n(211),J=n(219),K=n(225),Q=n(218),X=n(224),q=n(222),$=n(79),ee=n.n($),te=n(107),ne=n(221),ae=n(207),ce=n(208),ie=n(109),re=n.n(ie),oe=Object(u.a)((function(e){return{paper:{position:"relative",height:"200px",width:"130px",margin:"13px 13px",backgroundColor:"rgba(255,255,255,0.5)","& .MuiFab-root:hover":{backgroundColor:"#e66465","& .MuiSvgIcon-root":{color:"rgb(225,225,225)"}},"& input":{display:"none"}},divImg:{height:"100%",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},smallBtn:{position:"absolute",top:"-20px",right:"-20px",width:"40px",height:"40px","& .MuiSvgIcon-root":{width:"25px"},color:"#e66465",background:"rgb(225,225,225)"}}})),se=function(e){var t=e.id,n=e.userId,a=e.imgUrl,c=e.replaceImgUrl,i=e.updateImages,r=oe();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(f.a,{elevation:6,className:r.paper,children:[Object(k.jsx)("div",{className:r.divImg,style:{backgroundImage:"url(".concat(a,")")}}),Object(k.jsx)("input",{accept:"image/*",className:r.input,id:"contained-button-file-".concat(t),multiple:!1,type:"file",onChange:function(e){return function(e){var a=e.target;if(a.files&&a.files[0]){var r=a.files[0],o=r.name.lastIndexOf("."),s=r.name.slice(0,o)+Date.now();console.log(s);var l=w.storage().ref().child("".concat(n,"/").concat(s)).put(r);l.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case w.storage.TaskState.PAUSED:console.log("Upload is paused");break;case w.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){console.log("An error occurred on image upload ",e.message)}),(function(){l.snapshot.ref.getDownloadURL().then((function(e){console.log("File available at",e),function(){var n=Object(te.a)(ee.a.mark((function n(){return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c(t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()().then((function(e){return i(e)}))}))}))}}(e)}}),Object(k.jsx)("label",{htmlFor:"contained-button-file-".concat(t),children:Object(k.jsx)(ne.a,{title:"Add Photo",arrow:!0,TransitionComponent:ae.a,placement:"right",children:Object(k.jsx)(ce.a,{component:"div",className:r.smallBtn,children:Object(k.jsx)(re.a,{})})})})]})})},le=Object(u.a)((function(e){return{root:{width:"40vw",minWidth:"400px",margin:"0 auto","& .MuiSvgIcon-root.MuiSelect-icon ":{color:"white"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottomColor:"white"},"& .MuiInput-underline.Mui-disabled:before":{borderBottom:"1px solid rgb(205,205,205)"},"& .MuiInput-underline:before":{borderBottomColor:"white"},"&:hover":{borderBottomColor:"red"},"& input.MuiInputBase-input.MuiInput-input":{color:"white"},"& div.MuiSelect-select.MuiSelect-selectMenu.MuiInputBase-input.MuiInput-input":{color:"white"}},paper:{margin:"5px 0",background:"none",color:"white"},item:{width:"100%",margin:"20px 0"},button:{color:"#e66465",background:"#9198e5"},input:{display:"none",color:"white","& .MuiInputBase-input":{color:"white"}},formControl:{"& .MuiSelect-select:focus":{background:"none"},minWidth:"250px",margin:0}}})),ue=Object(G.a)({root:{"& label":{color:"rgb(225, 225, 225)"},"& label.Mui-focused":{color:"rgb(225, 225, 225)"},"& .MuiInput-underline:before":{borderBottomColor:"white"},"& .MuiInput-underline:after":{borderBottomColor:"#1976d2"},"& .MuiOutlinedInput-root":{color:"rgb(225, 225, 225)","& fieldset":{borderColor:"rgb(225, 225, 225)"},"&:hover fieldset":{borderColor:"rgb(225, 225, 225)"}}}})(q.a),de=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.currentUser.user})),n=(v.collection("users").doc(t.uid),le()),c=Object(a.useState)(t.aboutYou),i=Object(s.a)(c,2),r=i[0],o=i[1],l=Object(a.useState)(""),u=Object(s.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(t.gender),m=Object(s.a)(b,2),O=(m[0],m[1],Object(a.useState)("")),x=Object(s.a)(O,2),y=x[0],w=x[1],N=Object(a.useState)(""),S=Object(s.a)(N,2),I=S[0],M=S[1],U=Object(a.useState)([]),B=Object(s.a)(U,2),A=B[0],E=B[1],D=Object(a.useState)(""),P=Object(s.a)(D,2),F=P[0],L=P[1],T=Object(a.useState)([]),W=Object(s.a)(T,2),V=W[0],R=W[1];Object(a.useEffect)((function(){I&&fetch("https://restcountries.eu/rest/v2/region/"+I).then((function(e){return e.json()})).then((function(e){return E(e)})).catch((function(e){return console.log(e)}))}),[I]),Object(a.useEffect)((function(){v.collection("users").doc("".concat(t.uid)).get().then((function(e){if(e.exists){var t=q(e.data().images,6);R(t),console.log("snimkite v db",e.data().images),console.log("imagesArraySet",t)}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}),[]);var Y=function(e){return v.collection("users").doc("".concat(t.uid)).update({images:e}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)}))},G=function(t,n){var a=Object(_.a)(V);return a[t]=n,R(a),e({type:"userChangedProfilePic",payload:a}),a},q=function(e,t){var n=Object(_.a)(e);return n.length=t,e.length<t&&n.fill("",e.length),n};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(p.a,{}),Object(k.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(k.jsxs)(g.a,{container:!0,className:n.root,direction:"column",children:[Object(k.jsx)(g.a,{item:!0,children:Object(k.jsx)(f.a,{elevation:0,className:n.paper,children:Object(k.jsxs)(g.a,{container:!0,direction:"column",children:[Object(k.jsx)(g.a,{item:!0,className:n.item,children:Object(k.jsx)(z.a,{variant:"h4",children:"Upload your images"})}),Object(k.jsx)(g.a,{container:!0,justify:"center",wrap:"wrap",style:{margin:"30px 0",padding:"20px"},children:V.map((function(e,n){return Object(k.jsx)(g.a,{xs:"auto",item:!0,children:Object(k.jsx)(se,{id:n,userId:t.uid,replaceImgUrl:G,updateImages:Y,imgUrl:V[n]||""},n)})}))})]})})}),Object(k.jsx)(g.a,{item:!0,children:Object(k.jsx)(f.a,{elevation:0,className:n.paper,children:Object(k.jsxs)(g.a,{container:!0,direction:"column",alignItems:"center",children:[Object(k.jsx)(g.a,{item:!0,className:n.item,children:Object(k.jsx)(z.a,{variant:"h4",children:"About you"})}),Object(k.jsx)(g.a,{item:!0,xs:"auto",style:{width:"80%",marginBottom:"30px"},children:Object(k.jsx)(ue,{id:"outlined-multiline-flexible",label:"About you",multiline:!0,rows:4,rowsMax:4,fullWidth:!0,value:r,onChange:function(e){o(e.target.value)},onBlur:function(n){t.aboutYou!==r&&(console.log("na blyr promenihme neshto"),e({type:"userChangedAboutYou",payload:n.target.value}))},variant:"outlined"})})]})})}),Object(k.jsx)(g.a,{item:!0,children:Object(k.jsx)(f.a,{elevation:0,className:n.paper,children:Object(k.jsxs)(g.a,{container:!0,direction:"column",alignItems:"center",children:[Object(k.jsx)(g.a,{item:!0,className:n.item,children:Object(k.jsx)(z.a,{variant:"h4",children:"Passions"})}),Object(k.jsx)(g.a,{item:!0,xs:"auto",style:{width:"80%",marginBottom:"30px"},children:Object(k.jsx)(ue,{id:"outlined-multiline-flexible",label:"Passions",multiline:!0,rows:4,rowsMax:4,fullWidth:!0,value:d,onChange:function(e){j(e.target.value)},variant:"outlined"})})]})})}),Object(k.jsx)(g.a,{item:!0,children:Object(k.jsx)(f.a,{elevation:0,className:n.paper,children:Object(k.jsxs)(g.a,{container:!0,direction:"column",alignItems:"center",children:[Object(k.jsx)(g.a,{item:!0,className:n.item,children:Object(k.jsx)(z.a,{variant:"h4",children:"Gender:"})}),Object(k.jsx)(g.a,{item:!0,xs:"auto",style:{justifyContent:"center"},children:Object(k.jsxs)(K.a,{style:{margin:"0 auto"},row:!0,"aria-flowto":"right","aria-label":"gender",name:"gender1",value:t.gender,onChange:function(t){e({type:"userChangedGender",payload:t.target.value})},children:[Object(k.jsx)(H.a,{className:n.radio,value:"female",control:Object(k.jsx)(Q.a,{color:"secondary"}),label:"Female"}),Object(k.jsx)(H.a,{value:"male",control:Object(k.jsx)(Q.a,{color:"primary"}),label:"Male"}),Object(k.jsx)(H.a,{value:"other",control:Object(k.jsx)(Q.a,{color:"default"}),label:"Other"})]})})]})})}),Object(k.jsx)(g.a,{item:!0,children:Object(k.jsx)(f.a,{elevation:0,className:n.paper,children:Object(k.jsxs)(g.a,{container:!0,direction:"column",alignItems:"center",children:[Object(k.jsx)(g.a,{item:!0,className:n.item,children:Object(k.jsx)(z.a,{variant:"h4",children:"Sexual orientation:"})}),Object(k.jsx)(g.a,{item:!0,xs:"auto",className:n.item,children:Object(k.jsx)(Z.a,{className:n.formControl,children:Object(k.jsxs)(J.a,{variant:"standard",labelId:"demo-simple-select-label",id:"sexualOrientation-select",value:y,onChange:function(e){w(e.target.value)},children:[Object(k.jsx)(h.a,{value:"Straight",children:"Straight"}),Object(k.jsx)(h.a,{value:"Gay",children:"Gay"}),Object(k.jsx)(h.a,{value:"Lesbian",children:"Lesbian"}),Object(k.jsx)(h.a,{value:"Bisexual",children:"Bisexual"}),Object(k.jsx)(h.a,{value:"Asexual",children:"Asexual"}),Object(k.jsx)(h.a,{value:"Demisexual",children:"Demisexual"}),Object(k.jsx)(h.a,{value:"Queer",children:"Queer"}),Object(k.jsx)(h.a,{value:"Questioning",children:"Questioning"})]})})})]})})}),Object(k.jsx)(g.a,{item:!0,children:Object(k.jsx)(f.a,{elevation:0,className:n.paper,children:Object(k.jsxs)(g.a,{container:!0,direction:"column",alignItems:"center",children:[Object(k.jsx)(g.a,{item:!0,className:n.item,children:Object(k.jsx)(z.a,{variant:"h4",children:"Living in:"})}),Object(k.jsx)(g.a,{item:!0,xs:"auto",className:n.item,children:Object(k.jsxs)(Z.a,{className:n.formControl,children:[Object(k.jsx)(X.a,{style:{color:"white"},children:"Region"}),Object(k.jsxs)(J.a,{variant:"standard",labelId:"demo-simple-select-label",id:"sexualOrientation-select",value:I,onChange:function(e){M(e.target.value)},children:[Object(k.jsx)(h.a,{value:"africa",children:"Africa"}),Object(k.jsx)(h.a,{value:"americas",children:"Americas"}),Object(k.jsx)(h.a,{value:"asia",children:"Asia"}),Object(k.jsx)(h.a,{value:"europe",children:"Europe"}),Object(k.jsx)(h.a,{value:"oceania",children:"Oceania"})]})]})}),Object(k.jsx)(g.a,{item:!0,xs:"auto",className:n.item,children:Object(k.jsxs)(Z.a,{className:n.formControl,children:[Object(k.jsx)(X.a,{style:{color:"white"},disabled:!0,children:"Country"}),Object(k.jsx)(J.a,{disabled:!I,variant:"standard",labelId:"demo-simple-select-label",id:"sexualOrientation-select",value:F,onChange:function(e){L(e.target.value)},children:A.map((function(e){return Object(k.jsx)(h.a,{value:e.name,children:e.name},e.alpha2Code)}))})]})})]})})}),Object(k.jsx)(g.a,{item:!0,children:Object(k.jsx)(f.a,{elevation:0,className:n.paper,children:Object(k.jsxs)(g.a,{container:!0,direction:"column",alignItems:"center",children:[Object(k.jsx)(g.a,{item:!0,className:n.item,children:Object(k.jsx)(z.a,{variant:"h4",children:"Job title:"})}),Object(k.jsx)(g.a,{item:!0,xs:"auto",style:{width:"80%",marginBottom:"30px"},children:Object(k.jsx)(ue,{id:"standard-secondary",label:"Job title",fullWidth:!0,color:"secondary"})})]})})}),Object(k.jsx)(g.a,{item:!0,children:Object(k.jsx)(f.a,{elevation:0,className:n.paper,children:Object(k.jsxs)(g.a,{container:!0,direction:"column",alignItems:"center",children:[Object(k.jsx)(g.a,{item:!0,className:n.item,children:Object(k.jsx)(z.a,{variant:"h4",children:"Company:"})}),Object(k.jsx)(g.a,{item:!0,xs:"auto",style:{width:"80%",marginBottom:"30px"},children:Object(k.jsx)(ue,{id:"standard-secondary",label:"Company",fullWidth:!0,color:"secondary"})})]})})}),Object(k.jsx)(g.a,{item:!0,children:Object(k.jsx)(f.a,{elevation:0,className:n.paper,children:Object(k.jsxs)(g.a,{container:!0,direction:"column",alignItems:"center",children:[Object(k.jsx)(g.a,{item:!0,className:n.item,children:Object(k.jsx)(z.a,{variant:"h4",children:"College/Uni:"})}),Object(k.jsx)(g.a,{item:!0,xs:"auto",style:{width:"80%",marginBottom:"30px"},children:Object(k.jsx)(ue,{id:"standard-secondary",label:"College/Uni",fullWidth:!0,color:"secondary"})})]})})})]})})]})},je=n(214),be=n(223),he=n(215),me=n(213),fe=n(216),Oe=n(217),ge=Object(u.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"30ch"}},container:{marginTop:"1rem",width:"max-content",margin:"0 auto",display:"flex",maxWidth:"400px"},label:{lineHeight:"4px"},googleIcon:{width:"1.5rem",marginRight:"8px"}}}));function pe(e){e.setCurrentUser;var t=ge(),n=Object(a.useState)(""),c=Object(s.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(""),b=Object(s.a)(j,2),h=b[0],m=b[1],f=Object(a.useState)(""),O=Object(s.a)(f,2),g=O[0],x=O[1],N=Object(a.useState)(""),S=Object(s.a)(N,2),I=S[0],_=S[1],M=Object(a.useState)(!1),U=Object(s.a)(M,2),B=U[0],A=U[1],E=Object(C.b)();function D(e,t){switch(t){case"firstName":m(e);break;case"lastName":x(e);break;case"email":r(e);break;case"password":d(e);break;case"age":_(e)}}var P=function(e,t){v.collection("users").doc("".concat(e)).set(t).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(p.a,{}),Object(k.jsx)(je.a,{className:t.container,position:"relative",align:"center",children:Object(k.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:[Object(k.jsx)(q.a,{id:"firstNameInput",autoFocus:!0,error:h.trim().length<4&&0!==h.length,value:h,onChange:function(e){return D(e.target.value,"firstName")},label:"First name",variant:"outlined"}),Object(k.jsx)(q.a,{id:"lastNameInput",autoFocus:!0,error:g.trim().length<4&&0!==g.length,value:g,onChange:function(e){return D(e.target.value,"lastName")},label:"Last name",variant:"outlined"}),Object(k.jsx)(q.a,{id:"email",autoFocus:!0,type:"email",error:i.trim().length<4&&0!==i.length,value:i,onChange:function(e){return D(e.target.value,"email")},label:"Email",variant:"outlined"}),Object(k.jsxs)(Z.a,{variant:"outlined",children:[Object(k.jsx)(X.a,{className:"label",htmlFor:"password",children:"Password"}),Object(k.jsx)(be.a,{id:"password",error:u.trim().length<4&&0!==u.length,value:u,onChange:function(e){return D(e.target.value,"password")},label:"Password",variant:"outlined",type:B?"text":"password",autoComplete:"current-password",endAdornment:Object(k.jsx)(he.a,{position:"end",children:Object(k.jsx)(me.a,{"aria-label":"toggle password visibility",onClick:function(){A(!B),console.log(B)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:B?Object(k.jsx)(fe.a,{}):Object(k.jsx)(Oe.a,{})})})})]}),Object(k.jsx)(q.a,{id:"age",error:I<18&&""!==I,value:I,onChange:function(e){return D(e.target.value,"age")},label:"How old are you?",variant:"outlined",type:"number"}),Object(k.jsx)(V.a,{variant:"contained",color:"primary",onClick:function(){y.setPersistence(w.auth.Auth.Persistence.LOCAL).then((function(){return y.createUserWithEmailAndPassword(i,u)})).then((function(){var e=y.currentUser;console.log(e);var t="".concat(h[0]).concat(h.slice(1)," ").concat(g[0]).concat(g.slice(1));console.log(t);var n={uid:e.uid,name:t,email:i,aboutYou:"",age:I,collageOrUni:"",company:"",country:"",city:"",gender:"",jobTitle:"",images:[],mediaProfiles:[],sexualOrientation:"",youtubeSong:"",passions:[],chats:[],isOnline:!0,liked:[],disliked:[]};P(e.uid,n),E({type:"userLoggedIn",payload:e})})).catch((function(e){return console.log(e.message)})),r(""),m(""),x(""),d(""),_("")},children:"Register"}),Object(k.jsxs)(V.a,{variant:"contained",color:"primary",onClick:function(){var e=new w.auth.GoogleAuthProvider;y.signInWithPopup(e).then((function(e){console.log("logvane s google ",e);var t={uid:e.user.uid,name:e.user.displayName,email:i,aboutYou:"",age:18,collageOrUni:"",company:"",country:"",city:"",gender:"",jobTitle:"",images:[e.additionalUserInfo.profile.picture],mediaProfiles:[],sexualOrientation:"",youtubeSong:"",passions:[],chats:[],isOnline:!0,liked:[],disliked:[]};!function(e,t){var n=v.collection("users").doc(e);n.get().then((function(e){if(!e.exists)return console.log("nqma takyv potrebirel"),n.set(t).then((function(){console.log("Document successfully updated! // syzdadoh takyv potrebitel")})).catch((function(e){console.error("Error updating document: ",e)}));console.log("IVA VECHE takyv potrebirel, ne promenqm bazata")})).catch((function(e){console.log("Error getting document:",e)}))}(e.user.uid,t)})).catch((function(e){console.log(e.message)}))},children:[Object(k.jsx)("img",{className:t.googleIcon,src:"https://img.icons8.com/ios-filled/50/000000/google-logo.png",alt:"google icon"}),Object(k.jsx)("span",{children:" Continue with Google"})]})]})})]})}var xe=Object(u.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"30ch"}},form:{minWidth:"300px",maxWidth:"400px"},container:{marginTop:"5rem",maxWidth:"500px",margin:"0 auto",display:"flex"},label:{lineHeight:"4px"}}}));function ve(e){e.setCurrentUser;var t=xe(),n=Object(a.useState)(""),c=Object(s.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(!1),b=Object(s.a)(j,2),h=b[0],m=b[1],f=Object(C.b)();Object(C.c)((function(e){return e.currentUser}));return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(p.a,{}),Object(k.jsx)(je.a,{className:t.container,position:"relative",align:"center",children:Object(k.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:[Object(k.jsx)(q.a,{id:"username",fullWidth:"true",autoFocus:!0,error:i.trim().length<4&&0!==i.length,value:i,onChange:function(e){return function(e){r(e.target.value)}(e)},label:"Username",variant:"outlined"}),Object(k.jsxs)(Z.a,{variant:"outlined",children:[Object(k.jsx)(X.a,{className:"label",htmlFor:"password",children:"Password"}),Object(k.jsx)(be.a,{id:"password",fullWidth:"true",error:u.trim().length<4&&0!==u.length,value:u,onChange:function(e){return function(e){d(e.target.value)}(e)},label:"Password",variant:"outlined",type:h?"text":"password",autoComplete:"current-password",endAdornment:Object(k.jsx)(he.a,{position:"end",children:Object(k.jsx)(me.a,{"aria-label":"toggle password visibility",onClick:function(){m(!h),console.log(h)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:h?Object(k.jsx)(fe.a,{}):Object(k.jsx)(Oe.a,{})})})})]}),Object(k.jsx)(V.a,{onClick:function(){y.setPersistence("session").then((function(){return y.signInWithEmailAndPassword(i,u)})).then((function(){var e=y.currentUser;console.log(e),f({type:"userLoggedIn",payload:e})})).catch((function(e){return console.log(e.message)})),r(""),d("")},variant:"contained",color:"primary",children:"Login"})]})})]})}var ye=n(110),we=Object(u.a)((function(e){return{container:{display:"flex"},head:{width:e.spacing(4),height:e.spacing(4),margin:e.spacing(1)}}}));function Ce(e){var t=e.users,n=(we(),Object(l.g)().id),a=t.find((function(e){return e.id===parseInt(n)}));return console.log("Type of ID: ",n,typeof n),console.log(t),console.log("User: ",a),Object(k.jsx)(p.a,{children:Object(k.jsxs)(g.a,{container:!0,direction:"column",alignItems:"center",xs:4,spacing:2,children:[Object(k.jsx)(g.a,{item:!0,children:Object(k.jsx)(ye.a,{showNavs:!0,showBullets:!0,width:350,height:250,images:[{url:"https://images.ctfassets.net/hrltx12pl8hq/3MbF54EhWUhsXunc5Keueb/60774fbbff86e6bf6776f1e17a8016b4/04-nature_721703848.jpg?fit=fill&w=480&h=270"},{url:"https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8aHVtYW58ZW58MHx8MHw%3D&ixlib=rb-1.2.1&w=1000&q=80"},{url:"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__340.jpg"},{url:"https://static.toiimg.com/photo/72975551.cms"},{url:"https://images.ctfassets.net/hrltx12pl8hq/4plHDVeTkWuFMihxQnzBSb/aea2f06d675c3d710d095306e377382f/shutterstock_554314555_copy.jpg"}]})}),Object(k.jsxs)(g.a,{item:!0,children:[a.name," ",a.age]}),Object(k.jsx)(g.a,{item:!0,children:a.description}),Object(k.jsx)(g.a,{item:!0,children:a.location}),Object(k.jsx)(g.a,{item:!0}),Object(k.jsx)(g.a,{item:!0}),Object(k.jsx)(g.a,{item:!0})]})})}var Ne=n(111),ke=n.n(Ne),Se=Object(u.a)((function(e){return{container:{width:"60%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},item:{margin:"".concat(e.spacing(2),"px"),"&:hover":{boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"}},root:{position:"relative",backgroundColor:"rgba(255, 255, 255, 0.4)",width:250,height:350,margin:"13px",display:"flex",flexDirection:"column",justifyContent:"space-between"},expanded:{height:"auto",position:"fixed",top:"50px",left:"5%",zIndex:2},media:{height:240},colorBlack:{color:"black"},btnContainer:{marginBottom:"2rem"}}}));function Ie(){var e=Se(),t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)("Show more"),o=Object(s.a)(r,2),l=o[0],u=o[1],d=Object(a.useState)(-1),j=Object(s.a)(d,2),b=j[0],h=j[1],m=Object(C.c)((function(e){return e.allUsers.allUsers}));return Object(k.jsx)(g.a,{container:!0,className:e.container,children:m.map((function(t){return Object(k.jsxs)(P.a,{elevation:20,className:b===t.id?[e.root,e.expanded]:e.root,onClick:function(){t.id},children:[Object(k.jsxs)(F.a,{component:O.b,to:"/matches/"+t.id,children:[Object(k.jsx)(W.a,{className:e.media,image:t.url,title:t.name}),Object(k.jsxs)(T.a,{children:[Object(k.jsxs)(z.a,{className:e.colorBlack,gutterBottom:!0,variant:"h5",component:"h2",children:[t.name," - ",t.age]}),Object(k.jsx)(z.a,{variant:"body2",color:"textSecondary",component:"p",children:t.description?t.description:"From ".concat(t.location)})]})]}),Object(k.jsxs)(L.a,{className:e.btnContainer,children:[Object(k.jsx)(V.a,{size:"small",color:"primary",children:"Chat"}),Object(k.jsx)(V.a,{size:"small",color:"primary",children:"Dislike"})]}),Object(k.jsx)(V.a,{className:ke.a.btnStyle,onClick:function(){return e=t.id,h(c?-1:e),i(!c),void u("Show more"===l?"Show less":"Show more");var e},children:b===t.id?l:"Show more"})]},t.id)}))})}var _e=n(112),Me=n.n(_e),Ue=n(41),Be=n.n(Ue),Ae=n(226),Ee=Object(u.a)((function(e){return{head:{width:e.spacing(4),height:e.spacing(4),margin:e.spacing(1)},timestamp:{color:"gray",fontSize:"8px"}}}));function De(e){var t=e.users,n=Object(a.useState)(""),c=Object(s.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=(l[0],l[1],Ee());return Object(k.jsx)(p.a,{children:Object(k.jsxs)("div",{className:Be.a.chatContainer,children:[Object(k.jsx)("div",{className:Be.a.profilesInChat,children:Object(k.jsx)("div",{className:Be.a.innerDivChat,children:t.map((function(e){return Object(k.jsxs)("span",{className:Be.a.missedMsg,onClick:function(e){return function(e){console.log(e.target),"active"===e.target.className?e.target.className="":e.target.className="active",console.log(e.target)}(e)},children:[Object(k.jsx)(Ae.a,{className:u.head,alt:e.name,src:e.url}),e.name]},e.id)}))})}),Object(k.jsxs)("main",{className:Be.a.chat,children:[Object(k.jsx)("div",{className:Be.a.messageContainer,children:t.map((function(e){return Object(k.jsxs)("div",{className:["".concat(Be.a.message," ").concat(Be.a.received)],children:[Object(k.jsx)(Ae.a,{className:u.head,alt:e.name,src:e.url}),Object(k.jsx)("p",{children:"dsfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"}),Object(k.jsx)("span",{children:"12:30pm"})]},e.id)}))}),Object(k.jsxs)("form",{className:Be.a.chatForm,onSubmit:function(){return console.log("cuknaha me")},children:[Object(k.jsx)("input",{value:i,onChange:function(e){return r(e.target.value)},placeholder:"say something nice"}),Object(k.jsx)("button",{type:"submit",disabled:!i,children:"\ud83d\udc95"})]})]})]})})}var Pe=function(){var e=Object(C.b)(),t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],i=n[1],r=Object(C.c)((function(e){return e.currentUser}));return console.log("Kolko puti se rendnah?!?!?"),Object(a.useEffect)((function(){y.onAuthStateChanged((function(t){t?(v.collection("users").doc(t.uid).get().then((function(t){e({type:"userLoggedIn",payload:t.data()})})),console.log("ima lognat ")):(e({type:"userLoggedOut"}),console.log("nqma lognat uj..."))}))}),[]),Object(a.useEffect)((function(){v.collection("users").onSnapshot((function(t){var n=[];t.forEach((function(e){n.push(e.data())})),console.log("Tuk otnovo setvame users ot App.jsx: ",n),e({type:"getAllUsers",payload:n})}))}),[]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(p.a,{}),Object(k.jsx)("header",{children:Object(k.jsx)(I,{user:r})}),Object(k.jsx)("main",{className:"App",children:Object(k.jsxs)(l.d,{children:[Object(k.jsx)(l.b,{exact:!0,path:"/",children:r?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(Y,{})}):Object(k.jsx)(l.a,{to:"/login"})}),Object(k.jsx)(l.b,{exact:!0,path:"/login",children:r?Object(k.jsx)("div",{children:Object(k.jsx)(l.a,{to:"/"})}):Object(k.jsx)(ve,{})}),Object(k.jsx)(l.b,{exact:!0,path:"/register",children:r?Object(k.jsx)("div",{children:Object(k.jsx)(l.a,{to:"/"})}):Object(k.jsx)(pe,{})}),Object(k.jsx)(l.b,{exact:!0,path:"/matches",children:Object(k.jsx)(Ie,{})}),Object(k.jsx)(l.b,Object(o.a)({path:"/matches/:id",children:Object(k.jsx)(Ce,{})},"children",Object(k.jsx)(Ce,{}))),Object(k.jsx)(l.b,{exact:!0,path:"/profile",children:r?Object(k.jsx)(de,{}):Object(k.jsx)(l.a,{to:"/profile"})}),Object(k.jsx)(l.b,{path:"*",children:Object(k.jsx)(l.a,{to:"/"})})]})}),c&&Object(k.jsx)(De,{}),r&&Object(k.jsx)(Me.a,{fontSize:"large",className:"chatIcon",onClick:function(){i(!c)}})]})},Fe=(n(155),n(60)),Le=n(26),Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"userLoggedIn":return Object(Le.a)(Object(Le.a)({},e),{},{user:t.payload});case"userLoggedOut":return null;case"userChangedProfilePic":return Object(Le.a)(Object(Le.a)({},e),{},{user:Object(Le.a)(Object(Le.a)({},e.user),{},{images:t.payload})});case"userChangedAboutYou":return Object(Le.a)(Object(Le.a)({},e),{},{user:Object(Le.a)(Object(Le.a)({},e.user),{},{aboutYou:t.payload})});case"userChangedGender":return Object(Le.a)(Object(Le.a)({},e),{},{user:Object(Le.a)(Object(Le.a)({},e.user),{},{gender:t.payload})});default:return e}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"getAllUsers":return Object(Le.a)(Object(Le.a)({},e),{},{allUsers:t.payload});default:return e}},Ve=Object(Fe.b)({currentUser:Te,allUsers:We}),ze=Object(Fe.d)(Ve,Object(Fe.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));r.a.render(Object(k.jsx)(C.a,{store:ze,children:Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(O.a,{children:Object(k.jsx)(Pe,{})})})}),document.getElementById("root"))},41:function(e,t,n){e.exports={chatContainer:"Chat_chatContainer__EIVcp",profilesInChat:"Chat_profilesInChat__1b0GJ",innerDivChat:"Chat_innerDivChat__1tiQw",active:"Chat_active__1M-Oi",missedMsg:"Chat_missedMsg__2RkTA",chat:"Chat_chat__2m_BP",messageContainer:"Chat_messageContainer__1EKLz",chatForm:"Chat_chatForm__3DKZ9","sign-in":"Chat_sign-in__3iGNs",message:"Chat_message__Y278M",sent:"Chat_sent__3suxQ",received:"Chat_received__vZeoR",heads:"Chat_heads___BcZl"}}},[[156,1,2]]]);
//# sourceMappingURL=main.a6ea082d.chunk.js.map