{"version":3,"sources":["components/matches/Matches.module.css","firebase.js","components/menuAppBar/DINDER-LOGO.png","components/menuAppBar/MenuAppBar.js","components/homePage/AgeRangeSlider.js","components/homePage/GenderRadioButtons.js","components/homePage/HomePage.jsx","components/profile/imageUploader/index.jsx","components/profile/Profile.jsx","components/login-register/Register.js","components/login-register/Login.js","components/chosenMatch/ChosenMatch.jsx","components/chosenProfile/ChosenProfile.jsx","components/matches/Matches.jsx","components/chat/chatHead.jsx","components/chat/chatService.js","components/chat/Message.jsx","components/chat/Chat.jsx","components/app/App.jsx","components/homePage/homePage.reducer.js","components/login-register/login-register.reducer.js","components/users/users.reducer.js","components/chosenProfile/chosenProfile.reducer.js","redux/store.js","index.js","components/chat/Chat.module.css"],"names":["module","exports","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","storage","useStyles","makeStyles","theme","root","flexGrow","width","marginTop","fontFamily","logoPaper","margin","spacing","background","padding","minWidth","logo","appBar","zIndex","title","fontSize","menuIcon","linkMenuItem","textDecoration","outline","menu","MenuAppBar","classes","React","useState","anchorEl","setAnchorEl","dispatch","Boolean","useDispatch","user","useSelector","state","currentUser","className","CssBaseline","AppBar","elevation","Grid","container","justify","alignItems","item","xs","src","alt","aria-controls","aria-haspopup","onClick","event","currentTarget","id","keepMounted","open","onClose","MenuItem","component","Link","to","uid","signOut","then","type","catch","error","console","log","message","height","valueText","value","AgeRangeSlider","lowestAge","highestAge","setAgeRange","setValue","Typography","gutterBottom","replace","Slider","style","color","orientation","min","max","onChange","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","onChangeCommitted","GenderRadioButtons","setGenderValue","FormControl","FormLabel","RadioGroup","display","aria-label","name","target","FormControlLabel","control","Radio","label","HomePage","alreadyRemoved","users","allUsers","characters","setCharacters","isSwipeView","setIsSwipeView","childRefs","useMemo","Array","length","fill","map","i","createRef","age","sort","a","b","filter","isNaN","ageRange","genderValue","swipeAction","setSwipeAction","swipedUserName","setSwipedUserName","filterProfiles","allProfiles","tempFilteredUsers","liked","includes","disliked","matches","gender","useEffect","filteredUsers","outOfFrame","userId","updateProfileMatches","userOneId","userTwoId","collection","doc","update","FieldValue","arrayUnion","chatRoomDocId","set","messages","isTyping","createChatRoom","updateDataBase","payload","updateDB","arrProp","userIdToBeAdded","toLowerCase","get","data","swipe","dir","cardsLeft","person","toBeRemoved","index","indexOf","current","cardViewSwipe","usersToPrint","changeViewState","charactersLeft","swipedId","userNameToDisplay","find","Button","forEach","res","newMatches","matchId","delete","variant","ref","chatRoomsRef","href","rel","character","onSwipe","direction","swiped","onCardLeftScreen","backgroundImage","images","Card","window","localStorage","setItem","JSON","stringify","updateChosenProfile","CardActionArea","CardMedia","image","CardContent","split","CardActions","size","paper","position","backgroundColor","divImg","backgroundSize","backgroundRepeat","backgroundPosition","justifyContent","smallBtn","top","right","fontWeight","ImageUploaderContainer","imgUrl","replaceImgUrl","updateImages","imageError","setImageError","isLoading","setIsLoading","loaderProgress","setLoaderProgress","Paper","CircularProgress","accept","input","multiple","e","files","file","dotPossition","lastIndexOf","newFileName","slice","Date","now","uploadTask","child","put","on","snapshot","progress","bytesTransferred","totalBytes","TaskState","PAUSED","RUNNING","getDownloadURL","downloadURL","newImagesArr","err","handleUploadClick","htmlFor","Tooltip","arrow","TransitionComponent","Zoom","placement","Fab","borderBottomColor","borderBottom","button","formControl","CssTextField","withStyles","borderColor","TextField","Profile","userRef","aboutYou","setAboutYou","passionsFromDb","passions","join","setPassions","setGender","sexualOrientation","setOrientation","regionFromDb","country","countryFromDb","region","setRegion","allCountriesInARegion","setAllCountriesInARegion","livingIn","setLivingIn","userImages","setUserImages","jobTitle","setJobTitle","company","setCompany","collageOrUni","collegeOrUni","setCollegeOrUni","fetch","json","exists","imagesArraySet","setImagesArrLengthAndFill","imagesArr","url","replacedImageUrls","maxSize","resultArr","noValidate","autoComplete","wrap","marginBottom","multiline","rows","rowsMax","fullWidth","onBlur","placeholder","row","aria-flowto","radio","Select","labelId","InputLabel","disabled","alpha2Code","defaultProfilePicUrl","borderRadius","maxWidth","lineHeight","googleIcon","marginRight","CssOutlinedInput","border","OutlinedInput","Register","setCurrentUser","emailInput","setEmailInput","passInput","setPassInput","firstNameInput","setFirstNameInput","lastNameInput","setLastNameInput","ageInput","setAgeInput","isPassVisible","setIsPassVisible","firstNameError","setFirstNameError","lastNameError","setLastNameError","emailError","setEmailError","passwordError","setPasswordError","ageError","setAgeError","changeInput","field","validateName","test","changeAllErrorsState","firstNameErr","lastNameErr","emailErr","passwordErr","ageErr","validateForm","isEmailValid","createUserInDb","obj","Container","align","onSubmit","preventDefault","setPersistence","Auth","Persistence","LOCAL","createUserWithEmailAndPassword","fullName","userInDb","email","city","mediaProfiles","youtubeSong","chats","isOnline","autoFocus","aria-describedby","ev","trim","FormHelperText","endAdornment","InputAdornment","IconButton","onMouseDown","edge","Visibility","VisibilityOff","provider","GoogleAuthProvider","signInWithPopup","displayName","additionalUserInfo","profile","picture","createUpdateGoogleUserInDb","form","Login","signInWithEmailAndPassword","authToken","textAlign","textField","ChosenMatch","styles","chosenProfile","setImages","imagesToDisplay","renderOverlay","overlayBackgroundColor","ChosenProfile","flexColumn","flexDirection","boxShadow","expanded","left","media","colorBlack","btnContainer","Matches","removedFromHomePage","moreDetailsCardKey","setMoreDetailsCardKey","setMatches","allMatches","dislikeUser","updatedRemovedFromHomePage","currUserMatchesIds","currUserLikedProfilesIds","likedId","removedUserMatches","updatedUsers","selectedUserId","currentUserId","deleteChatRoom","btnStyle","head","timestamp","active","missed","ChatHead","selectTargetChat","chat","isActive","targetUserId","targetUser","currentChat","setCurrentChat","hasMissedMessages","setHasMissedMessages","lastMessageSender","sender","borderRight","Avatar","messageStyle","userImage","chatClasses","createdAt","toDateString","Chat","formValue","setFormValue","allChats","setAllChats","targetChatId","setTargetChatId","selectedChatUsername","setSelectedChatUsername","dummyDiv","useRef","where","onSnapshot","snapShot","tempAllChats","unshift","push","sortedByTimeChats","lastMessageTimestamp","scrollIntoView","behavior","block","inline","sendMessage","chatId","findIndex","chatContainer","profilesInChat","innerDivChat","messageContainer","chatForm","bottom","App","isChatOpened","setIsChatOpened","onAuthStateChanged","element","choseUser","parse","getItem","exact","path","tooltip","initialState","homePageReducer","action","userReducer","allUsersReducer","chosenProfileReducer","rootReducer","combineReducers","store","createStore","compose","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d6e1173.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnStyle\":\"Matches_btnStyle__1K_MD\"};","import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.firestore();\r\nconst storage = firebase.storage();\r\nconst auth = firebase.auth();\r\n\r\nexport { db, storage, auth };\r\nexport default firebase;","export default __webpack_public_path__ + \"static/media/DINDER-LOGO.9a4493a1.png\";","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { Link } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { auth } from '../../firebase';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n\r\nimport logo from './DINDER-LOGO.png'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    marginTop: '50px',\r\n    fontFamily: 'Nunito',\r\n  },\r\n  logoPaper: {\r\n    margin: `${theme.spacing(1)}px auto`,\r\n    background: 'rgba(255,255,255,0.3)',\r\n    padding: '0 10px',\r\n    minWidth: '120px',\r\n  },\r\n  logo: {\r\n    width: '100px',\r\n  },\r\n  appBar: {\r\n    zIndex: '1',\r\n    background: 'none',\r\n    padding: `0 ${theme.spacing(3)}px`,\r\n    marginTop: 10,\r\n  },\r\n  title: {\r\n    fontSize: '3rem',\r\n  },\r\n  menuIcon: {\r\n    fontSize: '35px',\r\n  },\r\n  '& ul': {\r\n    padding: '40 !important',\r\n  },\r\n  linkMenuItem: {\r\n    textDecoration: 'none !important',\r\n    '&:focus':{\r\n      outline: 'none !important',\r\n    }\r\n  },\r\n  menu: {\r\n    '& div ul.MuiList-padding': {\r\n    }\r\n  },\r\n}));\r\n\r\nexport default function MenuAppBar() {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(state => state.currentUser);\r\n\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const logout = () => {\r\n    auth.signOut()\r\n    .then(dispatch({type: 'userLoggedOut'}))\r\n    .catch(error => console.log(error.message))\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar elevation={0} className={classes.appBar}>\r\n        <Grid\r\n          container\r\n          justify='space-between'\r\n          alignItems='center'\r\n        >\r\n          <Grid item xs={1}>\r\n              <img src={logo} className={classes.logo} alt='logo'></img>\r\n          </Grid>\r\n          <Grid>\r\n            <MenuIcon className={classes.menuIcon} aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleMenu} />\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n              className={classes.menu}\r\n            >\r\n              <MenuItem component={Link} className={classes.linkMenuItem} to='/'>Home</MenuItem>\r\n              {\r\n                user.uid ?\r\n                  <div>\r\n                    <MenuItem component={Link} className={classes.linkMenuItem} to='/matches'>Matches</MenuItem>\r\n                    <MenuItem component={Link} className={classes.linkMenuItem} to='/profile'>Profile</MenuItem>\r\n                    <MenuItem component={Link} className={classes.linkMenuItem} to='/' onClick={() => {logout()}} >Logout</MenuItem>\r\n                  </div>\r\n                  :\r\n                  <div>\r\n                    <MenuItem component={Link} className={classes.linkMenuItem} to='/register'>Register</MenuItem>\r\n                    <MenuItem component={Link} className={classes.linkMenuItem} to='/login'>Login</MenuItem>\r\n                  </div>\r\n              }\r\n            </Menu>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        height: 200,\r\n    },\r\n});\r\n\r\nfunction valueText(value) {\r\n    return `Age range: ${value}`;\r\n}\r\n\r\nexport default function AgeRangeSlider({ lowestAge, highestAge, setAgeRange }) {\r\n    const classes = useStyles();\r\n    const [value, setValue] = useState([lowestAge, highestAge]);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Typography id=\"range-slider\" gutterBottom>\r\n                {valueText(value).replace(',', ' - ')}\r\n            </Typography>\r\n            <Slider\r\n                style={{color: 'white'}}\r\n                orientation=\"vertical\"\r\n                min={lowestAge}\r\n                max={highestAge}\r\n                value={value}\r\n                onChange={handleChange}\r\n                valueLabelDisplay=\"auto\"\r\n                aria-labelledby=\"range-slider\"\r\n                getAriaValueText={() => valueText}\r\n                onChangeCommitted={() => setAgeRange(value)}\r\n            />\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default function GenderRadioButtons({setGenderValue}) {\r\n  const useStyles = makeStyles({\r\n    root: {\r\n      '& legend':{\r\n        color: 'white',\r\n      },\r\n    },\r\n  });\r\n\r\n  const [value, setValue] = React.useState('all');\r\n\r\n  const handleChange = (event) => {\r\n    setValue(event.target.value);\r\n    setGenderValue(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <FormControl component=\"fieldset\">\r\n      <FormLabel component=\"legend\">Gender</FormLabel>\r\n      <RadioGroup display=\"flex\" aria-label=\"gender\" name=\"gender1\" value={value} onChange={handleChange}>\r\n        <FormControlLabel value=\"female\" control={<Radio color=\"secondary\"/>} label=\"Female\" />\r\n        <FormControlLabel value=\"male\" control={<Radio color=\"primary\"/>} label=\"Male\" />\r\n        <FormControlLabel value=\"other\" control={<Radio color=\"default\"/>} label=\"Other\" />\r\n        <FormControlLabel value=\"all\" control={<Radio color=\"default\"/>} label=\"All\" />\r\n      </RadioGroup>\r\n    </FormControl>\r\n  );\r\n}","import { Link } from \"react-router-dom\";\r\nimport React, { useState, useMemo, useEffect } from 'react';\r\nimport TinderCard from 'react-tinder-card';\r\nimport './HomePage.css';\r\nimport TouchAppIcon from '@material-ui/icons/TouchApp';\r\nimport ViewModuleIcon from '@material-ui/icons/ViewModule';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport firebase, { db } from '../../firebase';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AgeRangeSlider from './AgeRangeSlider';\r\nimport GenderRadioButtons from './GenderRadioButtons'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: 300,\r\n  },\r\n});\r\n\r\nexport default function HomePage () {\r\n  const dispatch = useDispatch();\r\n  const alreadyRemoved = useSelector(state => state.alreadyRemoved);\r\n  const currentUser = useSelector(state => state.currentUser);\r\n  const users = useSelector(state => state.allUsers);\r\n  const [characters, setCharacters] = useState([]);\r\n  const [isSwipeView, setIsSwipeView] = useState(true);\r\n  const childRefs = useMemo(() => Array(characters.length).fill(0).map(i => React.createRef()), [characters.length]); \r\n  const lowestAge = users.map(user => +user.age).sort((a, b) => a - b).filter(age => !isNaN(age))[0];\r\n  const highestAge = users.map(user => +user.age).sort((a, b) => b - a).filter(age => !isNaN(age))[0];\r\n  const [ageRange, setAgeRange] = useState([lowestAge, highestAge]);\r\n  const [genderValue, setGenderValue] = useState('all');\r\n  const [swipeAction, setSwipeAction] = useState('');\r\n  const [swipedUserName, setSwipedUserName] = useState('');\r\n\r\n  useEffect(() => {\r\n    const filteredUsers = filterProfiles(users);\r\n    setCharacters(filteredUsers);\r\n  }, [ageRange, genderValue])\r\n\r\n  function setCharactersAfterFiltering(usersToFilter) {\r\n    const filteredUsers = filterProfiles(users);\r\n      setCharacters(filteredUsers);\r\n  }\r\n  \r\n  function filterProfiles (allProfiles) {\r\n    const tempFilteredUsers =  allProfiles.filter(user => !currentUser.liked.includes(user.uid) && !currentUser.disliked.includes(user.uid) && !currentUser.matches.includes(user.uid) && currentUser.uid !== user.uid)\r\n    let filteredUsers = [];\r\n\r\n    if(genderValue === 'all') {\r\n      filteredUsers = tempFilteredUsers.filter(user => user.age >= ageRange[0] && user.age <= ageRange[1]);\r\n    } else {\r\n      filteredUsers = tempFilteredUsers.filter(user => user.age >= ageRange[0] && user.age <= ageRange[1] && user.gender === genderValue);\r\n    }\r\n    return filteredUsers;\r\n  }\r\n\r\n  const swiped = (direction, userIdToBeAdded) => {\r\n    let arrProp = '';\r\n    let swipeAction = '';\r\n    switch(direction){\r\n      case 'left' :\r\n        arrProp = 'Disliked';\r\n        swipeAction = 'disliked';\r\n      break;\r\n      case 'right' :\r\n        arrProp = 'Liked';\r\n        swipeAction = 'liked';\r\n      break;\r\n      case 'up' :\r\n        arrProp = 'Matches';\r\n        swipeAction = 'matched';\r\n      break;\r\n      case 'down' : \r\n        arrProp = 'Disliked';\r\n        swipeAction = 'disliked';\r\n      break;\r\n      default: break;\r\n    }\r\n    updateDB(arrProp, userIdToBeAdded);\r\n    setSwipeAction(swipeAction);\r\n    dispatch({type: 'addToRemoved', payload: userIdToBeAdded})\r\n  }\r\n\r\n  const outOfFrame = (userId) => {\r\n    console.log(userId + ' left the screen!!@#@!$!%@!$%#@^&#%&*@!$&^');\r\n  }\r\n\r\n  const updateProfileMatches = (userOneId, userTwoId) => {\r\n    db.collection('users').doc(userOneId).update({\r\n      matches: firebase.firestore.FieldValue.arrayUnion(userTwoId),\r\n    })\r\n\r\n    createChatRoom(userOneId, userTwoId);\r\n\r\n    db.collection('users').doc(userTwoId).update({\r\n      matches: firebase.firestore.FieldValue.arrayUnion(userOneId),\r\n    }).then(() => {\r\n      let updatedUsers = users.map(user => {\r\n        if (user.uid === userTwoId) {\r\n          user.matches = [...user.matches, userOneId];\r\n        }\r\n        return user;\r\n      });\r\n      updateDataBase( 'getAllUsers', updatedUsers);\r\n      updateDataBase( 'userAddedToMatches', userTwoId);\r\n    })\r\n  }\r\n  // To be moved to Service file:\r\n  function createChatRoom(userOneId, userTwoId) {\r\n    const chatRoomDocId = userOneId > userTwoId ? `${userTwoId}_${userOneId}` : `${userOneId}_${userTwoId}`;\r\n    db.collection('chatRooms').doc(chatRoomDocId).set({\r\n      messages: [],\r\n      users: [userOneId, userTwoId],\r\n      isTyping: false, \r\n    })\r\n      .then(() => console.log(\"Successfully created chatRoom with users: \", [userOneId, userTwoId]))\r\n      .catch((error) => console.log(\"Error on chatRoom creation: \", error.message))\r\n  }\r\n\r\n  function updateDataBase(type, payload) {\r\n    dispatch({ type: type, payload: payload});\r\n  }\r\n\r\n  const updateDB = (arrProp, userIdToBeAdded) => {\r\n    \r\n    console.log('arrProp', arrProp)\r\n\r\n    arrProp !== 'Matches' && db.collection('users').doc(currentUser.uid).update({\r\n      [arrProp.toLowerCase()]: firebase.firestore.FieldValue.arrayUnion(userIdToBeAdded),\r\n    }).then(() => {\r\n      updateDataBase(`userAddedTo${arrProp}`, userIdToBeAdded)\r\n    }).catch((error) => {\r\n      console.error(\"Error updating document: \", error);\r\n    });\r\n\r\n    outOfFrame(userIdToBeAdded)\r\n\r\n    arrProp === 'Liked' && db.collection('users').doc(userIdToBeAdded).get()\r\n      .then(doc => {\r\n        if (doc.data().liked.includes(currentUser.uid)) {\r\n          updateProfileMatches(currentUser.uid, userIdToBeAdded)\r\n        }\r\n      })\r\n    arrProp === 'Matches' && updateProfileMatches(currentUser.uid, userIdToBeAdded)\r\n  }\r\n\r\n  const swipe = (dir) => {\r\n    const cardsLeft = characters.filter(person => !alreadyRemoved.includes(person.uid));\r\n    if (cardsLeft.length) {\r\n      const toBeRemoved = cardsLeft[cardsLeft.length - 1].uid;\r\n      const index = characters.map(person => person.uid).indexOf(toBeRemoved);\r\n      childRefs[index].current.swipe(dir);\r\n    }\r\n  }\r\n\r\n  const cardViewSwipe = (arrProp, userIdToBeAdded) => {\r\n    db.collection('users').doc(currentUser.uid).update({\r\n      [arrProp.toLowerCase()]: [...currentUser[arrProp.toLowerCase()], userIdToBeAdded],\r\n    }).then(() => {\r\n      const currentUserNewState = {\r\n        ...currentUser,\r\n        [arrProp.toLowerCase()]: [...currentUser[arrProp.toLowerCase()], userIdToBeAdded],\r\n      }\r\n      updateDataBase('userLoggedIn', currentUserNewState)\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error updating document: \", error);\r\n    });\r\n\r\n    arrProp === 'Liked' && db.collection('users').doc(userIdToBeAdded).get()\r\n      .then(doc => {\r\n        if (doc.data().liked.includes(currentUser.uid)) {\r\n          updateProfileMatches(currentUser.uid, userIdToBeAdded)\r\n        }\r\n      })\r\n    arrProp === 'Matches' && db.collection('users').doc(userIdToBeAdded).get()\r\n      .then(() => {\r\n        updateProfileMatches(currentUser.uid, userIdToBeAdded)\r\n      })\r\n      const usersToPrint = filterProfiles(users).filter(user => user.uid !== userIdToBeAdded);\r\n\r\n      setCharacters(usersToPrint);\r\n  }\r\n\r\n  const resetCurrentUser = () => {\r\n    const currentUserMatches = currentUser.matches;\r\n    currentUserMatches.forEach(userId => {\r\n      db.collection('users').doc(userId).get()\r\n        .then(res => {\r\n          let newMatches = res.data().matches.filter(matchId => matchId !== currentUser.uid);\r\n          db.collection('users').doc(userId).update({\r\n            matches: newMatches,\r\n          })\r\n        })\r\n    })\r\n\r\n    db.collection('users').doc(currentUser.uid).update({\r\n      liked: [],\r\n      disliked: [],\r\n      matches: [],\r\n    }).then(() => {\r\n      dispatch({ type: 'userLoggedIn', payload: {...currentUser, liked: [], disliked: [], matches: []} })\r\n      console.log('Successfully reset currentUser: ', currentUser)\r\n    })\r\n    db.collection('chatRooms').get()\r\n    .then(res => res.forEach(doc => {\r\n      if(doc.id.includes(currentUser.uid)) {\r\n        db.collection('chatRooms').doc(doc.id).delete()\r\n          .then(() => console.log('Successfully deleted the chatRooms for user: ', currentUser))\r\n      }\r\n    }))\r\n\r\n    // TODO: Make the characters reset here!!!\r\n\r\n    // dispatch({type: 'setRemoved', payload: []})\r\n    // setCharacters(users);\r\n    // console.log(users);\r\n  }\r\n\r\n  const resetAllUser = () => {\r\n    db.collection('users').get()\r\n    .then(res => res.forEach(doc => {\r\n      doc.ref.update({\r\n        liked: [],\r\n        disliked: [],\r\n        matches: [],\r\n      })\r\n    }))\r\n    .then(() => {\r\n      \r\n      dispatch({ type: 'getAllUsers', payload: users.map(user => user.matches = []) });\r\n      setCharacters(users);\r\n    })\r\n    // Here we are deleting ALL chats\r\n    let chatRoomsRef = db.collection('chatRooms');\r\n    chatRoomsRef.get()\r\n      .then(res => res.forEach(doc => chatRoomsRef.doc(doc.id).delete()));\r\n  }\r\n\r\n  const changeViewState = () => {\r\n    const filteredUsers = filterProfiles (users, currentUser)\r\n    const charactersLeft = filteredUsers.filter(userId => !alreadyRemoved.includes(userId))\r\n\r\n    setCharacters(charactersLeft);\r\n    setIsSwipeView(!isSwipeView);\r\n  }\r\n\r\n  const updateChosenProfile = (user) => {\r\n    dispatch({type: 'setChosenProfile', payload: user});\r\n    window.localStorage.setItem('chosenProfile', JSON.stringify(user));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(alreadyRemoved.length > 0) {\r\n      const swipedId = alreadyRemoved[alreadyRemoved.length - 1]\r\n      const userNameToDisplay = users.find(user => user.uid === swipedId).name;\r\n      setSwipedUserName(userNameToDisplay);\r\n    }\r\n  }, [alreadyRemoved])\r\n\r\n  return (\r\n    <div style={{minWidth: '450px', color: 'white'}}>\r\n      <Button onClick={resetCurrentUser} variant='contained' className={'resetButton'}>Reset currentUser</Button>\r\n      <Button onClick={resetAllUser} variant='contained' className={'resetButton'}>Reset all users</Button>\r\n      {isSwipeView ? (\r\n        <div style={{width: '85%', margin: '0 auto', zIndex: '2'}}>\r\n          <ViewModuleIcon onClick={changeViewState} fontSize='large' style={{marginTop: '20px'}} />\r\n          <link href='https://fonts.googleapis.com/css?family=Damion&display=swap' rel='stylesheet' />\r\n          <link href='https://fonts.googleapis.com/css?family=Alatsi&display=swap' rel='stylesheet' />\r\n          <h1 className={'homeTitle'}>React Tinder Card</h1>\r\n          <div className='cardContainer'>\r\n            {characters.map((character, index) =>\r\n              <TinderCard ref={childRefs[index]} className='swipe' key={character.uid} onSwipe={(dir) => {\r\n                swiped(dir, character.uid, character.name);\r\n                }} onCardLeftScreen={() => outOfFrame(character.uid)}>\r\n                <div style={{ backgroundImage: 'url(' + (character.images[0] || 'https://firebasestorage.googleapis.com/v0/b/fir-project-d9b09.appspot.com/o/profilePics%2Fdefault-profile-pic.jpg?alt=media&token=12bd0268-84bd-47ee-9bf7-5ca4269f87d5') + ')' }} className='card'>\r\n                  <h3>{character.name}</h3>\r\n                </div>\r\n              </TinderCard>\r\n            )}\r\n          </div>\r\n          <div className='buttons'>\r\n            <button onClick={() => swipe('left')}>Swipe left!</button>\r\n            <button onClick={() => swipe('right')}>Swipe right!</button>\r\n          </div>\r\n          {swipeAction ? <h3 key={swipeAction} className='infoText'>You {swipeAction} {swipedUserName}!</h3> : <h3 className='infoText'>Swipe a card or press a button to get started!</h3>}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <div className='filtersContainer'>\r\n            <GenderRadioButtons setGenderValue={setGenderValue}/>\r\n            <AgeRangeSlider lowestAge={lowestAge} highestAge={highestAge} setAgeRange={setAgeRange}/>\r\n          </div> \r\n          <TouchAppIcon onClick={changeViewState} fontSize='large' style={{marginTop: '20px', zIndex: '2'}} />\r\n          <div className=\"cardViewWrapper\">\r\n            <div className=\"containerCardView\">\r\n              {characters.map((user) =>\r\n                <Card elevation={20} className=\"root\" key={user.uid} onClick={() => updateChosenProfile(user)}>\r\n                  <CardActionArea component={Link} to={'/chosenProfile/' + user.uid}>\r\n                    <CardMedia\r\n                      className=\"media\"\r\n                      image={user.images[0] || 'https://firebasestorage.googleapis.com/v0/b/fir-project-d9b09.appspot.com/o/profilePics%2Fdefault-profile-pic.jpg?alt=media&token=12bd0268-84bd-47ee-9bf7-5ca4269f87d5'}\r\n                      title={user.name}\r\n                    />\r\n                    <CardContent>\r\n                      <Typography className=\"colorBlack\" gutterBottom variant=\"h5\" component=\"h2\">\r\n                        {user.name.split(' ')[0]} {user.age}\r\n                      </Typography>\r\n                    </CardContent>\r\n                  </CardActionArea>\r\n                  <CardActions className=\"btnContainer\">\r\n                    <Button size=\"small\" color=\"primary\" onClick={() => cardViewSwipe('Disliked', user.uid)}>\r\n                    Dislike\r\n                    </Button>\r\n                    <Button size=\"small\" color=\"primary\" onClick={() => cardViewSwipe('Liked', user.uid)}>\r\n                    Like\r\n                    </Button>\r\n                  </CardActions>\r\n                </Card>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}","import { useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport firebase from '../../../firebase';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        position: 'relative',\r\n        height: '200px',\r\n        width: '130px',\r\n        margin: '13px 13px',\r\n        backgroundColor: 'rgba(255,255,255,0.5)',\r\n        '& .MuiFab-root:hover': {\r\n            backgroundColor: '#e66465',\r\n            '& .MuiSvgIcon-root': {\r\n                color: 'rgb(225,225,225)'\r\n            },\r\n        },\r\n        '& input': {\r\n            display: 'none'\r\n        }\r\n    },\r\n    divImg: {\r\n        height: '100%',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    smallBtn: {\r\n        position: 'absolute',\r\n        top: '-20px',\r\n        right: '-20px',\r\n        width: '40px',\r\n        height: '40px',\r\n        '& .MuiSvgIcon-root': {\r\n            width: '25px'\r\n        },\r\n        color: '#e66465',\r\n        background: 'rgb(225,225,225)',\r\n    },\r\n    error: {\r\n        color: 'red',\r\n        width: '90%',\r\n        fontWeight: 'bold',\r\n        backgroundColor: 'rgba(255,255,255,0.8)',\r\n    }\r\n}));\r\n\r\nconst ImageUploaderContainer = ({ id, userId, imgUrl, replaceImgUrl, updateImages }) => {\r\n    const classes = useStyles();\r\n    const [imageError, setImageError] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [loaderProgress, setLoaderProgress] = useState(null);\r\n\r\n\r\n    const handleUploadClick = (e) => {\r\n\r\n        const data = e.target;\r\n        if (data.files && data.files[0]) {\r\n            let file = data.files[0];\r\n\r\n            if (file.size > 6123456){\r\n                setImageError('Image must be less then 6Mb!');\r\n                return;\r\n            }\r\n            setIsLoading(true);\r\n            setImageError('');\r\n\r\n            let dotPossition = file.name.lastIndexOf('.');\r\n            let newFileName = file.name.slice(0, dotPossition) + Date.now();\r\n            console.log(newFileName);\r\n\r\n            const storageRef = firebase.storage().ref();\r\n            const uploadTask = storageRef.child(`${userId}/${newFileName}`).put(file);\r\n            \r\n            uploadTask.on('state_changed',\r\n                (snapshot) => {\r\n                    var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                    setLoaderProgress(progress);\r\n\r\n                    // eslint-disable-next-line default-case\r\n                    switch (snapshot.state) {\r\n                        case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n                            console.log('Upload is paused');\r\n                            break;\r\n                        case firebase.storage.TaskState.RUNNING: // or 'running'\r\n                            console.log('Upload is running');\r\n                            break;\r\n                    }\r\n                },\r\n                (error) => {\r\n                    console.log('An error occurred on image upload ', error.message);\r\n                },\r\n                () => {\r\n                    // Handle successful uploads on complete\r\n                    uploadTask.snapshot.ref.getDownloadURL()\r\n                    .then((downloadURL) => {\r\n                        console.log('File available at', downloadURL);\r\n                        const newImagesArr = async () => await replaceImgUrl(id, downloadURL);\r\n                        newImagesArr().then((images) => updateImages(images));\r\n                        setIsLoading(false);\r\n                    })\r\n                    .catch(err => console.log('Error while uploading the image: ', err.message));\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Paper elevation={6} className={classes.paper}>\r\n                <div className={classes.divImg} style={{backgroundImage: `url(${imgUrl})`}}>\r\n                    {imageError ? <span className={classes.error}>{imageError}</span> : null}\r\n                    {isLoading ? <CircularProgress variant=\"determinate\" value={loaderProgress} /> : null}\r\n                </div>\r\n                <input\r\n                    accept=\"image/*\"\r\n                    className={classes.input}\r\n                    id={`contained-button-file-${id}`}\r\n                    multiple={false}\r\n                    type=\"file\"\r\n                    onChange={e => handleUploadClick(e)}\r\n                />\r\n                <label htmlFor={`contained-button-file-${id}`}>\r\n                    <Tooltip title=\"Add Photo\" arrow TransitionComponent={Zoom} placement='right'>\r\n                        <Fab component=\"div\" className={classes.smallBtn}>\r\n                            <AddPhotoAlternateIcon />\r\n                        </Fab>\r\n                    </Tooltip>\r\n                </label>\r\n            </Paper>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ImageUploaderContainer;","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport ImageUploaderContainer from './imageUploader';\r\n\r\nimport { db } from '../../firebase';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        width: '40vw',\r\n        minWidth: '400px',\r\n        margin: '0 auto',\r\n        '& .MuiSvgIcon-root.MuiSelect-icon ': {\r\n            color: 'white'\r\n        },\r\n        '& .MuiInput-underline:hover:not(.Mui-disabled):before': {\r\n            borderBottomColor: 'white'\r\n        },\r\n        '& .MuiInput-underline.Mui-disabled:before': {\r\n            borderBottom: '1px solid rgb(205,205,205)'\r\n        },\r\n        '& .MuiInput-underline:before': {\r\n            borderBottomColor: 'white',\r\n        },\r\n        '&:hover': {\r\n            borderBottomColor: 'red'\r\n        },\r\n        '& input.MuiInputBase-input.MuiInput-input': {\r\n            color: 'white',\r\n        },\r\n        '& div.MuiSelect-select.MuiSelect-selectMenu.MuiInputBase-input.MuiInput-input': {\r\n            color: 'white',\r\n        },\r\n    },\r\n    paper: {\r\n        margin: '5px 0',\r\n        background: 'none',\r\n        color: 'white',\r\n    },\r\n    item: {\r\n        width: '100%',\r\n        margin: '20px 0',\r\n    },\r\n    button: {\r\n        color: '#e66465',\r\n        background: '#9198e5',\r\n    },\r\n    input: {\r\n        display: 'none',\r\n        color: 'white',\r\n        '& .MuiInputBase-input': {\r\n            color: 'white',\r\n        },\r\n    },\r\n    formControl: {\r\n        '& .MuiSelect-select:focus': {\r\n            background: 'none', // rgba(255, 255,\t255, 0.3)\r\n        },\r\n        minWidth: '250px',\r\n        margin: 0,\r\n    },\r\n\r\n});\r\n\r\nconst CssTextField = withStyles({\r\n    root: {\r\n        '& label': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& label.Mui-focused': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& .MuiInput-underline:before': {\r\n            borderBottomColor: 'white'\r\n        },\r\n        '& .MuiInput-underline:after': {\r\n            borderBottomColor: '#1976d2',\r\n        },\r\n        '& .MuiOutlinedInput-root': {\r\n            color: 'rgb(225, 225, 225)',\r\n            // fontFamily: 'Nunito',\r\n            '& fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n            '&:hover fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n        },\r\n    },\r\n})(TextField);\r\n\r\nconst Profile = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const user = useSelector(state => state.currentUser);\r\n\r\n    const userRef = db.collection('users').doc(user.uid);\r\n\r\n    const classes = useStyles();\r\n    const numberOfImageContainers = 6;\r\n\r\n    const [aboutYou, setAboutYou] = useState(user.aboutYou);\r\n    const passionsFromDb = user.passions.join(', ');\r\n    const [passions, setPassions] = useState(passionsFromDb);\r\n    const [gender, setGender] = useState(user.gender);\r\n    const [orientation, setOrientation] = useState(user.sexualOrientation);\r\n    const regionFromDb = user.country.split(' ')[0];\r\n    const countryFromDb = user.country.split(' ')[1];\r\n    const [region, setRegion] = useState(regionFromDb);\r\n    const [allCountriesInARegion, setAllCountriesInARegion] = useState([]);\r\n    const [livingIn, setLivingIn] = useState(countryFromDb);\r\n    const [userImages, setUserImages] = useState([]);\r\n    const [jobTitle, setJobTitle] = useState(user.jobTitle);\r\n    const [company, setCompany] = useState(user.company);\r\n    const [collegeOrUni, setCollegeOrUni] = useState(user.collageOrUni);\r\n\r\n    useEffect(() => {\r\n        region && fetch(`https://restcountries.eu/rest/v2/region/` + region)\r\n            .then(res => res.json())\r\n            .then(res => setAllCountriesInARegion(res))\r\n            .catch(err => console.log(err))\r\n    }, [region]);\r\n\r\n    useEffect(() => {\r\n        const docRef = db.collection('users').doc(`${user.uid}`);\r\n        docRef.get().then((doc) => {\r\n            if (doc.exists) {\r\n\r\n                const imagesArraySet = setImagesArrLengthAndFill(doc.data().images, numberOfImageContainers);\r\n\r\n                setUserImages(imagesArraySet)\r\n            } else {\r\n                // doc.data() will be undefined in this case\r\n            }\r\n        }).catch((error) => {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n    }, []);\r\n\r\n    const handleAboutYouChange = (e) => {\r\n        setAboutYou(e.target.value);\r\n    }\r\n    const handleAboutYou = (e) => {\r\n        if (user.aboutYou !== aboutYou) {\r\n\r\n            userRef.update({ aboutYou: e.target.value })\r\n                .then(() => {\r\n                    console.log('Updated successfully');\r\n                    dispatch({\r\n                        type: 'userChangedAboutYou',\r\n                        payload: e.target.value\r\n                    });\r\n\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error updating', error);\r\n                })\r\n        }\r\n    }\r\n\r\n    const handlePassionsChange = e => {\r\n        setPassions(e.target.value);\r\n    }\r\n\r\n    const handlePassions = (e) => {\r\n        let value = passions.split(', ');\r\n        if (user.passions.join(', ') !== value) {\r\n            userRef.update({ passions: value })\r\n                .then(() => {\r\n                    console.log('Updated successfully')\r\n                    dispatch({\r\n                        type: 'userChangedPassions',\r\n                        payload: value\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error updating', error);\r\n                })\r\n        }\r\n    }\r\n\r\n    const handleGenderChange = e => {\r\n        setGender(e.target.value);\r\n        userRef.update({ gender: e.target.value })\r\n            .then(() => {\r\n                console.log('updated successfully');\r\n                dispatch({\r\n                    type: 'userChangedGender',\r\n                    payload: e.target.value\r\n                })\r\n            })\r\n            .catch(error => {\r\n                console.log('Error updating', error);\r\n            })\r\n    }\r\n\r\n    const handleOrientationChange = e => {\r\n        setOrientation(e.target.value);\r\n        userRef.update({ sexualOrientation: e.target.value })\r\n            .then(() => {\r\n                console.log('updated successfully');\r\n                dispatch({\r\n                    type: 'userChangedOrientation',\r\n                    payload: e.target.value\r\n                })\r\n            })\r\n            .catch(error => {\r\n                console.log('Error updating', error);\r\n            })\r\n\r\n    }\r\n\r\n    const handleLivingInChange = e => {\r\n        setLivingIn(e.target.value);\r\n        userRef.update({ country: `${region} ${e.target.value}` })\r\n            .then(() => {\r\n                console.log('updated successfully');\r\n                dispatch({\r\n                    type: 'userChangedLivingIn',\r\n                    payload: `${region} ${e.target.value}`\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log('Error updating', error);\r\n            })\r\n    }\r\n    const handleRegion = (e) => {\r\n        setRegion(e.target.value);\r\n    }\r\n\r\n    const handleJobTitleChange = (e) => {\r\n        setJobTitle(e.target.value);\r\n    }\r\n\r\n    const handleJobTitle = (e) => {\r\n        if (user.jobTitle !== e.target.value) {\r\n            userRef.update({ jobTitle: e.target.value })\r\n                .then(() => {\r\n                    console.log('Updated successfully');\r\n                    dispatch({\r\n                        type: 'userChangedJobTitle',\r\n                        payload: e.target.value\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error updating', error);\r\n                })\r\n        }\r\n    }\r\n\r\n    const handleCompanyChange = (e) => {\r\n        setCompany(e.target.value);\r\n    }\r\n    const handleCompany = (e) => {\r\n        if (user.company !== e.target.value) {\r\n            userRef.update({ company: e.target.value })\r\n                .then(() => {\r\n                    console.log('Updated successfully');\r\n                    dispatch({\r\n                        type: 'userChangedCompany',\r\n                        payload: e.target.value\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error updating', error);\r\n                })\r\n        }\r\n    }\r\n    const handleCollegeOrUniChange = (e) => {\r\n        setCollegeOrUni(e.target.value);\r\n    }\r\n    const handleCollegeOrUni = (e) => {\r\n        if (user.collageOrUni !== e.target.value) {\r\n            userRef.update({ collageOrUni: e.target.value })\r\n                .then(() => {\r\n                    console.log('Updated successfully');\r\n                    dispatch({\r\n                        type: 'userChangedCollegeOrUni',\r\n                        payload: e.target.value\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error updating', error);\r\n                })\r\n        }\r\n    }\r\n\r\n    const updateImages = (imagesArr) => {\r\n        let userRef = db.collection('users').doc(`${user.uid}`);\r\n        return userRef.update({\r\n            images: imagesArr,\r\n        }).then(() => {\r\n            console.log(\"Document successfully updated!\");\r\n        }).catch((error) => {\r\n            console.error(\"Error updating document: \", error);\r\n        });\r\n    }\r\n\r\n    const replaceImgUrl = (index, url) => {\r\n        const replacedImageUrls = [...userImages];\r\n        replacedImageUrls[index] = url;\r\n        setUserImages(replacedImageUrls);\r\n        dispatch({\r\n            type: 'userChangedProfilePic',\r\n            payload: replacedImageUrls,\r\n        })\r\n        return replacedImageUrls;\r\n    }\r\n\r\n    const setImagesArrLengthAndFill = (imagesArr, maxSize) => {\r\n        let resultArr = [...imagesArr]\r\n        resultArr.length = maxSize;\r\n        if (imagesArr.length < maxSize) {\r\n            resultArr.fill('', imagesArr.length);\r\n        }\r\n        return resultArr;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CssBaseline />\r\n            <form noValidate autoComplete=\"off\">\r\n                <Grid\r\n                    container\r\n                    className={classes.root}\r\n                    direction='column'\r\n                >\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid container direction='column'>\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Upload your images</Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    container\r\n                                    justify='center'\r\n                                    wrap='wrap'\r\n                                    style={{ margin: '30px 0', padding: '20px' }}\r\n                                >\r\n                                    {userImages.map((container, i) => {\r\n                                        return (\r\n                                            <Grid item key={i}>\r\n                                                <ImageUploaderContainer id={i} key={i} userId={user.uid} replaceImgUrl={replaceImgUrl} updateImages={updateImages} imgUrl={userImages[i] || ''} />\r\n                                            </Grid>\r\n                                        )\r\n                                    })}\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>About you</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ width: '80%', marginBottom: '30px' }}>\r\n                                    <CssTextField\r\n                                        id=\"outlined-multiline-flexible\"\r\n                                        label=\"About you\"\r\n                                        multiline\r\n                                        rows={4}\r\n                                        rowsMax={4}\r\n                                        fullWidth\r\n                                        value={aboutYou}\r\n                                        onChange={handleAboutYouChange}\r\n                                        onBlur={handleAboutYou}\r\n                                        variant=\"outlined\"\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Passions</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ width: '80%', marginBottom: '30px' }}>\r\n                                    <CssTextField\r\n                                        id=\"outlined-multiline-flexible\"\r\n                                        label=\"Passions\"\r\n                                        multiline\r\n                                        rows={4}\r\n                                        rowsMax={4}\r\n                                        fullWidth\r\n                                        value={passions}\r\n                                        onChange={handlePassionsChange}\r\n                                        onBlur={handlePassions}\r\n                                        variant=\"outlined\"\r\n                                        placeholder='Separate them by \", \"'\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Gender:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ justifyContent: 'center' }}>\r\n                                    <RadioGroup style={{ margin: '0 auto' }} row aria-flowto='right' aria-label=\"gender\" name=\"gender1\" value={gender} onChange={handleGenderChange}>\r\n                                        <FormControlLabel className={classes.radio} value=\"female\" control={<Radio color='secondary' />} label=\"Female\" />\r\n                                        <FormControlLabel value=\"male\" control={<Radio color='primary' />} label=\"Male\" />\r\n                                        <FormControlLabel value=\"other\" control={<Radio color='default' />} label=\"Other\" />\r\n                                    </RadioGroup>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Sexual orientation:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} className={classes.item}>\r\n                                    <FormControl className={classes.formControl}>\r\n                                        <Select\r\n                                            variant='standard'\r\n                                            labelId=\"demo-simple-select-label\"\r\n                                            id='sexualOrientation-select'\r\n                                            value={orientation}\r\n                                            onChange={handleOrientationChange}\r\n                                        >\r\n                                            <MenuItem value={'Straight'}>Straight</MenuItem>\r\n                                            <MenuItem value={'Gay'}>Gay</MenuItem>\r\n                                            <MenuItem value={'Lesbian'}>Lesbian</MenuItem>\r\n                                            <MenuItem value={'Bisexual'}>Bisexual</MenuItem>\r\n                                            <MenuItem value={'Asexual'}>Asexual</MenuItem>\r\n                                            <MenuItem value={'Demisexual'}>Demisexual</MenuItem>\r\n                                            <MenuItem value={'Queer'}>Queer</MenuItem>\r\n                                            <MenuItem value={'Questioning'}>Questioning</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Living in:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} className={classes.item}>\r\n                                    <FormControl className={classes.formControl}>\r\n                                        <InputLabel style={{ color: 'white' }}>Region</InputLabel>\r\n                                        <Select\r\n                                            variant='standard'\r\n                                            labelId=\"demo-simple-select-label\"\r\n                                            id='sexualOrientation-select'\r\n                                            value={region}\r\n                                            onChange={handleRegion}\r\n                                        >\r\n                                            <MenuItem value={'africa'}>Africa</MenuItem>\r\n                                            <MenuItem value={'americas'}>Americas</MenuItem>\r\n                                            <MenuItem value={'asia'}>Asia</MenuItem>\r\n                                            <MenuItem value={'europe'}>Europe</MenuItem>\r\n                                            <MenuItem value={'oceania'}>Oceania</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} className={classes.item}>\r\n                                    <FormControl className={classes.formControl}>\r\n                                        <InputLabel style={{ color: 'white' }} disabled>Country</InputLabel>\r\n                                        <Select\r\n                                            disabled={!region}\r\n                                            variant='standard'\r\n                                            labelId=\"demo-simple-select-label\"\r\n                                            id='country'\r\n                                            value={livingIn}\r\n                                            onChange={handleLivingInChange}\r\n                                        >\r\n                                            {allCountriesInARegion.map(country => <MenuItem key={country.alpha2Code} value={country.name}>{country.name}</MenuItem>)}\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Job title:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ width: '80%', marginBottom: '30px' }}>\r\n                                    <CssTextField id=\"standard-secondary\" label=\"Job title\"\r\n                                        fullWidth\r\n                                        color=\"secondary\"\r\n                                        value={jobTitle}\r\n                                        onChange={handleJobTitleChange}\r\n                                        onBlur={handleJobTitle}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Company:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ width: '80%', marginBottom: '30px' }}>\r\n                                    <CssTextField id=\"standard-secondary\" label=\"Company\"\r\n                                        fullWidth\r\n                                        color=\"secondary\"\r\n                                        value={company}\r\n                                        onChange={handleCompanyChange}\r\n                                        onBlur={handleCompany}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>College/Uni:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ width: '80%', marginBottom: '30px' }}>\r\n                                    <CssTextField id=\"standard-secondary\" label=\"College/Uni\"\r\n                                        fullWidth\r\n                                        color=\"secondary\"\r\n                                        value={collegeOrUni}\r\n                                        onChange={handleCollegeOrUniChange}\r\n                                        onBlur={handleCollegeOrUni}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, { useState } from 'react';\r\nimport { CssBaseline, InputLabel, OutlinedInput, FormControl, FormHelperText, Container, TextField, IconButton, InputAdornment, makeStyles, Button } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport firebase, { db, auth } from '../../firebase';\r\nimport { useDispatch } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst defaultProfilePicUrl = 'https://firebasestorage.googleapis.com/v0/b/fir-project-d9b09.appspot.com/o/profilePics%2Fdefault-profile-pic.jpg?alt=media&token=12bd0268-84bd-47ee-9bf7-5ca4269f87d5';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n            width: '35ch',\r\n        },\r\n        '& .MuiFormControl-root': {\r\n            '& .MuiFormHelperText-root.MuiFormHelperText-contained': {\r\n                color: 'red !important',\r\n                fontSize: '0.9rem',\r\n                padding: 0,\r\n                borderRadius: '0',\r\n            }\r\n        }\r\n    },\r\n    container: {\r\n        marginTop: '1rem',\r\n        width: 'max-content',\r\n        margin: '0 auto',\r\n        display: 'flex',\r\n        maxWidth: '400px',\r\n    },\r\n    label: {\r\n        lineHeight: '4px',\r\n    },\r\n    googleIcon: {\r\n        width: '1.5rem',\r\n        marginRight: '8px',\r\n    },\r\n}));\r\n\r\nconst CssTextField = withStyles({\r\n    root: {\r\n        '& label': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& label.Mui-focused': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& .MuiInput-underline:before': {\r\n            borderBottomColor: 'white'\r\n        },\r\n        '& .MuiInput-underline:after': {\r\n            borderBottomColor: '#1976d2',\r\n        },\r\n        '& .MuiOutlinedInput-root': {\r\n            color: 'rgb(225, 225, 225)',\r\n            '& fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n            '&:hover fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n        },\r\n        '& .MuiFormHelperText-contained': {\r\n            color: 'red',\r\n            fontSize: '0.9rem',\r\n            padding: 0,\r\n            borderRadius: '0',\r\n        },\r\n        // '& .MuiFormControl-root  .MuiFormHelperText-root.MuiFormHelperText-contained':{\r\n        '& #email-reg-text-helper.MuiFormHelperText-root.MuiFormHelperText-contained': {\r\n            color: 'red !important',\r\n            fontSize: '0.9rem',\r\n            padding: 0,\r\n            borderRadius: '0',\r\n        }\r\n    },\r\n})(TextField);\r\n\r\nconst CssOutlinedInput = withStyles({\r\n    root: {\r\n        '& span.MuiIconButton-label': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& input': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& fieldset': {\r\n            border: '1px solid rgb(225, 225, 225)',\r\n        },\r\n        '&:hover fieldset': {\r\n            border: '1px solid rgb(225, 225, 225) !important', //changing the outline on hover!!!\r\n        },\r\n        '&.MuiOutlinedInput-root.Mui-focused fieldset': {\r\n            border: '2px solid rgb(225, 225, 225) !important', //changing the outline on focus!!!\r\n        },\r\n    }\r\n})(OutlinedInput);\r\n\r\nexport default function Register({ setCurrentUser }) {\r\n    const classes = useStyles();\r\n    const [emailInput, setEmailInput] = useState(\"\");\r\n    const [passInput, setPassInput] = useState(\"\");\r\n    const [firstNameInput, setFirstNameInput] = useState(\"\");\r\n    const [lastNameInput, setLastNameInput] = useState(\"\");\r\n    const [ageInput, setAgeInput] = useState(\"\");\r\n    const [isPassVisible, setIsPassVisible] = useState(false);\r\n    const [firstNameError, setFirstNameError] = useState(false);\r\n    const [lastNameError, setLastNameError] = useState(false);\r\n    const [emailError, setEmailError] = useState(false);\r\n    const [passwordError, setPasswordError] = useState(false);\r\n    const [ageError, setAgeError] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    function changeInput(value, field) {\r\n        switch (field) {\r\n            case 'firstName': setFirstNameInput(value);\r\n                break;\r\n            case 'lastName': setLastNameInput(value);\r\n                break;\r\n            case 'email': setEmailInput(value);\r\n                break;\r\n            case 'password': setPassInput(value);\r\n                break;\r\n            case 'age': setAgeInput(value);\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    const validateEmail = (email) => {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(emailInput)\r\n    }\r\n    const validateName = (name) => {\r\n        const re = /[a-zA-Z][a-zA-Z ]{2,}/;\r\n        return re.test(name);\r\n    }\r\n    const changeAllErrorsState = (firstNameErr, lastNameErr, emailErr, passwordErr, ageErr) => {\r\n        setFirstNameError(firstNameErr);\r\n        setLastNameError(lastNameErr);\r\n        setEmailError(emailErr);\r\n        setPasswordError(passwordErr);\r\n        setAgeError(ageErr);\r\n    }\r\n\r\n    const validateForm = () => {\r\n\r\n        let firstNameErr = '';\r\n        let lastNameErr = '';\r\n        let emailErr = '';\r\n        let ageErr = '';\r\n        let passwordErr = '';\r\n        const isEmailValid = validateEmail(emailInput);\r\n        const isFirstNameValid = validateName(firstNameInput);\r\n        const isLastNameValid = validateName(lastNameInput);\r\n\r\n        if (!isFirstNameValid) {\r\n            firstNameErr = 'Must be at least 3 letters long!';\r\n        }\r\n        if (!isLastNameValid) {\r\n            lastNameErr = 'Must be at least 3 letters long!';\r\n        }\r\n        if (!isEmailValid) {\r\n            emailErr = 'Email is badly formatted!';\r\n        }\r\n        if (ageInput < 18) {\r\n            ageErr = 'Must be over 18!';\r\n        }\r\n        if (passInput.length < 6) {\r\n            passwordErr = 'Must be at least 6 chars';\r\n        }\r\n\r\n        if (firstNameErr || lastNameErr || emailErr || ageErr || passwordErr) {\r\n            changeAllErrorsState(firstNameErr, lastNameErr, emailErr, passwordErr, ageErr);\r\n            return false;\r\n        }\r\n        changeAllErrorsState(firstNameErr, lastNameErr, emailErr, passwordErr, ageErr);\r\n        return true;\r\n    }\r\n\r\n    function register(e) {\r\n        e.preventDefault();\r\n        const isValid = validateForm();\r\n        if (isValid) {\r\n            console.log('validno e!')\r\n            auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL)\r\n                .then(() => {\r\n                    return auth.createUserWithEmailAndPassword(emailInput, passInput)\r\n                })\r\n                .then(() => {\r\n                    var user = auth.currentUser;\r\n                    let fullName = `${firstNameInput[0]}${firstNameInput.slice(1)} ${lastNameInput[0]}${lastNameInput.slice(1)}`;\r\n                    let userInDb = {\r\n                        uid: user.uid,\r\n                        name: fullName,\r\n                        email: emailInput,\r\n                        aboutYou: '',\r\n                        age: ageInput,\r\n                        collageOrUni: '',\r\n                        company: '',\r\n                        country: '',\r\n                        city: '',\r\n                        gender: '',\r\n                        jobTitle: '',\r\n                        images: [defaultProfilePicUrl],\r\n                        mediaProfiles: [],\r\n                        sexualOrientation: '',\r\n                        youtubeSong: '',\r\n                        passions: [],\r\n                        chats: [],\r\n                        isOnline: true,\r\n                        liked: [],\r\n                        disliked: [],\r\n                        matches: []\r\n                    }\r\n                    createUserInDb(user.uid, userInDb);\r\n                    setEmailInput('');\r\n                    setFirstNameInput('');\r\n                    setLastNameInput('');\r\n                    setPassInput('');\r\n                    setAgeInput('');\r\n                })\r\n                .catch(error => {\r\n                    setEmailError(error.message);\r\n                })\r\n        }\r\n    }\r\n\r\n    const handleClickShowPassword = () => {\r\n        isPassVisible ? setIsPassVisible(false) : setIsPassVisible(true);\r\n    };\r\n\r\n    const handleMouseDownPassword = (event) => {\r\n        event.preventDefault();\r\n\r\n    };\r\n    const createUserInDb = (userId, obj) => {\r\n        db.collection(\"users\").doc(`${userId}`).set(obj)\r\n            .then(() => {\r\n                console.log(\"Document successfully written!\");\r\n                dispatch({ type: 'userLoggedIn', payload: obj });\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error writing document: \", error);\r\n            });\r\n    }\r\n\r\n    const createUpdateGoogleUserInDb = (userId, obj) => {\r\n        var userRef = db.collection(\"users\").doc(userId);\r\n\r\n        userRef.get().then((doc) => {\r\n            if (!doc.exists) {\r\n                console.log('nqma takyv potrebirel')\r\n                return userRef.set(obj)\r\n                    .then(() => {\r\n                        console.log(\"Document successfully updated! // syzdadoh takyv potrebitel\");\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error(\"Error updating document: \", error);\r\n                    });\r\n            } else {\r\n                console.log('IVA VECHE takyv potrebirel, ne promenqm bazata')\r\n            }\r\n            dispatch({ type: 'userLoggedIn', payload: obj });\r\n        })\r\n            .catch((error) => {\r\n                console.log(\"Error getting document:\", error);\r\n            });\r\n\r\n    }\r\n\r\n    const signInWithGoogle = () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        auth\r\n            .signInWithPopup(provider)\r\n            .then((res) => {\r\n                console.log('logvane s google ', res);\r\n                console.log('dokato zarejda dali e lognat')\r\n                let userInDb = {\r\n                    uid: res.user.uid,\r\n                    name: res.user.displayName,\r\n                    email: res.user.email,\r\n                    aboutYou: '',\r\n                    age: 18,\r\n                    collageOrUni: '',\r\n                    company: '',\r\n                    country: '',\r\n                    city: '',\r\n                    gender: '',\r\n                    jobTitle: '',\r\n                    images: [res.additionalUserInfo.profile.picture || defaultProfilePicUrl],\r\n                    mediaProfiles: [],\r\n                    sexualOrientation: '',\r\n                    youtubeSong: '',\r\n                    passions: [],\r\n                    chats: [],\r\n                    isOnline: true,\r\n                    liked: [],\r\n                    disliked: [],\r\n                    matches: [],\r\n                }\r\n                createUpdateGoogleUserInDb(res.user.uid, userInDb);\r\n            }).catch((error) => {\r\n                console.log(error.message)\r\n            })\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <CssBaseline />\r\n            <Container className={classes.container} position=\"relative\" align=\"center\">\r\n                <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={register}>\r\n                    <FormControl variant=\"outlined\">\r\n                        <CssTextField\r\n                            id=\"firstNameInput\"\r\n                            autoFocus\r\n                            error={!!firstNameError}\r\n                            aria-describedby=\"firstName-reg-text-helper\"\r\n                            value={firstNameInput}\r\n                            onChange={(ev) => changeInput(ev.target.value.trim(), 'firstName')}\r\n                            label=\"First name\" variant=\"outlined\" />\r\n                        {!!firstNameError && <FormHelperText id=\"firstName-reg-text-helper\">{firstNameError}</FormHelperText>}\r\n                    </FormControl>\r\n                    <FormControl variant=\"outlined\">\r\n                        <CssTextField\r\n                            id=\"lastNameInput\"\r\n                            autoFocus\r\n                            error={!!lastNameError}\r\n                            aria-describedby=\"lastName-reg-text-helper\"\r\n                            onChange={(ev) => changeInput(ev.target.value.trim(), 'lastName')}\r\n                            label=\"Last name\" variant=\"outlined\" />\r\n                        {!!lastNameError && <FormHelperText id=\"lastName-reg-text-helper\">{lastNameError}</FormHelperText>}\r\n                    </FormControl>\r\n                    <FormControl variant=\"outlined\">\r\n                        <CssTextField\r\n                            id=\"email\"\r\n                            autoFocus\r\n                            type=\"email\"\r\n                            aria-describedby=\"email-reg-text-helper\"\r\n                            error={!!emailError}\r\n                            value={emailInput}\r\n                            onChange={(ev) => changeInput(ev.target.value.trim(), 'email')}\r\n                            label=\"Email\" variant=\"outlined\" />\r\n                        {!!emailError && <FormHelperText id=\"email-reg-text-helper\">{emailError}</FormHelperText>}\r\n                    </FormControl>\r\n                    <FormControl variant=\"outlined\">\r\n                        <InputLabel className=\"label\" style={{ color: 'rgb(225, 225, 225)' }} htmlFor=\"password\">Password</InputLabel>\r\n                        <CssOutlinedInput\r\n                            id=\"password\"\r\n                            error={!!passwordError}\r\n                            value={passInput}\r\n                            onChange={(ev) => changeInput(ev.target.value, 'password')}\r\n                            label=\"Password\"\r\n                            variant=\"outlined\"\r\n                            type={isPassVisible ? 'text' : 'password'}\r\n                            autoComplete=\"current-password\"\r\n                            aria-describedby=\"password-reg-text-helper\"\r\n                            endAdornment={\r\n                                <InputAdornment position=\"end\">\r\n                                    <IconButton\r\n                                        aria-label=\"toggle password visibility\"\r\n                                        onClick={handleClickShowPassword}\r\n                                        onMouseDown={handleMouseDownPassword}\r\n                                        edge=\"end\"\r\n                                    >\r\n                                        {isPassVisible ? <Visibility /> : <VisibilityOff />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }\r\n                        />\r\n                        {!!passwordError && <FormHelperText id=\"password-reg-text-helper\">{passwordError}</FormHelperText>}\r\n                    </FormControl>\r\n                    <FormControl variant=\"outlined\">\r\n                        <CssTextField\r\n                            id=\"age\"\r\n                            error={!!ageError}\r\n                            value={ageInput}\r\n                            onChange={(ev) => changeInput(ev.target.value, 'age')}\r\n                            label=\"How old are you?\"\r\n                            variant=\"outlined\"\r\n                            type=\"number\"\r\n                            aria-describedby=\"age-reg-text-helper\"\r\n                        />\r\n                        {!!ageError && <FormHelperText id=\"age-reg-text-helper\">{ageError}</FormHelperText>}\r\n                    </FormControl>\r\n                    <Button variant=\"contained\" color=\"primary\" type='submit' disabled={!ageInput || !emailInput || !firstNameInput || !lastNameInput || passInput.length < 1} >Register</Button>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={signInWithGoogle}>\r\n                        <img className={classes.googleIcon} src=\"https://img.icons8.com/ios-filled/50/000000/google-logo.png\" alt=\"google icon\" />\r\n                        <span> Continue with Google</span>\r\n                    </Button>\r\n                </form>\r\n            </Container>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { CssBaseline, InputLabel, OutlinedInput, FormControl, Container, TextField, IconButton, InputAdornment, makeStyles, Button, FormHelperText } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { auth, db } from '../../firebase';\r\nimport firebase from '../../firebase';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n            width: '30ch',\r\n        },\r\n        '& .MuiFormHelperText-contained': {\r\n            color: 'red',\r\n            fontSize: '0.9rem',\r\n            padding: 0,\r\n            borderRadius: '0',\r\n        },\r\n    },\r\n    form: {\r\n        minWidth: '300px',\r\n        maxWidth: '400px',\r\n    },\r\n    container: {\r\n        marginTop: '5rem',\r\n        maxWidth: '500px',\r\n        margin: '0 auto',\r\n        display: 'flex',\r\n    },\r\n}));\r\n\r\nconst CssTextField = withStyles({\r\n    root: {\r\n        '& label': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& label.Mui-focused': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& .MuiOutlinedInput-root': {\r\n            color: 'rgb(225, 225, 225)',\r\n            '& fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n            '&:hover fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n        },\r\n    },\r\n})(TextField);\r\n\r\nconst CssOutlinedInput = withStyles({\r\n    root: {\r\n        '& span.MuiIconButton-label': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& input': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& fieldset': {\r\n            border: '1px solid rgb(225, 225, 225)',\r\n        },\r\n        '&:hover fieldset': {\r\n            border: '1px solid rgb(225, 225, 225) !important', //changing the outline on hover!!!\r\n        },\r\n        '&.MuiOutlinedInput-root.Mui-focused fieldset': {\r\n            border: '2px solid rgb(225, 225, 225) !important', //changing the outline on focus!!!\r\n        },\r\n    }\r\n})(OutlinedInput);\r\n\r\nexport default function Login() {\r\n    const classes = useStyles();\r\n    const [emailInput, setEmailInput] = useState(\"\");\r\n    const [passInput, setPassInput] = useState(\"\");\r\n    const [isPassVisible, setIsPassVisible] = useState(false);\r\n    const [emailError, setEmailError] = useState('');\r\n    const [passwordError, setPasswordError] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    function changeEmailInput(ev) {\r\n        setEmailInput(ev.target.value.trim());\r\n    }\r\n\r\n    function changePasswordInput(ev) {\r\n        setPassInput(ev.target.value.trim());\r\n    }\r\n\r\n    const validateEmail = (email) => {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(email)\r\n    }\r\n\r\n    const validateForm = () => {\r\n\r\n        let emailErr = '';\r\n        let passwordErr = false;\r\n        const emailIsValid = validateEmail(emailInput);\r\n\r\n\r\n        if (!emailIsValid) {\r\n            emailErr = 'Email is badly formatted!';\r\n        }\r\n\r\n        if (passInput.length < 6) {\r\n            passwordErr = true;\r\n        }\r\n\r\n        if (emailErr || passwordErr) {\r\n            setEmailError(emailErr);\r\n            setPasswordError(passwordErr);\r\n            return false;\r\n        }\r\n        setEmailError(emailErr);\r\n        setPasswordError(passwordErr);\r\n        return true;\r\n    }\r\n\r\n    function login(e) {\r\n        e.preventDefault();\r\n        const isValid = validateForm();\r\n\r\n        if (isValid) {\r\n            console.log('validno e !')\r\n            auth.setPersistence('session')\r\n                .then(() => {\r\n                    return auth.signInWithEmailAndPassword(emailInput, passInput)\r\n                })\r\n                .then((authToken) => {\r\n                    db.collection('users').doc(authToken.user.uid).get().then(res => {\r\n                        console.log('=====>', res.data())\r\n                        dispatch({\r\n                            type: 'userLoggedIn',\r\n                            payload: res.data()\r\n                        });\r\n                        setEmailInput('');\r\n                        setPassInput('');\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    console.log(error.message);\r\n                    setEmailError(error.message);\r\n                });\r\n\r\n\r\n        }\r\n    }\r\n\r\n    const handleClickShowPassword = () => {\r\n        isPassVisible ? setIsPassVisible(false) : setIsPassVisible(true);\r\n        console.log(isPassVisible)\r\n    };\r\n\r\n    const handleMouseDownPassword = (event) => {\r\n        event.preventDefault();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <CssBaseline />\r\n            <Container className={classes.container} position=\"relative\" align=\"center\">\r\n                <form className={classes.root} onSubmit={login} noValidate autoComplete=\"off\">\r\n                <FormControl variant=\"outlined\">\r\n                    <CssTextField\r\n                        id=\"email\"\r\n                        fullWidth={true}\r\n                        autoFocus\r\n                        // helperText={emailError}\r\n                        error={!!emailError}\r\n                        aria-describedby=\"email-login-text-helper\"\r\n                        onChange={changeEmailInput}\r\n                        label=\"Email\" variant=\"outlined\" />\r\n                        {!! emailError && <FormHelperText id=\"email-login-text-helper\">{emailError}</FormHelperText>}\r\n                        </FormControl>\r\n                    <FormControl variant=\"outlined\">\r\n                        <InputLabel className=\"label\" style={{ color: 'rgb(225, 225, 225)' }} htmlFor=\"password\">Password</InputLabel>\r\n                        <CssOutlinedInput\r\n                            id=\"password\"\r\n                            fullWidth={true}\r\n                            // helperText={passwordError}\r\n                            aria-describedby=\"password-login-text-helper\"\r\n                            error={!!passwordError}\r\n                            value={passInput}\r\n                            onChange={changePasswordInput}\r\n                            label=\"Password\"\r\n                            variant=\"outlined\"\r\n                            type={isPassVisible ? 'text' : 'password'}\r\n                            autoComplete=\"current-password\"\r\n                            endAdornment={\r\n                                <InputAdornment position=\"end\">\r\n                                    <IconButton\r\n                                        aria-label=\"toggle password visibility\"\r\n                                        onClick={handleClickShowPassword}\r\n                                        onMouseDown={handleMouseDownPassword}\r\n                                        edge=\"end\"\r\n                                    >\r\n                                        {isPassVisible ? <Visibility /> : <VisibilityOff />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }\r\n                        />\r\n                        {!! passwordError && <FormHelperText id=\"password-login-text-helper\">Must be at least 6 chars!</FormHelperText>}\r\n                    </FormControl>\r\n                    <Button type='submit' variant=\"contained\" color=\"primary\">Login</Button>\r\n                </form>\r\n            </Container>\r\n        </>\r\n    )\r\n}","import { useEffect, useState } from \"react\";\r\nimport { CssBaseline, makeStyles } from '@material-ui/core';\r\nimport FbImageLibrary from 'react-fb-image-grid';\r\nimport { useSelector } from 'react-redux';\r\nimport './ChosenMatch.module.css'\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    container: {\r\n        width: '40vw',\r\n        minWidth: '400px',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        color: 'white',\r\n    },\r\n    name: {\r\n        marginBottom: '3rem',\r\n    },\r\n    textField: {\r\n        fontSize: '1.2rem',\r\n        color: 'rgb(225,225,225)',\r\n        margin: '0 auto',\r\n        width: '100%',\r\n        padding: '0 3rem',\r\n        textAlign: 'center',\r\n    },\r\n});\r\n\r\n    \r\nexport default function ChosenMatch() {\r\n    const styles = useStyles();\r\n    const chosenProfile = useSelector(state => state.chosenProfile);\r\n    const [images, setImages] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const imagesToDisplay = chosenProfile.images.filter(image => image !== '');\r\n        setImages(imagesToDisplay);\r\n    }, [chosenProfile])\r\n\r\n    return (\r\n        <CssBaseline>\r\n            <div className={styles.container}>\r\n                <h2 className={styles.name}>{chosenProfile?.name}</h2>\r\n                <FbImageLibrary\r\n                images={images}\r\n                width={300}\r\n                // countFrom={1}\r\n                renderOverlay={() => <div style={{fontSize: '2rem'}}>Show</div>}\r\n                overlayBackgroundColor=\"#e66465\"\r\n                />\r\n                <h3>About me</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.aboutYou}\r\n                </div>\r\n                <hr />\r\n                <h3>Passions</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.passions.join(', ')}\r\n                </div>\r\n                <hr />\r\n                <h3>Gender</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.gender}\r\n                </div>\r\n                <hr />\r\n                <h3>Sexual orientation</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.sexualOrientation}\r\n                </div>\r\n                <hr />\r\n                <h3>Living in</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.country}\r\n                </div>\r\n                <hr />\r\n                <h3>Job title</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.jobTitle}\r\n                </div>\r\n                <hr />\r\n                <h3>Company</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.company}\r\n                </div>\r\n                <hr />\r\n                <h3>College</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.collageOrUni}\r\n                </div>\r\n            </div>\r\n        </CssBaseline>\r\n    )}","import { useEffect, useState } from \"react\";\r\nimport { CssBaseline, makeStyles } from '@material-ui/core';\r\nimport FbImageLibrary from 'react-fb-image-grid';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst useStyles = makeStyles({\r\n    container: {\r\n        width: '40vw',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        color: 'white',\r\n    },\r\n    name: {\r\n        marginBottom: '3rem',\r\n    },\r\n    textField: {\r\n        fontSize: '1.2rem',\r\n        color: 'rgb(225,225,225)',\r\n        margin: '0 auto',\r\n        width: '100%',\r\n        padding: '0 5rem',\r\n        textAlign: 'center',\r\n    },\r\n});\r\n\r\nexport default function ChosenProfile() {\r\n    const styles = useStyles();\r\n    const chosenProfile = useSelector(state => state.chosenProfile);\r\n    const [images, setImages] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const imagesToDisplay = chosenProfile?.images.filter(image => image !== '');\r\n        setImages(imagesToDisplay);\r\n    }, [chosenProfile])\r\n\r\n    return (\r\n        <CssBaseline>\r\n            <div className={styles.container}>\r\n                <h2 className={styles.name}>{chosenProfile?.name}</h2>\r\n                <FbImageLibrary\r\n                images={images}\r\n                width={300}\r\n                // countFrom={1}\r\n                renderOverlay={() => <div style={{fontSize: '2rem'}}>Show</div>}\r\n                overlayBackgroundColor=\"tomato\"\r\n                />\r\n                <h3>About me</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.aboutYou}\r\n                </div>\r\n                <hr />\r\n                <h3>Passions</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.passions.join(', ')}\r\n                </div>\r\n                <hr />\r\n                <h3>Gender</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.gender}\r\n                </div>\r\n                <hr />\r\n                <h3>Sexual orientation</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.sexualOrientation}\r\n                </div>\r\n                <hr />\r\n                <h3>Living in</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.country}\r\n                </div>\r\n                <hr />\r\n                <h3>Job title</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.jobTitle}\r\n                </div>\r\n                <hr />\r\n                <h3>Company</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.company}\r\n                </div>\r\n                <hr />\r\n                <h3>College</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.collageOrUni}\r\n                </div>\r\n            </div>\r\n        </CssBaseline>\r\n    )}","import Grid from '@material-ui/core/Grid';\r\nimport { Link } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styles from './Matches.module.css';\r\nimport { db } from '../../firebase';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    flexColumn: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        color: 'white',\r\n    },\r\n    title: {\r\n        fontSize: '2rem',\r\n        width: 'max-content',\r\n    },\r\n    container: {\r\n        width: '60%',\r\n        position: 'relative',\r\n        display: 'flex',\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: '1rem',\r\n        '& a' : {\r\n            textDecoration: 'none',\r\n        }\r\n    },\r\n    item: {\r\n        margin: `${theme.spacing(2)}px`,\r\n        '&:hover':  {boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)'},\r\n    },\r\n    root: {\r\n        position: 'relative',\r\n        backgroundColor: 'rgba(255, 255, 255, 0.4)',\r\n        width: 250,\r\n        height: 350,\r\n        margin: '13px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n    },\r\n    expanded: {\r\n        height: 'auto',\r\n        position: 'fixed',\r\n        top: '135px',\r\n        left: '5%',\r\n        zIndex: 2,\r\n    },\r\n    media: {\r\n        height: 240,\r\n    },\r\n    colorBlack: {\r\n        color: 'black',\r\n    },\r\n    btnContainer: {\r\n        marginBottom: '2rem',\r\n    },\r\n}));\r\n\r\nexport default function Matches() {\r\n    const classes = useStyles();\r\n    const removedFromHomePage = useSelector(state => state.alreadyRemoved);\r\n    const [moreDetailsCardKey, setMoreDetailsCardKey] = useState(-1);\r\n    const currentUser = useSelector(state => state.currentUser);\r\n    const [matches, setMatches] = useState([]);\r\n    const allUsers = useSelector(state => state.allUsers);\r\n    const defaultProfilePic = 'https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg';\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        const allMatches = allUsers.filter(user => currentUser.matches.includes(user.uid));\r\n        setMatches(allMatches);\r\n    }, [currentUser])\r\n\r\n    useEffect(() => {\r\n        matches?.length > 0 && setIsLoading(false);\r\n    }, [matches])\r\n\r\n    const manageCards = (uid) => {\r\n        moreDetailsCardKey === uid ? setMoreDetailsCardKey('') : setMoreDetailsCardKey(uid);\r\n    }\r\n\r\n    const dislikeUser = (userId) => {\r\n        const updatedRemovedFromHomePage = removedFromHomePage.filter(id => id !== userId);\r\n        dispatch({type: 'setRemoved', payload: updatedRemovedFromHomePage})\r\n        const currUserMatchesIds = currentUser.matches.filter(matchId => matchId !== userId);\r\n        const currUserLikedProfilesIds = currentUser.liked.filter(likedId => likedId !== userId);\r\n        const removedUser = allUsers.find(user => user.uid === userId)\r\n        const removedUserMatches = removedUser.matches.filter(matchId => matchId !== currentUser.uid);\r\n\r\n        db.collection('users').doc(currentUser.uid).update({\r\n            matches: [...currUserMatchesIds],\r\n            liked: [...currUserLikedProfilesIds],\r\n        }).then(() => {\r\n            dispatch({type: 'userRemovedFromLiked', payload: currUserLikedProfilesIds});\r\n            dispatch({type: 'userRemovedFromMatches', payload: currUserMatchesIds});\r\n        }).catch(err => console.log('Error after updating db for currentUser: ', err))\r\n\r\n        db.collection('users').doc(userId).update({\r\n            matches: [...removedUserMatches],\r\n        }).then(() => {\r\n            let updatedUsers = [...allUsers];\r\n            updatedUsers = updatedUsers.map(user => {\r\n                if(user.uid === userId) {\r\n                    user.matches = removedUserMatches;\r\n                }\r\n                return user;\r\n            });\r\n            dispatch({type: 'getAllUsers', payload: updatedUsers});\r\n\r\n            const newMatches = matches.filter(user => user.uid !== userId);\r\n            setMatches(newMatches);\r\n        }).catch(err => console.log('Error after updating db for currentUser: ', err))\r\n        deleteChatRoom(userId, currentUser.uid)\r\n    }\r\n\r\n    // To be moved to a Service file:\r\n    function deleteChatRoom(selectedUserId, currentUserId) {\r\n        let chatRoomDocId = selectedUserId > currentUserId ? `${currentUserId}_${selectedUserId}` : `${selectedUserId}_${currentUserId}`;\r\n        db.collection('chatRooms').doc(chatRoomDocId).delete()\r\n            .then(() => console.log(\"Successfully deleted the chatRoom for users: \", currentUserId, selectedUserId))\r\n            .catch((err) => console.log(\"Error on chatRoom deleting: \", err))\r\n    }\r\n\r\n    const updateChosenProfile = (user) => {\r\n        dispatch({type: 'setChosenProfile', payload: user});\r\n        window.localStorage.setItem('chosenProfile', JSON.stringify(user));\r\n    }\r\n\r\n    return (\r\n        <div className={classes.flexColumn}>\r\n        {matches.length === 0 ?\r\n        <h2>You don't have any matches yet!</h2>\r\n        :\r\n        <Typography className={classes.title}>Your matches</Typography>\r\n        }\r\n        <Grid\r\n            container\r\n            className={classes.container}\r\n        >\r\n        {matches.map((user) =>\r\n            <Card elevation={20} className={moreDetailsCardKey === user.uid ? `${classes.root} ${classes.expanded}` : classes.root} key={user.uid} onClick={() => updateChosenProfile(user)}>\r\n                <CardActionArea component={Link} to={'/matches/' + user.uid}>\r\n                    <CardMedia\r\n                    className={classes.media}\r\n                    image={user.images && user.images[0] || defaultProfilePic}\r\n                    title={user.name}\r\n                    />\r\n                    <CardContent>\r\n                    <Typography className={classes.colorBlack} gutterBottom variant=\"h5\" component=\"h2\">\r\n                        {user.name} - {user.age}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {user.aboutYou ? user.aboutYou : `From ${user.country?.split(' ')[1]}`}\r\n                    </Typography>\r\n                    </CardContent>\r\n                </CardActionArea>\r\n                <CardActions className={classes.btnContainer}>\r\n                    <Button size=\"small\" color=\"primary\" onClick={() => dislikeUser(user.uid)}>\r\n                    Remove match\r\n                    </Button>\r\n                </CardActions>\r\n                    <Button className={styles.btnStyle} onClick={() => manageCards(user.uid)}>{moreDetailsCardKey === user.uid ? 'Show less' : 'Show more'}</Button>\r\n            </Card>\r\n        )}        \r\n        </Grid>\r\n        </div>\r\n    );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { useSelector } from 'react-redux';\r\nimport chatClasses from './Chat.module.css';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    head: {\r\n        width: theme.spacing(4),\r\n        height: theme.spacing(4),\r\n        margin: theme.spacing(1),\r\n    },\r\n    timestamp: {\r\n        color: 'gray',\r\n        fontSize: '8px',\r\n    },\r\n    active : {\r\n        background: 'rgba(255, 255, 255, 0.4)',\r\n        borderRadius: '2rem 0 0 2rem',\r\n    },\r\n    missed : {\r\n        border: '2px solid #e66465'\r\n    }\r\n}));\r\n\r\nexport default function ChatHead({ selectTargetChat,  chat, isActive  }) {\r\n    const styles = useStyles();\r\n    const allUsers = useSelector(state => state.allUsers);\r\n    const currentUserId = useSelector(state => state.currentUser.uid)\r\n    const targetUserId  = chat.id.split('_').filter(id => id !== currentUserId).join('');\r\n    const targetUser = allUsers.find(user => user.uid === targetUserId);\r\n    const [currentChat, setCurrentChat] = useState(chat);\r\n    const [hasMissedMessages, setHasMissedMessages] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (chat.messages.length > 0) {\r\n            let lastMessageSender = chat.messages[chat.messages.length - 1].sender;\r\n            if(currentChat.messages.length !== chat.messages.length && lastMessageSender !== currentUserId && !isActive) {\r\n                setHasMissedMessages(true);\r\n                setCurrentChat(chat);\r\n            }\r\n            if(isActive) {\r\n                setHasMissedMessages(false);\r\n            }\r\n        }\r\n    }, [chat, isActive, currentChat.messages.length])\r\n    \r\n    const handleChatOnClick = () => {\r\n        selectTargetChat(chat.id, targetUser);\r\n    }\r\n\r\n    return (\r\n        <span key={targetUser.id} style={hasMissedMessages ? {borderRight: '3px solid #e66465'} : {}} className={isActive ? styles['active'] : ''} onClick={handleChatOnClick}>\r\n            <Avatar className={styles.head} alt={targetUser.name} src={targetUser.images[0]} />\r\n            {targetUser.name}\r\n        </span>\r\n    )\r\n}","import firebase, { db } from '../../firebase';\r\n\r\nexport const sentMessage = (chatId, userId, message) => {\r\n    const targetChatRef = db.collection('chatRooms').doc(chatId);\r\n    targetChatRef.update({\r\n            messages: firebase.firestore.FieldValue.arrayUnion({ message: message, sender: userId, createdAt: Date.now() }),\r\n            lastMessageTimestamp: Date.now(),\r\n        })\r\n}","import { useEffect, useState } from \"react\";\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { useSelector } from 'react-redux';\r\nimport chatClasses from './Chat.module.css';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    head: {\r\n        width: theme.spacing(4),\r\n        height: theme.spacing(4),\r\n        margin: theme.spacing(1),\r\n    },\r\n    timestamp: {\r\n        color: 'gray',\r\n        fontSize: '8px',\r\n    }\r\n}));\r\n\r\nexport default function ChatHead({ message }) {\r\n    const styles = useStyles();\r\n    const allUsers = useSelector(state => state.allUsers);\r\n    const user = useSelector(state => state.currentUser);\r\n    const messageStyle = message.sender === user.uid ? 'sent' : 'received';\r\n    const userImage = allUsers.find(user => user.uid === message.sender)?.images[0];\r\n\r\n    return (\r\n        <div className={[`${chatClasses.message} ${chatClasses[messageStyle]}`]}>\r\n            <Avatar className={styles.head} alt={message.sender} src={userImage} />\r\n            <p>{message.message}</p>\r\n            <span>{new Date(message.createdAt).toDateString()}</span>\r\n        </div>\r\n    )\r\n}","import chatClasses from './Chat.module.css';\r\nimport { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport { db } from '../../firebase';\r\nimport { useSelector } from 'react-redux';\r\nimport ChatHead from './chatHead';\r\nimport { sentMessage } from './chatService';\r\nimport Message from './Message';\r\n\r\nexport default function Chat() {\r\n    const user = useSelector(state => state.currentUser);\r\n    const allUsers = useSelector(state => state.allUsers);\r\n\r\n    const [formValue, setFormValue] = useState('');\r\n    const [allChats, setAllChats] = useState([]);\r\n    const [targetChatId, setTargetChatId] = useState('');\r\n    const [selectedChatUsername, setSelectedChatUsername] = useState('');\r\n    const dummyDiv = useRef();\r\n\r\n    const chatRoomsRef = db.collection('chatRooms').where('users', 'array-contains', user.uid);\r\n\r\n    // Fetch all chat rooms\r\n    useEffect(() => {\r\n        chatRoomsRef.onSnapshot(snapShot => {\r\n            const tempAllChats = []\r\n            snapShot.forEach(doc => {\r\n                const data = doc.data();\r\n                let chat = { ...data, id: doc.id }\r\n                chat.messages.length !== 0 ? tempAllChats.unshift(chat) : tempAllChats.push(chat);\r\n            })\r\n            const sortedByTimeChats = tempAllChats.sort((a, b) => b.lastMessageTimestamp - a.lastMessageTimestamp);\r\n            setAllChats(sortedByTimeChats);\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        dummyDiv.current.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"nearest\",\r\n            inline: \"start\"\r\n        });\r\n    }, [allChats, dummyDiv, targetChatId])\r\n\r\n\r\n    const sendMessage = async (e) => {\r\n        e.preventDefault();\r\n        await sentMessage(targetChatId, user.uid, formValue);\r\n        console.log('izpratih ei tui: ', formValue, 'v chata: ', targetChatId, 'ot: ', user.uid);\r\n        setFormValue('');\r\n\r\n        dummyDiv.current.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"nearest\",\r\n            inline: \"start\"\r\n        });\r\n    }\r\n\r\n    const selectTargetChat = (id, targetUser) => {\r\n        setTargetChatId(id);\r\n        setSelectedChatUsername(targetUser.name)\r\n    }\r\n\r\n    const currentChat = useMemo(() => {\r\n        const id = allChats.findIndex(chat => chat.id === targetChatId);\r\n        return allChats[id];\r\n    }, [targetChatId, allChats])\r\n\r\n    return (\r\n        <CssBaseline>\r\n            <div className={chatClasses.chatContainer}>\r\n                <div className={chatClasses.profilesInChat}>\r\n                    <div className={chatClasses.innerDivChat}>\r\n                        {\r\n                            allChats.length > 0 && allChats.map(chat => {\r\n                                return (<ChatHead \r\n                                    chat={chat}\r\n                                    isActive={targetChatId === chat.id}\r\n                                    selectTargetChat={selectTargetChat}\r\n                                    key={chat.id}\r\n                                />)\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <main className={chatClasses.chat}>\r\n                    <div className={chatClasses.messageContainer}>\r\n                        {\r\n                            currentChat &&\r\n                            currentChat.messages.map(message => {\r\n                                return <Message message={message} key={message.createdAt} />\r\n                            })\r\n                        }\r\n                        <div ref={dummyDiv} />\r\n                    </div>\r\n                    <form className={chatClasses.chatForm} onSubmit={sendMessage}>\r\n                        <input value={formValue}\r\n                        onChange={(e) => setFormValue(e.target.value)}\r\n                        placeholder={currentChat ? `Chat with ${selectedChatUsername}` : ''} />\r\n                        <button type=\"submit\" disabled={!currentChat || !formValue}>\r\n                            <FavoriteIcon />\r\n                        </button>\r\n                    </form>\r\n                </main>\r\n            </div>\r\n        </CssBaseline>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MenuAppBar from '../menuAppBar/MenuAppBar';\r\nimport HomePage from '../homePage/HomePage';\r\nimport Profile from '../profile/Profile';\r\nimport Register from \"../login-register/Register\";\r\nimport Login from '../login-register/Login';\r\nimport ChosenMatch from '../chosenMatch/ChosenMatch';\r\nimport ChosenProfile from '../chosenProfile/ChosenProfile';\r\nimport { CssBaseline, Fab } from '@material-ui/core';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Matches from '../matches/Matches';\r\nimport InsertCommentIcon from '@material-ui/icons/InsertComment';\r\nimport Chat from '../chat/Chat';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { auth, db } from '../../firebase';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    position: 'fixed !important',\r\n    bottom: '50px',\r\n    right: '50px',\r\n    color: 'rgb(136, 25, 163)',\r\n    backgroundColor: 'rgba(255,255,255,0.5)',\r\n    '& .MuiFab-root:hover': {\r\n      backgroundColor: '#e66465',\r\n      '& .MuiSvgIcon-root': {\r\n        color: 'rgb(225,225,225)',\r\n        zIndex: 2,\r\n      },\r\n    },\r\n    zIndex: 2,\r\n  },\r\n  smallBtn: {\r\n    position: 'absolute',\r\n    width: '50px',\r\n    height: '50px',\r\n    '& .MuiSvgIcon-root': {\r\n      width: '30px'\r\n    },\r\n    color: '#e66465',\r\n    background: 'rgb(225,225,225)',\r\n  },\r\n}));\r\n\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const styles = useStyles();\r\n\r\n  const [isChatOpened, setIsChatOpened] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n\r\n  const showChat = () => {\r\n    setIsChatOpened(!isChatOpened);\r\n  }\r\n\r\n  const user = useSelector(state => state.currentUser);\r\n\r\n\r\n  //is a user still logged in\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(function (user) {\r\n      if (user) {\r\n        db.collection('users').doc(user.uid).get()\r\n        .then(res => {\r\n          dispatch({\r\n            type: 'userLoggedIn',\r\n            payload: res.data()\r\n          });\r\n      console.log('Dispatchnahme currentUser: ', res.data())\r\n          // setIsLoading(false);\r\n          // db.collection('users').onSnapshot(data => {\r\n          //   let users = [];\r\n          //   data.forEach(element => {\r\n          //     element.uid !== res.data().uid && users.push(element.data());\r\n          //   });\r\n          //   dispatch({\r\n          //     type: 'getAllUsers',\r\n          //     payload: users,\r\n          //   });\r\n          // })\r\n        })\r\n      } else {\r\n        dispatch({\r\n          type: 'userLoggedOut'\r\n        });\r\n        // setIsLoading(false);\r\n      }\r\n    });\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if(user.uid) {\r\n      console.log('User ID na currentUser: ', user.uid)\r\n      db.collection('users').onSnapshot(res => {\r\n        let users = [];\r\n        res.forEach(element => {\r\n          element.uid !== user.uid && users.push(element.data());\r\n        });\r\n        // console.log('Tuk otnovo setvame users ot App.jsx: ', users)\r\n        dispatch({\r\n          type: 'getAllUsers',\r\n          payload: users,\r\n        });\r\n      console.log('Dispatchnahme tezi useri: ', users)\r\n        setIsLoading(false);\r\n      })\r\n    }\r\n\r\n  }, [user.uid])\r\n\r\n  useEffect(() => {\r\n    const choseUser = JSON.parse(window.localStorage.getItem('chosenProfile'))\r\n    dispatch({type: 'setChosenProfile', payload: choseUser});\r\n}, [])\r\n\r\n  if (isLoading) {\r\n    return <div style={{ margin: 'calc(50vh - 100px) auto' }}>\r\n      <CircularProgress size={100} />\r\n    </div>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <CssBaseline />\r\n      <header>\r\n        <MenuAppBar user={user} />\r\n      </header>\r\n      <main className=\"App\">\r\n        <Switch>\r\n          <Route exact path='/' >\r\n            {user.uid ?\r\n              <HomePage />\r\n              : <Redirect to=\"/login\" />}\r\n          </Route>\r\n          <Route path=\"/chosenProfile/:id\">\r\n            {user.uid ?\r\n              <ChosenProfile />\r\n              :\r\n              <Redirect to=\"/register\" />\r\n            }\r\n          </Route>\r\n          <Route exact path='/login'>\r\n            {user.uid ?\r\n              <div>\r\n                <Redirect to=\"/\" />\r\n              </div>\r\n              :\r\n              <Login />\r\n            }\r\n          </Route>\r\n          <Route exact path='/register'>\r\n            {user.uid ?\r\n              <div>\r\n                <Redirect to=\"/\" />\r\n              </div>\r\n              :\r\n              <Register />\r\n            }\r\n          </Route>\r\n          {user.uid ?\r\n            <Route exact path='/matches'>\r\n              <Matches />\r\n            </Route>\r\n            :\r\n            <Redirect to='/register' />\r\n          }\r\n          {user.uid ?\r\n            <Route path=\"/matches/:id\">\r\n              <ChosenMatch />\r\n            </Route>\r\n            :\r\n            <Redirect to='/register' />\r\n          }\r\n          <Route exact path='/profile'>\r\n            {user.uid ? <Profile /> : <Redirect to='/profile' />}\r\n          </Route>\r\n          <Route path='*'>\r\n            <Redirect to='/' />\r\n          </Route>\r\n        </Switch>\r\n      </main>\r\n      {user.uid && isChatOpened && <Chat />}\r\n      {user.uid &&\r\n        <Paper className={styles.paper}>\r\n          <Tooltip title={isChatOpened ? 'Close Chat':'Open Chat'} className={styles.tooltip} arrow TransitionComponent={Zoom} placement='top'>\r\n            <Fab component=\"span\" className={styles.smallBtn}>\r\n              <InsertCommentIcon fontSize='large' onClick={showChat} />\r\n            </Fab>\r\n          </Tooltip>\r\n        </Paper>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const initialState = [];\r\n\r\nconst homePageReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type){\r\n        case 'addToRemoved': {\r\n            return [...state, action.payload]\r\n        }\r\n        case 'setRemoved': {\r\n            return action.payload\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default homePageReducer;","const initialState = {\r\n    uid: '',\r\n    name: '',\r\n    email: '',\r\n    aboutYou: '',\r\n    age: null,\r\n    collageOrUni: '',\r\n    company: '',\r\n    country: '',\r\n    city: '',\r\n    gender: '',\r\n    jobTitle: '',\r\n    images: [],\r\n    mediaProfiles: [],\r\n    sexualOrientation: '',\r\n    youtubeSong: '',\r\n    passions: [],\r\n    chats: [],\r\n    isOnline: false,\r\n    liked: [],\r\n    disliked: [],\r\n    matches: []\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type){\r\n        case 'userLoggedIn':\r\n            return {\r\n                ...action.payload,\r\n            }\r\n        case 'userLoggedOut':\r\n            return initialState;\r\n        case 'userChangedProfilePic':\r\n            return {\r\n                ...state,\r\n                images: action.payload,\r\n            }\r\n        case 'userChangedAboutYou':\r\n            return {\r\n                ...state,\r\n                aboutYou: action.payload,\r\n            }\r\n        case 'userChangedGender': {\r\n            return {\r\n                ...state,\r\n                gender: action.payload\r\n            }\r\n        }\r\n        case 'userChangedLivingIn': {\r\n            return {\r\n                ...state,\r\n                country: action.payload\r\n            }\r\n        }\r\n        case 'userChangedPassions': {\r\n            return {\r\n                ...state,\r\n                passions: action.payload\r\n            }\r\n        }\r\n        case 'userChangedOrientation': {\r\n            return {\r\n                ...state,\r\n                sexualOrientation: action.payload\r\n            }\r\n        }\r\n        case 'userChangedJobTitle': {\r\n            return {\r\n                ...state,\r\n                jobTitle: action.payload\r\n            }\r\n        }\r\n        case 'userChangedCompany': {\r\n            return {\r\n                ...state,\r\n                company: action.payload\r\n            }\r\n        }\r\n        case 'userChangedCollegeOrUni': {\r\n            return {\r\n                ...state,\r\n                collageOrUni: action.payload\r\n            }\r\n        }\r\n        case 'userAddedToLiked': {\r\n            return {\r\n                ...state,\r\n                liked: [...state.liked, action.payload]\r\n            }\r\n        }\r\n        case 'userRemovedFromLiked': {\r\n            return {\r\n                ...state,\r\n                liked: action.payload\r\n            }\r\n        }\r\n        case 'userAddedToDisliked': {\r\n            return {\r\n                ...state,\r\n                disliked: [...state.disliked, action.payload]\r\n            }\r\n        }\r\n        case 'userAddedToMatches': {\r\n            return {\r\n                ...state,\r\n                matches: [...state.matches, action.payload]\r\n            }\r\n        }\r\n        case 'userRemovedFromMatches': {\r\n            return {\r\n                ...state,\r\n                matches: action.payload,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default userReducer;","const initialState = [];\r\n\r\nconst allUsersReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case 'getAllUsers':\r\n            return [\r\n                ...action.payload,\r\n            ]\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default allUsersReducer;","const initialState = {\r\n    uid: '',\r\n    name: '',\r\n    email: '',\r\n    aboutYou: '',\r\n    age: null,\r\n    collageOrUni: '',\r\n    company: '',\r\n    country: '',\r\n    city: '',\r\n    gender: '',\r\n    jobTitle: '',\r\n    images: [],\r\n    mediaProfiles: [],\r\n    sexualOrientation: '',\r\n    youtubeSong: '',\r\n    passions: [],\r\n    chats: [],\r\n    isOnline: false,\r\n    liked: [],\r\n    disliked: [],\r\n    matches: []\r\n};\r\n\r\nconst chosenProfileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type){\r\n        case 'setChosenProfile': {\r\n            return action.payload\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default chosenProfileReducer;","import { createStore, combineReducers, compose, applyMiddleware } from 'redux';\r\nimport homePageReducer from '../components/homePage/homePage.reducer';\r\nimport userReducer from '../components/login-register/login-register.reducer';\r\nimport allUsersReducer from '../components/users/users.reducer';\r\nimport chosenProfileReducer from '../components/chosenProfile/chosenProfile.reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n\r\n    currentUser: userReducer,\r\n    allUsers: allUsersReducer,\r\n    alreadyRemoved: homePageReducer,\r\n    chosenProfile: chosenProfileReducer,\r\n});\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    compose(\r\n        // applyMiddleware(thunk),\r\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    ));\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app/App';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport 'fontsource-roboto';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\nimport { CssBaseline } from '@material-ui/core';\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <Router>\r\n        <CssBaseline>\r\n          <App />\r\n        </CssBaseline>\r\n      </Router>\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatContainer\":\"Chat_chatContainer__EIVcp\",\"profilesInChat\":\"Chat_profilesInChat__1b0GJ\",\"innerDivChat\":\"Chat_innerDivChat__1tiQw\",\"missedMsg\":\"Chat_missedMsg__2RkTA\",\"chat\":\"Chat_chat__2m_BP\",\"messageContainer\":\"Chat_messageContainer__1EKLz\",\"chatForm\":\"Chat_chatForm__3DKZ9\",\"sign-in\":\"Chat_sign-in__3iGNs\",\"message\":\"Chat_message__Y278M\",\"sent\":\"Chat_sent__3suxQ\",\"received\":\"Chat_received__vZeoR\",\"heads\":\"Chat_heads___BcZl\"};"],"sourceRoot":""}