{"version":3,"sources":["components/matches/Matches.module.css","firebase.js","components/menuAppBar/dinderTrans2.png","components/menuAppBar/MenuAppBar.js","components/homePage/AgeRangeSlider.js","components/homePage/GenderRadioButtons.js","components/homePage/HomePage.jsx","components/profile/imageUploader/index.jsx","components/profile/Profile.jsx","components/login-register/Register.js","components/login-register/Login.js","components/chosenMatch/ChosenMatch.jsx","components/chosenProfile/ChosenProfile.jsx","components/matches/Matches.jsx","components/chat/chatHead.jsx","components/chat/chatService.js","components/chat/Message.jsx","components/chat/Chat.jsx","components/app/App.jsx","components/homePage/homePage.reducer.js","components/login-register/login-register.reducer.js","components/users/users.reducer.js","components/chosenProfile/chosenProfile.reducer.js","redux/store.js","index.js","components/chat/Chat.module.css"],"names":["module","exports","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","storage","useStyles","makeStyles","theme","root","flexGrow","width","marginTop","fontFamily","logoPaper","margin","spacing","background","padding","logo","appBar","zIndex","title","fontSize","menuIcon","linkMenuItem","textDecoration","outline","menu","MenuAppBar","classes","React","useState","anchorEl","setAnchorEl","dispatch","Boolean","useDispatch","user","useSelector","state","currentUser","className","CssBaseline","AppBar","elevation","Grid","container","justify","alignItems","item","xs","Paper","src","alt","aria-controls","aria-haspopup","onClick","event","currentTarget","id","keepMounted","open","onClose","MenuItem","component","Link","to","uid","signOut","then","type","catch","error","console","log","message","height","valueText","value","AgeRangeSlider","lowestAge","highestAge","setAgeRange","setValue","Typography","gutterBottom","replace","Slider","style","color","orientation","min","max","onChange","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","onChangeCommitted","GenderRadioButtons","setGenderValue","FormControl","FormLabel","RadioGroup","display","aria-label","name","target","FormControlLabel","control","Radio","label","HomePage","alreadyRemoved","users","allUsers","characters","setCharacters","lastDirection","setLastDirection","isSwipeView","setIsSwipeView","childRefs","useMemo","Array","length","fill","map","i","createRef","age","sort","a","b","filter","isNaN","ageRange","genderValue","filterProfiles","allProfiles","liked","includes","disliked","matches","useEffect","usersSortedByAge","gender","filteredUsers","outOfFrame","userId","updateProfileMatches","userOneId","userTwoId","collection","doc","update","FieldValue","arrayUnion","chatRoomDocId","set","messages","isTyping","createChatRoom","updateDataBase","payload","updateDB","arrProp","userIdToBeAdded","toLowerCase","get","data","swipe","dir","cardsLeft","person","toBeRemoved","index","indexOf","current","cardViewSwipe","usersToPrint","changeViewState","charactersLeft","minWidth","Button","forEach","res","newMatches","matchId","delete","variant","ref","chatRoomsRef","href","rel","character","onSwipe","direction","swiped","onCardLeftScreen","backgroundImage","images","Card","window","localStorage","setItem","JSON","stringify","updateChosenProfile","CardActionArea","CardMedia","image","CardContent","split","CardActions","size","paper","position","backgroundColor","divImg","backgroundSize","backgroundRepeat","backgroundPosition","justifyContent","smallBtn","top","right","fontWeight","ImageUploaderContainer","imgUrl","replaceImgUrl","updateImages","imageError","setImageError","isLoading","setIsLoading","loaderProgress","setLoaderProgress","CircularProgress","accept","input","multiple","e","files","file","dotPossition","lastIndexOf","newFileName","slice","Date","now","uploadTask","child","put","on","snapshot","progress","bytesTransferred","totalBytes","TaskState","PAUSED","RUNNING","getDownloadURL","downloadURL","newImagesArr","err","handleUploadClick","htmlFor","Tooltip","arrow","TransitionComponent","Zoom","placement","Fab","borderBottomColor","borderBottom","button","formControl","CssTextField","withStyles","borderColor","TextField","Profile","userRef","aboutYou","setAboutYou","passionsFromDb","passions","join","setPassions","setGender","sexualOrientation","setOrientation","regionFromDb","country","countryFromDb","region","setRegion","allCountriesInARegion","setAllCountriesInARegion","livingIn","setLivingIn","userImages","setUserImages","jobTitle","setJobTitle","company","setCompany","collageOrUni","collegeOrUni","setCollegeOrUni","fetch","json","exists","imagesArraySet","setImagesArrLengthAndFill","imagesArr","url","replacedImageUrls","maxSize","resultArr","noValidate","autoComplete","wrap","marginBottom","multiline","rows","rowsMax","fullWidth","onBlur","placeholder","row","aria-flowto","radio","Select","labelId","InputLabel","disabled","alpha2Code","defaultProfilePicUrl","borderRadius","maxWidth","lineHeight","googleIcon","marginRight","CssOutlinedInput","border","OutlinedInput","Register","setCurrentUser","emailInput","setEmailInput","passInput","setPassInput","firstNameInput","setFirstNameInput","lastNameInput","setLastNameInput","ageInput","setAgeInput","isPassVisible","setIsPassVisible","firstNameError","setFirstNameError","lastNameError","setLastNameError","emailError","setEmailError","passwordError","setPasswordError","ageError","setAgeError","changeInput","field","validateName","test","changeAllErrorsState","firstNameErr","lastNameErr","emailErr","passwordErr","ageErr","validateForm","isEmailValid","createUserInDb","obj","Container","align","onSubmit","preventDefault","setPersistence","Auth","Persistence","LOCAL","createUserWithEmailAndPassword","fullName","userInDb","email","city","mediaProfiles","youtubeSong","chats","isOnline","autoFocus","aria-describedby","ev","trim","FormHelperText","endAdornment","InputAdornment","IconButton","onMouseDown","edge","Visibility","VisibilityOff","provider","GoogleAuthProvider","signInWithPopup","displayName","additionalUserInfo","profile","picture","createUpdateGoogleUserInDb","form","Login","signInWithEmailAndPassword","authToken","textAlign","textField","ChosenMatch","styles","chosenProfile","setImages","imagesToDisplay","renderOverlay","overlayBackgroundColor","ChosenProfile","flexColumn","flexDirection","boxShadow","expanded","left","media","colorBlack","btnContainer","Matches","removedFromHomePage","moreDetailsCardKey","setMoreDetailsCardKey","setMatches","allMatches","dislikeUser","updatedRemovedFromHomePage","currUserMatchesIds","currUserLikedProfilesIds","likedId","removedUserMatches","find","updatedUsers","selectedUserId","currentUserId","deleteChatRoom","btnStyle","head","timestamp","active","missed","ChatHead","selectTargetChat","chat","isActive","targetUserId","targetUser","currentChat","setCurrentChat","hasMissedMessages","setHasMissedMessages","lastMessageSender","sender","borderRight","Avatar","messageStyle","userImage","chatClasses","createdAt","toDateString","Chat","formValue","setFormValue","allChats","setAllChats","targetChatId","setTargetChatId","selectedChatUsername","setSelectedChatUsername","dummyDiv","useRef","where","onSnapshot","snapShot","tempAllChats","unshift","push","sortedByTimeChats","lastMessageTimestamp","scrollIntoView","behavior","block","inline","sendMessage","chatId","findIndex","chatContainer","profilesInChat","innerDivChat","messageContainer","chatForm","bottom","App","isChatOpened","setIsChatOpened","onAuthStateChanged","element","choseUser","parse","getItem","exact","path","tooltip","initialState","homePageReducer","action","userReducer","allUsersReducer","chosenProfileReducer","rootReducer","combineReducers","store","createStore","compose","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1ca5de88.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnStyle\":\"Matches_btnStyle__2XK7F\"};","import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.firestore();\r\nconst storage = firebase.storage();\r\nconst auth = firebase.auth();\r\n\r\nexport { db, storage, auth };\r\nexport default firebase;","export default __webpack_public_path__ + \"static/media/dinderTrans2.19d7ad87.png\";","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { Link } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { auth } from '../../firebase';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n\r\nimport logo from './dinderTrans2.png'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    marginTop: '50px',\r\n    fontFamily: 'Nunito',\r\n  },\r\n  logoPaper: {\r\n    margin: `${theme.spacing(1)}px auto`,\r\n    background: 'rgba(255,255,255,0.3)',\r\n    padding: '0 10px',\r\n  },\r\n  logo: {\r\n    width: '100px',\r\n  },\r\n  appBar: {\r\n    zIndex: '1',\r\n    background: 'none',\r\n    padding: `0 ${theme.spacing(3)}px`,\r\n  },\r\n  title: {\r\n    fontSize: '3rem',\r\n  },\r\n  menuIcon: {\r\n    fontSize: '35px',\r\n  },\r\n  '& ul': {\r\n    padding: '40 !important',\r\n  },\r\n  linkMenuItem: {\r\n    textDecoration: 'none !important',\r\n    '&:focus':{\r\n      outline: 'none !important',\r\n    }\r\n  },\r\n  menu: {\r\n    '& div ul.MuiList-padding': {\r\n    }\r\n  },\r\n}));\r\n\r\nexport default function MenuAppBar() {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(state => state.currentUser);\r\n\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const logout = () => {\r\n    auth.signOut()\r\n    .then(dispatch({type: 'userLoggedOut'}))\r\n    .catch(error => console.log(error.message))\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar elevation={0} className={classes.appBar}>\r\n        <Grid\r\n          container\r\n          justify='space-between'\r\n          alignItems='center'\r\n        >\r\n          <Grid item xs={1}>\r\n            <Paper className={classes.logoPaper} elevation={10}>\r\n              <img src={logo} className={classes.logo} alt='logo'></img>\r\n            </Paper>\r\n          </Grid>\r\n          <Grid>\r\n            <MenuIcon className={classes.menuIcon} aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleMenu} />\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n              className={classes.menu}\r\n            >\r\n              <MenuItem component={Link} className={classes.linkMenuItem} to='/'>Home</MenuItem>\r\n              {\r\n                user.uid ?\r\n                  <div>\r\n                    <MenuItem component={Link} className={classes.linkMenuItem} to='/matches'>Matches</MenuItem>\r\n                    <MenuItem component={Link} className={classes.linkMenuItem} to='/profile'>Profile</MenuItem>\r\n                    <MenuItem component={Link} className={classes.linkMenuItem} to='/' onClick={() => {logout()}} >Logout</MenuItem>\r\n                  </div>\r\n                  :\r\n                  <div>\r\n                    <MenuItem component={Link} className={classes.linkMenuItem} to='/register'>Register</MenuItem>\r\n                    <MenuItem component={Link} className={classes.linkMenuItem} to='/login'>Login</MenuItem>\r\n                  </div>\r\n              }\r\n            </Menu>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        height: 200,\r\n    },\r\n});\r\n\r\nfunction valueText(value) {\r\n    return `Age range: ${value}`;\r\n}\r\n\r\nexport default function AgeRangeSlider({ lowestAge, highestAge, setAgeRange }) {\r\n    const classes = useStyles();\r\n    const [value, setValue] = useState([lowestAge, highestAge]);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Typography id=\"range-slider\" gutterBottom>\r\n                {valueText(value).replace(',', ' - ')}\r\n            </Typography>\r\n            <Slider\r\n                style={{color: 'white'}}\r\n                orientation=\"vertical\"\r\n                min={lowestAge}\r\n                max={highestAge}\r\n                value={value}\r\n                onChange={handleChange}\r\n                valueLabelDisplay=\"auto\"\r\n                aria-labelledby=\"range-slider\"\r\n                getAriaValueText={() => valueText}\r\n                onChangeCommitted={() => setAgeRange(value)}\r\n            />\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default function GenderRadioButtons({setGenderValue}) {\r\n  const useStyles = makeStyles({\r\n    root: {\r\n      '& legend':{\r\n        color: 'white',\r\n      }\r\n    },\r\n  });\r\n\r\n  const [value, setValue] = React.useState('all');\r\n\r\n  const handleChange = (event) => {\r\n    setValue(event.target.value);\r\n    setGenderValue(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <FormControl component=\"fieldset\">\r\n      <FormLabel component=\"legend\">Gender</FormLabel>\r\n      <RadioGroup display=\"flex\" aria-label=\"gender\" name=\"gender1\" value={value} onChange={handleChange}>\r\n        <FormControlLabel value=\"female\" control={<Radio color=\"secondary\"/>} label=\"Female\" />\r\n        <FormControlLabel value=\"male\" control={<Radio color=\"primary\"/>} label=\"Male\" />\r\n        <FormControlLabel value=\"other\" control={<Radio color=\"default\"/>} label=\"Other\" />\r\n        <FormControlLabel value=\"all\" control={<Radio color=\"default\"/>} label=\"All\" />\r\n      </RadioGroup>\r\n    </FormControl>\r\n  );\r\n}","import { Link } from \"react-router-dom\";\r\nimport React, { useState, useMemo, useEffect } from 'react';\r\nimport TinderCard from 'react-tinder-card';\r\nimport './HomePage.css';\r\nimport TouchAppIcon from '@material-ui/icons/TouchApp';\r\nimport ViewModuleIcon from '@material-ui/icons/ViewModule';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport firebase, { db } from '../../firebase';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AgeRangeSlider from './AgeRangeSlider';\r\nimport GenderRadioButtons from './GenderRadioButtons'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: 300,\r\n  },\r\n});\r\n\r\nexport default function HomePage () {\r\n  const dispatch = useDispatch();\r\n  const alreadyRemoved = useSelector(state => state.alreadyRemoved);\r\n  const currentUser = useSelector(state => state.currentUser);\r\n  const users = useSelector(state => state.allUsers);\r\n  const [characters, setCharacters] = useState([]);\r\n  const [lastDirection, setLastDirection] = useState();\r\n  const [isSwipeView, setIsSwipeView] = useState(true);\r\n  const childRefs = useMemo(() => Array(characters.length).fill(0).map(i => React.createRef()), [characters.length]); \r\n  const lowestAge = users.map(user => +user.age).sort((a, b) => a - b).filter(age => !isNaN(age))[0];\r\n  const highestAge = users.map(user => +user.age).sort((a, b) => b - a).filter(age => !isNaN(age))[0];\r\n  const [ageRange, setAgeRange] = useState([lowestAge, highestAge]);\r\n  const [genderValue, setGenderValue] = useState('all');\r\n\r\n  useEffect(() => {\r\n    if(genderValue === 'all') {\r\n      const usersSortedByAge = users.filter(user => user.age >= ageRange[0] && user.age <= ageRange[1]);\r\n      setCharacters(usersSortedByAge);\r\n    } else {\r\n      const usersSortedByAge = users.filter(user => user.age >= ageRange[0] && user.age <= ageRange[1] && user.gender === genderValue);\r\n      setCharacters(usersSortedByAge);\r\n    }\r\n  }, [ageRange, genderValue])\r\n\r\n  useEffect(() => {\r\n    const filteredUsers = filterProfiles(users, currentUser);\r\n    setCharacters(filteredUsers);\r\n  }, [])\r\n  \r\n  function filterProfiles (allProfiles, currentUser) {\r\n    return allProfiles.filter(user => !currentUser.liked.includes(user.uid) && !currentUser.disliked.includes(user.uid) && !currentUser.matches.includes(user.uid) && currentUser.uid !== user.uid)\r\n  }\r\n\r\n  const swiped = (direction, userIdToBeAdded) => {\r\n    let arrProp = '';\r\n    switch(direction){\r\n      case 'left' : arrProp = 'Disliked';\r\n      break;\r\n      case 'right' : arrProp = 'Liked';\r\n      break;\r\n      case 'up' : arrProp = 'Matches';\r\n      break;\r\n      case 'down' : arrProp = 'Disliked';\r\n      break;\r\n      default: break;\r\n    }\r\n    updateDB(arrProp, userIdToBeAdded);\r\n    setLastDirection(direction);\r\n    dispatch({type: 'addToRemoved', payload: userIdToBeAdded})\r\n  }\r\n\r\n  const outOfFrame = (userId) => {\r\n    console.log(userId + ' left the screen!!@#@!$!%@!$%#@^&#%&*@!$&^');\r\n  }\r\n\r\n  const updateProfileMatches = (userOneId, userTwoId) => {\r\n    db.collection('users').doc(userOneId).update({\r\n      matches: firebase.firestore.FieldValue.arrayUnion(userTwoId),\r\n    })\r\n\r\n    createChatRoom(userOneId, userTwoId);\r\n\r\n    db.collection('users').doc(userTwoId).update({\r\n      matches: firebase.firestore.FieldValue.arrayUnion(userOneId),\r\n    }).then(() => {\r\n      let updatedUsers = users.map(user => {\r\n        if (user.uid === userTwoId) {\r\n          user.matches = [...user.matches, userOneId];\r\n        }\r\n        return user;\r\n      });\r\n      updateDataBase( 'getAllUsers', updatedUsers);\r\n      updateDataBase( 'userAddedToMatches', userTwoId);\r\n    })\r\n  }\r\n  // To be moved to Service file:\r\n  function createChatRoom(userOneId, userTwoId) {\r\n    const chatRoomDocId = userOneId > userTwoId ? `${userTwoId}_${userOneId}` : `${userOneId}_${userTwoId}`;\r\n    db.collection('chatRooms').doc(chatRoomDocId).set({\r\n      messages: [],\r\n      users: [userOneId, userTwoId],\r\n      isTyping: false, \r\n    })\r\n      .then(() => console.log(\"Successfully created chatRoom with users: \", [userOneId, userTwoId]))\r\n      .catch((error) => console.log(\"Error on chatRoom creation: \", error.message))\r\n  }\r\n\r\n  function updateDataBase(type, payload) {\r\n    dispatch({ type: type, payload: payload});\r\n  }\r\n\r\n  const updateDB = (arrProp, userIdToBeAdded) => {\r\n    \r\n    console.log('arrProp', arrProp)\r\n\r\n    arrProp !== 'Matches' && db.collection('users').doc(currentUser.uid).update({\r\n      [arrProp.toLowerCase()]: firebase.firestore.FieldValue.arrayUnion(userIdToBeAdded),\r\n    }).then(() => {\r\n      updateDataBase(`userAddedTo${arrProp}`, userIdToBeAdded)\r\n    }).catch((error) => {\r\n      console.error(\"Error updating document: \", error);\r\n    });\r\n\r\n    outOfFrame(userIdToBeAdded)\r\n\r\n    arrProp === 'Liked' && db.collection('users').doc(userIdToBeAdded).get()\r\n      .then(doc => {\r\n        if (doc.data().liked.includes(currentUser.uid)) {\r\n          updateProfileMatches(currentUser.uid, userIdToBeAdded)\r\n        }\r\n      })\r\n    arrProp === 'Matches' && updateProfileMatches(currentUser.uid, userIdToBeAdded)\r\n  }\r\n\r\n  const swipe = (dir) => {\r\n    const cardsLeft = characters.filter(person => !alreadyRemoved.includes(person.uid));\r\n    if (cardsLeft.length) {\r\n      const toBeRemoved = cardsLeft[cardsLeft.length - 1].uid;\r\n      const index = characters.map(person => person.uid).indexOf(toBeRemoved);\r\n      childRefs[index].current.swipe(dir);\r\n    }\r\n  }\r\n\r\n  const cardViewSwipe = (arrProp, userIdToBeAdded) => {\r\n    db.collection('users').doc(currentUser.uid).update({\r\n      [arrProp.toLowerCase()]: [...currentUser[arrProp.toLowerCase()], userIdToBeAdded],\r\n    }).then(() => {\r\n      const currentUserNewState = {\r\n        ...currentUser,\r\n        [arrProp.toLowerCase()]: [...currentUser[arrProp.toLowerCase()], userIdToBeAdded],\r\n      }\r\n      updateDataBase('userLoggedIn', currentUserNewState)\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error updating document: \", error);\r\n    });\r\n\r\n    arrProp === 'Liked' && db.collection('users').doc(userIdToBeAdded).get()\r\n      .then(doc => {\r\n        if (doc.data().liked.includes(currentUser.uid)) {\r\n          updateProfileMatches(currentUser.uid, userIdToBeAdded)\r\n        }\r\n      })\r\n    arrProp === 'Matches' && db.collection('users').doc(userIdToBeAdded).get()\r\n      .then(() => {\r\n        updateProfileMatches(currentUser.uid, userIdToBeAdded)\r\n      })\r\n      const usersToPrint = filterProfiles(users, currentUser).filter(user => user.uid !== userIdToBeAdded);\r\n\r\n      setCharacters(usersToPrint);\r\n  }\r\n\r\n  const resetCurrentUser = () => {\r\n    const currentUserMatches = currentUser.matches;\r\n    currentUserMatches.forEach(userId => {\r\n      db.collection('users').doc(userId).get()\r\n        .then(res => {\r\n          let newMatches = res.data().matches.filter(matchId => matchId !== currentUser.uid);\r\n          db.collection('users').doc(userId).update({\r\n            matches: newMatches,\r\n          })\r\n        })\r\n    })\r\n\r\n    db.collection('users').doc(currentUser.uid).update({\r\n      liked: [],\r\n      disliked: [],\r\n      matches: [],\r\n    }).then(() => {\r\n      dispatch({ type: 'userLoggedIn', payload: {...currentUser, liked: [], disliked: [], matches: []} })\r\n      console.log('Successfully reset currentUser: ', currentUser)\r\n    })\r\n    db.collection('chatRooms').get()\r\n    .then(res => res.forEach(doc => {\r\n      if(doc.id.includes(currentUser.uid)) {\r\n        db.collection('chatRooms').doc(doc.id).delete()\r\n          .then(() => console.log('Successfully deleted the chatRooms for user: ', currentUser))\r\n      }\r\n    }))\r\n\r\n    // TODO: Make the characters reset here!!!\r\n\r\n    // dispatch({type: 'setRemoved', payload: []})\r\n    // setCharacters(users);\r\n    // console.log(users);\r\n  }\r\n\r\n  const resetAllUser = () => {\r\n    db.collection('users').get()\r\n    .then(res => res.forEach(doc => {\r\n      doc.ref.update({\r\n        liked: [],\r\n        disliked: [],\r\n        matches: [],\r\n      })\r\n    }))\r\n    .then(() => {\r\n      \r\n      dispatch({ type: 'getAllUsers', payload: users.map(user => user.matches = []) });\r\n      setCharacters(users);\r\n    })\r\n    // Here we are deleting ALL chats\r\n    let chatRoomsRef = db.collection('chatRooms');\r\n    chatRoomsRef.get()\r\n      .then(res => res.forEach(doc => chatRoomsRef.doc(doc.id).delete()));\r\n  }\r\n\r\n  const changeViewState = () => {\r\n    const filteredUsers = filterProfiles (users, currentUser)\r\n    const charactersLeft = filteredUsers.filter(userId => !alreadyRemoved.includes(userId))\r\n\r\n    setCharacters(charactersLeft);\r\n    setIsSwipeView(!isSwipeView);\r\n  }\r\n\r\n  const updateChosenProfile = (user) => {\r\n    dispatch({type: 'setChosenProfile', payload: user});\r\n    window.localStorage.setItem('chosenProfile', JSON.stringify(user));\r\n  }\r\n\r\n  return (\r\n    <div style={{minWidth: '450px', color: 'white'}}>\r\n      <Button onClick={resetCurrentUser} variant='contained' className={'resetButton'}>Reset currentUser</Button>\r\n      <Button onClick={resetAllUser} variant='contained' className={'resetButton'}>Reset all users</Button>\r\n      {isSwipeView ? (\r\n        <div style={{width: '85%', margin: '0 auto', zIndex: '2'}}>\r\n          <ViewModuleIcon onClick={changeViewState} fontSize='large' style={{marginTop: '20px'}} />\r\n          <link href='https://fonts.googleapis.com/css?family=Damion&display=swap' rel='stylesheet' />\r\n          <link href='https://fonts.googleapis.com/css?family=Alatsi&display=swap' rel='stylesheet' />\r\n          <h1 className={'homeTitle'}>React Tinder Card</h1>\r\n          <div className='cardContainer'>\r\n            {characters.map((character, index) =>\r\n              <TinderCard ref={childRefs[index]} className='swipe' key={character.uid} onSwipe={(dir) => {\r\n                swiped(dir, character.uid, character.name);\r\n                }} onCardLeftScreen={() => outOfFrame(character.uid)}>\r\n                <div style={{ backgroundImage: 'url(' + (character.images[0] || 'https://firebasestorage.googleapis.com/v0/b/fir-project-d9b09.appspot.com/o/profilePics%2Fdefault-profile-pic.jpg?alt=media&token=12bd0268-84bd-47ee-9bf7-5ca4269f87d5') + ')' }} className='card'>\r\n                  <h3>{character.name}</h3>\r\n                </div>\r\n              </TinderCard>\r\n            )}\r\n          </div>\r\n          <div className='buttons'>\r\n            <button onClick={() => swipe('left')}>Swipe left!</button>\r\n            <button onClick={() => swipe('right')}>Swipe right!</button>\r\n          </div>\r\n          {lastDirection ? <h3 key={lastDirection} className='infoText'>You swiped {lastDirection}</h3> : <h3 className='infoText'>Swipe a card or press a button to get started!</h3>}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <div className='filtersContainer'>\r\n            <GenderRadioButtons setGenderValue={setGenderValue}/>\r\n            <AgeRangeSlider lowestAge={lowestAge} highestAge={highestAge} setAgeRange={setAgeRange}/>\r\n          </div> \r\n          <TouchAppIcon onClick={changeViewState} fontSize='large' style={{marginTop: '20px', zIndex: '2'}} />\r\n          <div className=\"cardViewWrapper\">\r\n            <div className=\"containerCardView\">\r\n              {characters.map((user) =>\r\n                <Card elevation={20} className=\"root\" key={user.uid} onClick={() => updateChosenProfile(user)}>\r\n                  <CardActionArea component={Link} to={'/chosenProfile/' + user.uid}>\r\n                    <CardMedia\r\n                      className=\"media\"\r\n                      image={user.images[0] || 'https://firebasestorage.googleapis.com/v0/b/fir-project-d9b09.appspot.com/o/profilePics%2Fdefault-profile-pic.jpg?alt=media&token=12bd0268-84bd-47ee-9bf7-5ca4269f87d5'}\r\n                      title={user.name}\r\n                    />\r\n                    <CardContent>\r\n                      <Typography className=\"colorBlack\" gutterBottom variant=\"h5\" component=\"h2\">\r\n                        {user.name.split(' ')[0]} {user.age}\r\n                      </Typography>\r\n                    </CardContent>\r\n                  </CardActionArea>\r\n                  <CardActions className=\"btnContainer\">\r\n                    <Button size=\"small\" color=\"primary\" onClick={() => cardViewSwipe('Disliked', user.uid)}>\r\n                    Dislike\r\n                    </Button>\r\n                    <Button size=\"small\" color=\"primary\" onClick={() => cardViewSwipe('Liked', user.uid)}>\r\n                    Like\r\n                    </Button>\r\n                  </CardActions>\r\n                </Card>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}","import { useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport firebase from '../../../firebase';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        position: 'relative',\r\n        height: '200px',\r\n        width: '130px',\r\n        margin: '13px 13px',\r\n        backgroundColor: 'rgba(255,255,255,0.5)',\r\n        '& .MuiFab-root:hover': {\r\n            backgroundColor: '#e66465',\r\n            '& .MuiSvgIcon-root': {\r\n                color: 'rgb(225,225,225)'\r\n            },\r\n        },\r\n        '& input': {\r\n            display: 'none'\r\n        }\r\n    },\r\n    divImg: {\r\n        height: '100%',\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    smallBtn: {\r\n        position: 'absolute',\r\n        top: '-20px',\r\n        right: '-20px',\r\n        width: '40px',\r\n        height: '40px',\r\n        '& .MuiSvgIcon-root': {\r\n            width: '25px'\r\n        },\r\n        color: '#e66465',\r\n        background: 'rgb(225,225,225)',\r\n    },\r\n    error: {\r\n        color: 'red',\r\n        width: '90%',\r\n        fontWeight: 'bold',\r\n        backgroundColor: 'rgba(255,255,255,0.8)',\r\n    }\r\n}));\r\n\r\nconst ImageUploaderContainer = ({ id, userId, imgUrl, replaceImgUrl, updateImages }) => {\r\n    const classes = useStyles();\r\n    const [imageError, setImageError] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [loaderProgress, setLoaderProgress] = useState(null);\r\n\r\n\r\n    const handleUploadClick = (e) => {\r\n\r\n        const data = e.target;\r\n        if (data.files && data.files[0]) {\r\n            let file = data.files[0];\r\n\r\n            if (file.size > 6123456){\r\n                setImageError('Image must be less then 6Mb!');\r\n                return;\r\n            }\r\n            setIsLoading(true);\r\n            setImageError('');\r\n\r\n            let dotPossition = file.name.lastIndexOf('.');\r\n            let newFileName = file.name.slice(0, dotPossition) + Date.now();\r\n            console.log(newFileName);\r\n\r\n            const storageRef = firebase.storage().ref();\r\n            const uploadTask = storageRef.child(`${userId}/${newFileName}`).put(file);\r\n            \r\n            uploadTask.on('state_changed',\r\n                (snapshot) => {\r\n                    var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                    setLoaderProgress(progress);\r\n\r\n                    // eslint-disable-next-line default-case\r\n                    switch (snapshot.state) {\r\n                        case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n                            console.log('Upload is paused');\r\n                            break;\r\n                        case firebase.storage.TaskState.RUNNING: // or 'running'\r\n                            console.log('Upload is running');\r\n                            break;\r\n                    }\r\n                },\r\n                (error) => {\r\n                    console.log('An error occurred on image upload ', error.message);\r\n                },\r\n                () => {\r\n                    // Handle successful uploads on complete\r\n                    uploadTask.snapshot.ref.getDownloadURL()\r\n                    .then((downloadURL) => {\r\n                        console.log('File available at', downloadURL);\r\n                        const newImagesArr = async () => await replaceImgUrl(id, downloadURL);\r\n                        newImagesArr().then((images) => updateImages(images));\r\n                        setIsLoading(false);\r\n                    })\r\n                    .catch(err => console.log('Error while uploading the image: ', err.message));\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Paper elevation={6} className={classes.paper}>\r\n                <div className={classes.divImg} style={{backgroundImage: `url(${imgUrl})`}}>\r\n                    {imageError ? <span className={classes.error}>{imageError}</span> : null}\r\n                    {isLoading ? <CircularProgress variant=\"determinate\" value={loaderProgress} /> : null}\r\n                </div>\r\n                <input\r\n                    accept=\"image/*\"\r\n                    className={classes.input}\r\n                    id={`contained-button-file-${id}`}\r\n                    multiple={false}\r\n                    type=\"file\"\r\n                    onChange={e => handleUploadClick(e)}\r\n                />\r\n                <label htmlFor={`contained-button-file-${id}`}>\r\n                    <Tooltip title=\"Add Photo\" arrow TransitionComponent={Zoom} placement='right'>\r\n                        <Fab component=\"div\" className={classes.smallBtn}>\r\n                            <AddPhotoAlternateIcon />\r\n                        </Fab>\r\n                    </Tooltip>\r\n                </label>\r\n            </Paper>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ImageUploaderContainer;","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport ImageUploaderContainer from './imageUploader';\r\n\r\nimport { db } from '../../firebase';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        width: '40vw',\r\n        minWidth: '400px',\r\n        margin: '0 auto',\r\n        '& .MuiSvgIcon-root.MuiSelect-icon ': {\r\n            color: 'white'\r\n        },\r\n        '& .MuiInput-underline:hover:not(.Mui-disabled):before': {\r\n            borderBottomColor: 'white'\r\n        },\r\n        '& .MuiInput-underline.Mui-disabled:before': {\r\n            borderBottom: '1px solid rgb(205,205,205)'\r\n        },\r\n        '& .MuiInput-underline:before': {\r\n            borderBottomColor: 'white',\r\n        },\r\n        '&:hover': {\r\n            borderBottomColor: 'red'\r\n        },\r\n        '& input.MuiInputBase-input.MuiInput-input': {\r\n            color: 'white',\r\n        },\r\n        '& div.MuiSelect-select.MuiSelect-selectMenu.MuiInputBase-input.MuiInput-input': {\r\n            color: 'white',\r\n        },\r\n    },\r\n    paper: {\r\n        margin: '5px 0',\r\n        background: 'none',\r\n        color: 'white',\r\n    },\r\n    item: {\r\n        width: '100%',\r\n        margin: '20px 0',\r\n    },\r\n    button: {\r\n        color: '#e66465',\r\n        background: '#9198e5',\r\n    },\r\n    input: {\r\n        display: 'none',\r\n        color: 'white',\r\n        '& .MuiInputBase-input': {\r\n            color: 'white',\r\n        },\r\n    },\r\n    formControl: {\r\n        '& .MuiSelect-select:focus': {\r\n            background: 'none', // rgba(255, 255,\t255, 0.3)\r\n        },\r\n        minWidth: '250px',\r\n        margin: 0,\r\n    },\r\n\r\n});\r\n\r\nconst CssTextField = withStyles({\r\n    root: {\r\n        '& label': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& label.Mui-focused': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& .MuiInput-underline:before': {\r\n            borderBottomColor: 'white'\r\n        },\r\n        '& .MuiInput-underline:after': {\r\n            borderBottomColor: '#1976d2',\r\n        },\r\n        '& .MuiOutlinedInput-root': {\r\n            color: 'rgb(225, 225, 225)',\r\n            // fontFamily: 'Nunito',\r\n            '& fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n            '&:hover fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n        },\r\n    },\r\n})(TextField);\r\n\r\nconst Profile = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const user = useSelector(state => state.currentUser);\r\n\r\n    const userRef = db.collection('users').doc(user.uid);\r\n\r\n    const classes = useStyles();\r\n    const numberOfImageContainers = 6;\r\n\r\n    const [aboutYou, setAboutYou] = useState(user.aboutYou);\r\n    const passionsFromDb = user.passions.join(', ');\r\n    const [passions, setPassions] = useState(passionsFromDb);\r\n    const [gender, setGender] = useState(user.gender);\r\n    const [orientation, setOrientation] = useState(user.sexualOrientation);\r\n    const regionFromDb = user.country.split(' ')[0];\r\n    const countryFromDb = user.country.split(' ')[1];\r\n    const [region, setRegion] = useState(regionFromDb);\r\n    const [allCountriesInARegion, setAllCountriesInARegion] = useState([]);\r\n    const [livingIn, setLivingIn] = useState(countryFromDb);\r\n    const [userImages, setUserImages] = useState([]);\r\n    const [jobTitle, setJobTitle] = useState(user.jobTitle);\r\n    const [company, setCompany] = useState(user.company);\r\n    const [collegeOrUni, setCollegeOrUni] = useState(user.collageOrUni);\r\n\r\n    useEffect(() => {\r\n        region && fetch(`https://restcountries.eu/rest/v2/region/` + region)\r\n            .then(res => res.json())\r\n            .then(res => setAllCountriesInARegion(res))\r\n            .catch(err => console.log(err))\r\n    }, [region]);\r\n\r\n    useEffect(() => {\r\n        const docRef = db.collection('users').doc(`${user.uid}`);\r\n        docRef.get().then((doc) => {\r\n            if (doc.exists) {\r\n\r\n                const imagesArraySet = setImagesArrLengthAndFill(doc.data().images, numberOfImageContainers);\r\n\r\n                setUserImages(imagesArraySet)\r\n            } else {\r\n                // doc.data() will be undefined in this case\r\n            }\r\n        }).catch((error) => {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n    }, []);\r\n\r\n    const handleAboutYouChange = (e) => {\r\n        setAboutYou(e.target.value);\r\n    }\r\n    const handleAboutYou = (e) => {\r\n        if (user.aboutYou !== aboutYou) {\r\n\r\n            userRef.update({ aboutYou: e.target.value })\r\n                .then(() => {\r\n                    console.log('Updated successfully');\r\n                    dispatch({\r\n                        type: 'userChangedAboutYou',\r\n                        payload: e.target.value\r\n                    });\r\n\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error updating', error);\r\n                })\r\n        }\r\n    }\r\n\r\n    const handlePassionsChange = e => {\r\n        setPassions(e.target.value);\r\n    }\r\n\r\n    const handlePassions = (e) => {\r\n        let value = passions.split(', ');\r\n        if (user.passions.join(', ') !== value) {\r\n            userRef.update({ passions: value })\r\n                .then(() => {\r\n                    console.log('Updated successfully')\r\n                    dispatch({\r\n                        type: 'userChangedPassions',\r\n                        payload: value\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error updating', error);\r\n                })\r\n        }\r\n    }\r\n\r\n    const handleGenderChange = e => {\r\n        setGender(e.target.value);\r\n        userRef.update({ gender: e.target.value })\r\n            .then(() => {\r\n                console.log('updated successfully');\r\n                dispatch({\r\n                    type: 'userChangedGender',\r\n                    payload: e.target.value\r\n                })\r\n            })\r\n            .catch(error => {\r\n                console.log('Error updating', error);\r\n            })\r\n    }\r\n\r\n    const handleOrientationChange = e => {\r\n        setOrientation(e.target.value);\r\n        userRef.update({ sexualOrientation: e.target.value })\r\n            .then(() => {\r\n                console.log('updated successfully');\r\n                dispatch({\r\n                    type: 'userChangedOrientation',\r\n                    payload: e.target.value\r\n                })\r\n            })\r\n            .catch(error => {\r\n                console.log('Error updating', error);\r\n            })\r\n\r\n    }\r\n\r\n    const handleLivingInChange = e => {\r\n        setLivingIn(e.target.value);\r\n        userRef.update({ country: `${region} ${e.target.value}` })\r\n            .then(() => {\r\n                console.log('updated successfully');\r\n                dispatch({\r\n                    type: 'userChangedLivingIn',\r\n                    payload: `${region} ${e.target.value}`\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log('Error updating', error);\r\n            })\r\n    }\r\n    const handleRegion = (e) => {\r\n        setRegion(e.target.value);\r\n    }\r\n\r\n    const handleJobTitleChange = (e) => {\r\n        setJobTitle(e.target.value);\r\n    }\r\n\r\n    const handleJobTitle = (e) => {\r\n        if (user.jobTitle !== e.target.value) {\r\n            userRef.update({ jobTitle: e.target.value })\r\n                .then(() => {\r\n                    console.log('Updated successfully');\r\n                    dispatch({\r\n                        type: 'userChangedJobTitle',\r\n                        payload: e.target.value\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error updating', error);\r\n                })\r\n        }\r\n    }\r\n\r\n    const handleCompanyChange = (e) => {\r\n        setCompany(e.target.value);\r\n    }\r\n    const handleCompany = (e) => {\r\n        if (user.company !== e.target.value) {\r\n            userRef.update({ company: e.target.value })\r\n                .then(() => {\r\n                    console.log('Updated successfully');\r\n                    dispatch({\r\n                        type: 'userChangedCompany',\r\n                        payload: e.target.value\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error updating', error);\r\n                })\r\n        }\r\n    }\r\n    const handleCollegeOrUniChange = (e) => {\r\n        setCollegeOrUni(e.target.value);\r\n    }\r\n    const handleCollegeOrUni = (e) => {\r\n        if (user.collageOrUni !== e.target.value) {\r\n            userRef.update({ collageOrUni: e.target.value })\r\n                .then(() => {\r\n                    console.log('Updated successfully');\r\n                    dispatch({\r\n                        type: 'userChangedCollegeOrUni',\r\n                        payload: e.target.value\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    console.log('Error updating', error);\r\n                })\r\n        }\r\n    }\r\n\r\n    const updateImages = (imagesArr) => {\r\n        let userRef = db.collection('users').doc(`${user.uid}`);\r\n        return userRef.update({\r\n            images: imagesArr,\r\n        }).then(() => {\r\n            console.log(\"Document successfully updated!\");\r\n        }).catch((error) => {\r\n            console.error(\"Error updating document: \", error);\r\n        });\r\n    }\r\n\r\n    const replaceImgUrl = (index, url) => {\r\n        const replacedImageUrls = [...userImages];\r\n        replacedImageUrls[index] = url;\r\n        setUserImages(replacedImageUrls);\r\n        dispatch({\r\n            type: 'userChangedProfilePic',\r\n            payload: replacedImageUrls,\r\n        })\r\n        return replacedImageUrls;\r\n    }\r\n\r\n    const setImagesArrLengthAndFill = (imagesArr, maxSize) => {\r\n        let resultArr = [...imagesArr]\r\n        resultArr.length = maxSize;\r\n        if (imagesArr.length < maxSize) {\r\n            resultArr.fill('', imagesArr.length);\r\n        }\r\n        return resultArr;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CssBaseline />\r\n            <form noValidate autoComplete=\"off\">\r\n                <Grid\r\n                    container\r\n                    className={classes.root}\r\n                    direction='column'\r\n                >\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid container direction='column'>\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Upload your images</Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    container\r\n                                    justify='center'\r\n                                    wrap='wrap'\r\n                                    style={{ margin: '30px 0', padding: '20px' }}\r\n                                >\r\n                                    {userImages.map((container, i) => {\r\n                                        return (\r\n                                            <Grid item key={i}>\r\n                                                <ImageUploaderContainer id={i} key={i} userId={user.uid} replaceImgUrl={replaceImgUrl} updateImages={updateImages} imgUrl={userImages[i] || ''} />\r\n                                            </Grid>\r\n                                        )\r\n                                    })}\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>About you</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ width: '80%', marginBottom: '30px' }}>\r\n                                    <CssTextField\r\n                                        id=\"outlined-multiline-flexible\"\r\n                                        label=\"About you\"\r\n                                        multiline\r\n                                        rows={4}\r\n                                        rowsMax={4}\r\n                                        fullWidth\r\n                                        value={aboutYou}\r\n                                        onChange={handleAboutYouChange}\r\n                                        onBlur={handleAboutYou}\r\n                                        variant=\"outlined\"\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Passions</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ width: '80%', marginBottom: '30px' }}>\r\n                                    <CssTextField\r\n                                        id=\"outlined-multiline-flexible\"\r\n                                        label=\"Passions\"\r\n                                        multiline\r\n                                        rows={4}\r\n                                        rowsMax={4}\r\n                                        fullWidth\r\n                                        value={passions}\r\n                                        onChange={handlePassionsChange}\r\n                                        onBlur={handlePassions}\r\n                                        variant=\"outlined\"\r\n                                        placeholder='Separate them by \", \"'\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Gender:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ justifyContent: 'center' }}>\r\n                                    <RadioGroup style={{ margin: '0 auto' }} row aria-flowto='right' aria-label=\"gender\" name=\"gender1\" value={gender} onChange={handleGenderChange}>\r\n                                        <FormControlLabel className={classes.radio} value=\"female\" control={<Radio color='secondary' />} label=\"Female\" />\r\n                                        <FormControlLabel value=\"male\" control={<Radio color='primary' />} label=\"Male\" />\r\n                                        <FormControlLabel value=\"other\" control={<Radio color='default' />} label=\"Other\" />\r\n                                    </RadioGroup>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Sexual orientation:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} className={classes.item}>\r\n                                    <FormControl className={classes.formControl}>\r\n                                        <Select\r\n                                            variant='standard'\r\n                                            labelId=\"demo-simple-select-label\"\r\n                                            id='sexualOrientation-select'\r\n                                            value={orientation}\r\n                                            onChange={handleOrientationChange}\r\n                                        >\r\n                                            <MenuItem value={'Straight'}>Straight</MenuItem>\r\n                                            <MenuItem value={'Gay'}>Gay</MenuItem>\r\n                                            <MenuItem value={'Lesbian'}>Lesbian</MenuItem>\r\n                                            <MenuItem value={'Bisexual'}>Bisexual</MenuItem>\r\n                                            <MenuItem value={'Asexual'}>Asexual</MenuItem>\r\n                                            <MenuItem value={'Demisexual'}>Demisexual</MenuItem>\r\n                                            <MenuItem value={'Queer'}>Queer</MenuItem>\r\n                                            <MenuItem value={'Questioning'}>Questioning</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Living in:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} className={classes.item}>\r\n                                    <FormControl className={classes.formControl}>\r\n                                        <InputLabel style={{ color: 'white' }}>Region</InputLabel>\r\n                                        <Select\r\n                                            variant='standard'\r\n                                            labelId=\"demo-simple-select-label\"\r\n                                            id='sexualOrientation-select'\r\n                                            value={region}\r\n                                            onChange={handleRegion}\r\n                                        >\r\n                                            <MenuItem value={'africa'}>Africa</MenuItem>\r\n                                            <MenuItem value={'americas'}>Americas</MenuItem>\r\n                                            <MenuItem value={'asia'}>Asia</MenuItem>\r\n                                            <MenuItem value={'europe'}>Europe</MenuItem>\r\n                                            <MenuItem value={'oceania'}>Oceania</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} className={classes.item}>\r\n                                    <FormControl className={classes.formControl}>\r\n                                        <InputLabel style={{ color: 'white' }} disabled>Country</InputLabel>\r\n                                        <Select\r\n                                            disabled={!region}\r\n                                            variant='standard'\r\n                                            labelId=\"demo-simple-select-label\"\r\n                                            id='country'\r\n                                            value={livingIn}\r\n                                            onChange={handleLivingInChange}\r\n                                        >\r\n                                            {allCountriesInARegion.map(country => <MenuItem key={country.alpha2Code} value={country.name}>{country.name}</MenuItem>)}\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Job title:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ width: '80%', marginBottom: '30px' }}>\r\n                                    <CssTextField id=\"standard-secondary\" label=\"Job title\"\r\n                                        fullWidth\r\n                                        color=\"secondary\"\r\n                                        value={jobTitle}\r\n                                        onChange={handleJobTitleChange}\r\n                                        onBlur={handleJobTitle}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>Company:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ width: '80%', marginBottom: '30px' }}>\r\n                                    <CssTextField id=\"standard-secondary\" label=\"Company\"\r\n                                        fullWidth\r\n                                        color=\"secondary\"\r\n                                        value={company}\r\n                                        onChange={handleCompanyChange}\r\n                                        onBlur={handleCompany}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Paper elevation={0} className={classes.paper}>\r\n                            <Grid\r\n                                container\r\n                                direction='column'\r\n                                alignItems='center'\r\n                            >\r\n                                <Grid item className={classes.item}>\r\n                                    <Typography variant='h4'>College/Uni:</Typography>\r\n                                </Grid>\r\n                                <Grid item xs={'auto'} style={{ width: '80%', marginBottom: '30px' }}>\r\n                                    <CssTextField id=\"standard-secondary\" label=\"College/Uni\"\r\n                                        fullWidth\r\n                                        color=\"secondary\"\r\n                                        value={collegeOrUni}\r\n                                        onChange={handleCollegeOrUniChange}\r\n                                        onBlur={handleCollegeOrUni}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, { useState } from 'react';\r\nimport { CssBaseline, InputLabel, OutlinedInput, FormControl, FormHelperText, Container, TextField, IconButton, InputAdornment, makeStyles, Button } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport firebase, { db, auth } from '../../firebase';\r\nimport { useDispatch } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst defaultProfilePicUrl = 'https://firebasestorage.googleapis.com/v0/b/fir-project-d9b09.appspot.com/o/profilePics%2Fdefault-profile-pic.jpg?alt=media&token=12bd0268-84bd-47ee-9bf7-5ca4269f87d5';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n            width: '35ch',\r\n        },\r\n        '& .MuiFormControl-root': {\r\n            '& .MuiFormHelperText-root.MuiFormHelperText-contained': {\r\n                color: 'red !important',\r\n                fontSize: '0.9rem',\r\n                padding: 0,\r\n                borderRadius: '0',\r\n            }\r\n        }\r\n    },\r\n    container: {\r\n        marginTop: '1rem',\r\n        width: 'max-content',\r\n        margin: '0 auto',\r\n        display: 'flex',\r\n        maxWidth: '400px',\r\n    },\r\n    label: {\r\n        lineHeight: '4px',\r\n    },\r\n    googleIcon: {\r\n        width: '1.5rem',\r\n        marginRight: '8px',\r\n    },\r\n}));\r\n\r\nconst CssTextField = withStyles({\r\n    root: {\r\n        '& label': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& label.Mui-focused': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& .MuiInput-underline:before': {\r\n            borderBottomColor: 'white'\r\n        },\r\n        '& .MuiInput-underline:after': {\r\n            borderBottomColor: '#1976d2',\r\n        },\r\n        '& .MuiOutlinedInput-root': {\r\n            color: 'rgb(225, 225, 225)',\r\n            '& fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n            '&:hover fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n        },\r\n        '& .MuiFormHelperText-contained': {\r\n            color: 'red',\r\n            fontSize: '0.9rem',\r\n            padding: 0,\r\n            borderRadius: '0',\r\n        },\r\n        // '& .MuiFormControl-root  .MuiFormHelperText-root.MuiFormHelperText-contained':{\r\n        '& #email-reg-text-helper.MuiFormHelperText-root.MuiFormHelperText-contained': {\r\n            color: 'red !important',\r\n            fontSize: '0.9rem',\r\n            padding: 0,\r\n            borderRadius: '0',\r\n        }\r\n    },\r\n})(TextField);\r\n\r\nconst CssOutlinedInput = withStyles({\r\n    root: {\r\n        '& span.MuiIconButton-label': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& input': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& fieldset': {\r\n            border: '1px solid rgb(225, 225, 225)',\r\n        },\r\n        '&:hover fieldset': {\r\n            border: '1px solid rgb(225, 225, 225) !important', //changing the outline on hover!!!\r\n        },\r\n        '&.MuiOutlinedInput-root.Mui-focused fieldset': {\r\n            border: '2px solid rgb(225, 225, 225) !important', //changing the outline on focus!!!\r\n        },\r\n    }\r\n})(OutlinedInput);\r\n\r\nexport default function Register({ setCurrentUser }) {\r\n    const classes = useStyles();\r\n    const [emailInput, setEmailInput] = useState(\"\");\r\n    const [passInput, setPassInput] = useState(\"\");\r\n    const [firstNameInput, setFirstNameInput] = useState(\"\");\r\n    const [lastNameInput, setLastNameInput] = useState(\"\");\r\n    const [ageInput, setAgeInput] = useState(\"\");\r\n    const [isPassVisible, setIsPassVisible] = useState(false);\r\n    const [firstNameError, setFirstNameError] = useState(false);\r\n    const [lastNameError, setLastNameError] = useState(false);\r\n    const [emailError, setEmailError] = useState(false);\r\n    const [passwordError, setPasswordError] = useState(false);\r\n    const [ageError, setAgeError] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    function changeInput(value, field) {\r\n        switch (field) {\r\n            case 'firstName': setFirstNameInput(value);\r\n                break;\r\n            case 'lastName': setLastNameInput(value);\r\n                break;\r\n            case 'email': setEmailInput(value);\r\n                break;\r\n            case 'password': setPassInput(value);\r\n                break;\r\n            case 'age': setAgeInput(value);\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    const validateEmail = (email) => {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(emailInput)\r\n    }\r\n    const validateName = (name) => {\r\n        const re = /[a-zA-Z][a-zA-Z ]{2,}/;\r\n        return re.test(name);\r\n    }\r\n    const changeAllErrorsState = (firstNameErr, lastNameErr, emailErr, passwordErr, ageErr) => {\r\n        setFirstNameError(firstNameErr);\r\n        setLastNameError(lastNameErr);\r\n        setEmailError(emailErr);\r\n        setPasswordError(passwordErr);\r\n        setAgeError(ageErr);\r\n    }\r\n\r\n    const validateForm = () => {\r\n\r\n        let firstNameErr = '';\r\n        let lastNameErr = '';\r\n        let emailErr = '';\r\n        let ageErr = '';\r\n        let passwordErr = '';\r\n        const isEmailValid = validateEmail(emailInput);\r\n        const isFirstNameValid = validateName(firstNameInput);\r\n        const isLastNameValid = validateName(lastNameInput);\r\n\r\n        if (!isFirstNameValid) {\r\n            firstNameErr = 'Must be at least 3 letters long!';\r\n        }\r\n        if (!isLastNameValid) {\r\n            lastNameErr = 'Must be at least 3 letters long!';\r\n        }\r\n        if (!isEmailValid) {\r\n            emailErr = 'Email is badly formatted!';\r\n        }\r\n        if (ageInput < 18) {\r\n            ageErr = 'Must be over 18!';\r\n        }\r\n        if (passInput.length < 6) {\r\n            passwordErr = 'Must be at least 6 chars';\r\n        }\r\n\r\n        if (firstNameErr || lastNameErr || emailErr || ageErr || passwordErr) {\r\n            changeAllErrorsState(firstNameErr, lastNameErr, emailErr, passwordErr, ageErr);\r\n            return false;\r\n        }\r\n        changeAllErrorsState(firstNameErr, lastNameErr, emailErr, passwordErr, ageErr);\r\n        return true;\r\n    }\r\n\r\n    function register(e) {\r\n        e.preventDefault();\r\n        const isValid = validateForm();\r\n        if (isValid) {\r\n            console.log('validno e!')\r\n            auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL)\r\n                .then(() => {\r\n                    return auth.createUserWithEmailAndPassword(emailInput, passInput)\r\n                })\r\n                .then(() => {\r\n                    var user = auth.currentUser;\r\n                    let fullName = `${firstNameInput[0]}${firstNameInput.slice(1)} ${lastNameInput[0]}${lastNameInput.slice(1)}`;\r\n                    let userInDb = {\r\n                        uid: user.uid,\r\n                        name: fullName,\r\n                        email: emailInput,\r\n                        aboutYou: '',\r\n                        age: ageInput,\r\n                        collageOrUni: '',\r\n                        company: '',\r\n                        country: '',\r\n                        city: '',\r\n                        gender: '',\r\n                        jobTitle: '',\r\n                        images: [defaultProfilePicUrl],\r\n                        mediaProfiles: [],\r\n                        sexualOrientation: '',\r\n                        youtubeSong: '',\r\n                        passions: [],\r\n                        chats: [],\r\n                        isOnline: true,\r\n                        liked: [],\r\n                        disliked: [],\r\n                        matches: []\r\n                    }\r\n                    createUserInDb(user.uid, userInDb);\r\n                    setEmailInput('');\r\n                    setFirstNameInput('');\r\n                    setLastNameInput('');\r\n                    setPassInput('');\r\n                    setAgeInput('');\r\n                })\r\n                .catch(error => {\r\n                    setEmailError(error.message);\r\n                })\r\n        }\r\n    }\r\n\r\n    const handleClickShowPassword = () => {\r\n        isPassVisible ? setIsPassVisible(false) : setIsPassVisible(true);\r\n    };\r\n\r\n    const handleMouseDownPassword = (event) => {\r\n        event.preventDefault();\r\n\r\n    };\r\n    const createUserInDb = (userId, obj) => {\r\n        db.collection(\"users\").doc(`${userId}`).set(obj)\r\n            .then(() => {\r\n                console.log(\"Document successfully written!\");\r\n                dispatch({ type: 'userLoggedIn', payload: obj });\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error writing document: \", error);\r\n            });\r\n    }\r\n\r\n    const createUpdateGoogleUserInDb = (userId, obj) => {\r\n        var userRef = db.collection(\"users\").doc(userId);\r\n\r\n        userRef.get().then((doc) => {\r\n            if (!doc.exists) {\r\n                console.log('nqma takyv potrebirel')\r\n                return userRef.set(obj)\r\n                    .then(() => {\r\n                        console.log(\"Document successfully updated! // syzdadoh takyv potrebitel\");\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error(\"Error updating document: \", error);\r\n                    });\r\n            } else {\r\n                console.log('IVA VECHE takyv potrebirel, ne promenqm bazata')\r\n            }\r\n            dispatch({ type: 'userLoggedIn', payload: obj });\r\n        })\r\n            .catch((error) => {\r\n                console.log(\"Error getting document:\", error);\r\n            });\r\n\r\n    }\r\n\r\n    const signInWithGoogle = () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        auth\r\n            .signInWithPopup(provider)\r\n            .then((res) => {\r\n                console.log('logvane s google ', res);\r\n                console.log('dokato zarejda dali e lognat')\r\n                let userInDb = {\r\n                    uid: res.user.uid,\r\n                    name: res.user.displayName,\r\n                    email: res.user.email,\r\n                    aboutYou: '',\r\n                    age: 18,\r\n                    collageOrUni: '',\r\n                    company: '',\r\n                    country: '',\r\n                    city: '',\r\n                    gender: '',\r\n                    jobTitle: '',\r\n                    images: [res.additionalUserInfo.profile.picture || defaultProfilePicUrl],\r\n                    mediaProfiles: [],\r\n                    sexualOrientation: '',\r\n                    youtubeSong: '',\r\n                    passions: [],\r\n                    chats: [],\r\n                    isOnline: true,\r\n                    liked: [],\r\n                    disliked: [],\r\n                    matches: [],\r\n                }\r\n                createUpdateGoogleUserInDb(res.user.uid, userInDb);\r\n            }).catch((error) => {\r\n                console.log(error.message)\r\n            })\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <CssBaseline />\r\n            <Container className={classes.container} position=\"relative\" align=\"center\">\r\n                <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={register}>\r\n                    <FormControl variant=\"outlined\">\r\n                        <CssTextField\r\n                            id=\"firstNameInput\"\r\n                            autoFocus\r\n                            error={!!firstNameError}\r\n                            aria-describedby=\"firstName-reg-text-helper\"\r\n                            value={firstNameInput}\r\n                            onChange={(ev) => changeInput(ev.target.value.trim(), 'firstName')}\r\n                            label=\"First name\" variant=\"outlined\" />\r\n                        {!!firstNameError && <FormHelperText id=\"firstName-reg-text-helper\">{firstNameError}</FormHelperText>}\r\n                    </FormControl>\r\n                    <FormControl variant=\"outlined\">\r\n                        <CssTextField\r\n                            id=\"lastNameInput\"\r\n                            autoFocus\r\n                            error={!!lastNameError}\r\n                            aria-describedby=\"lastName-reg-text-helper\"\r\n                            onChange={(ev) => changeInput(ev.target.value.trim(), 'lastName')}\r\n                            label=\"Last name\" variant=\"outlined\" />\r\n                        {!!lastNameError && <FormHelperText id=\"lastName-reg-text-helper\">{lastNameError}</FormHelperText>}\r\n                    </FormControl>\r\n                    <FormControl variant=\"outlined\">\r\n                        <CssTextField\r\n                            id=\"email\"\r\n                            autoFocus\r\n                            type=\"email\"\r\n                            aria-describedby=\"email-reg-text-helper\"\r\n                            error={!!emailError}\r\n                            value={emailInput}\r\n                            onChange={(ev) => changeInput(ev.target.value.trim(), 'email')}\r\n                            label=\"Email\" variant=\"outlined\" />\r\n                        {!!emailError && <FormHelperText id=\"email-reg-text-helper\">{emailError}</FormHelperText>}\r\n                    </FormControl>\r\n                    <FormControl variant=\"outlined\">\r\n                        <InputLabel className=\"label\" style={{ color: 'rgb(225, 225, 225)' }} htmlFor=\"password\">Password</InputLabel>\r\n                        <CssOutlinedInput\r\n                            id=\"password\"\r\n                            error={!!passwordError}\r\n                            value={passInput}\r\n                            onChange={(ev) => changeInput(ev.target.value, 'password')}\r\n                            label=\"Password\"\r\n                            variant=\"outlined\"\r\n                            type={isPassVisible ? 'text' : 'password'}\r\n                            autoComplete=\"current-password\"\r\n                            aria-describedby=\"password-reg-text-helper\"\r\n                            endAdornment={\r\n                                <InputAdornment position=\"end\">\r\n                                    <IconButton\r\n                                        aria-label=\"toggle password visibility\"\r\n                                        onClick={handleClickShowPassword}\r\n                                        onMouseDown={handleMouseDownPassword}\r\n                                        edge=\"end\"\r\n                                    >\r\n                                        {isPassVisible ? <Visibility /> : <VisibilityOff />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }\r\n                        />\r\n                        {!!passwordError && <FormHelperText id=\"password-reg-text-helper\">{passwordError}</FormHelperText>}\r\n                    </FormControl>\r\n                    <FormControl variant=\"outlined\">\r\n                        <CssTextField\r\n                            id=\"age\"\r\n                            error={!!ageError}\r\n                            value={ageInput}\r\n                            onChange={(ev) => changeInput(ev.target.value, 'age')}\r\n                            label=\"How old are you?\"\r\n                            variant=\"outlined\"\r\n                            type=\"number\"\r\n                            aria-describedby=\"age-reg-text-helper\"\r\n                        />\r\n                        {!!ageError && <FormHelperText id=\"age-reg-text-helper\">{ageError}</FormHelperText>}\r\n                    </FormControl>\r\n                    <Button variant=\"contained\" color=\"primary\" type='submit' disabled={!ageInput || !emailInput || !firstNameInput || !lastNameInput || passInput.length < 1} >Register</Button>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={signInWithGoogle}>\r\n                        <img className={classes.googleIcon} src=\"https://img.icons8.com/ios-filled/50/000000/google-logo.png\" alt=\"google icon\" />\r\n                        <span> Continue with Google</span>\r\n                    </Button>\r\n                </form>\r\n            </Container>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { CssBaseline, InputLabel, OutlinedInput, FormControl, Container, TextField, IconButton, InputAdornment, makeStyles, Button, FormHelperText } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { auth, db } from '../../firebase';\r\nimport firebase from '../../firebase';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n            width: '30ch',\r\n        },\r\n        '& .MuiFormHelperText-contained': {\r\n            color: 'red',\r\n            fontSize: '0.9rem',\r\n            padding: 0,\r\n            borderRadius: '0',\r\n        },\r\n    },\r\n    form: {\r\n        minWidth: '300px',\r\n        maxWidth: '400px',\r\n    },\r\n    container: {\r\n        marginTop: '5rem',\r\n        maxWidth: '500px',\r\n        margin: '0 auto',\r\n        display: 'flex',\r\n    },\r\n}));\r\n\r\nconst CssTextField = withStyles({\r\n    root: {\r\n        '& label': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& label.Mui-focused': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& .MuiOutlinedInput-root': {\r\n            color: 'rgb(225, 225, 225)',\r\n            '& fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n            '&:hover fieldset': {\r\n                borderColor: 'rgb(225, 225, 225)',\r\n            },\r\n        },\r\n    },\r\n})(TextField);\r\n\r\nconst CssOutlinedInput = withStyles({\r\n    root: {\r\n        '& span.MuiIconButton-label': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& input': {\r\n            color: 'rgb(225, 225, 225)',\r\n        },\r\n        '& fieldset': {\r\n            border: '1px solid rgb(225, 225, 225)',\r\n        },\r\n        '&:hover fieldset': {\r\n            border: '1px solid rgb(225, 225, 225) !important', //changing the outline on hover!!!\r\n        },\r\n        '&.MuiOutlinedInput-root.Mui-focused fieldset': {\r\n            border: '2px solid rgb(225, 225, 225) !important', //changing the outline on focus!!!\r\n        },\r\n    }\r\n})(OutlinedInput);\r\n\r\nexport default function Login() {\r\n    const classes = useStyles();\r\n    const [emailInput, setEmailInput] = useState(\"\");\r\n    const [passInput, setPassInput] = useState(\"\");\r\n    const [isPassVisible, setIsPassVisible] = useState(false);\r\n    const [emailError, setEmailError] = useState('');\r\n    const [passwordError, setPasswordError] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    function changeEmailInput(ev) {\r\n        setEmailInput(ev.target.value.trim());\r\n    }\r\n\r\n    function changePasswordInput(ev) {\r\n        setPassInput(ev.target.value.trim());\r\n    }\r\n\r\n    const validateEmail = (email) => {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(email)\r\n    }\r\n\r\n    const validateForm = () => {\r\n\r\n        let emailErr = '';\r\n        let passwordErr = false;\r\n        const emailIsValid = validateEmail(emailInput);\r\n\r\n\r\n        if (!emailIsValid) {\r\n            emailErr = 'Email is badly formatted!';\r\n        }\r\n\r\n        if (passInput.length < 6) {\r\n            passwordErr = true;\r\n        }\r\n\r\n        if (emailErr || passwordErr) {\r\n            setEmailError(emailErr);\r\n            setPasswordError(passwordErr);\r\n            return false;\r\n        }\r\n        setEmailError(emailErr);\r\n        setPasswordError(passwordErr);\r\n        return true;\r\n    }\r\n\r\n    function login(e) {\r\n        e.preventDefault();\r\n        const isValid = validateForm();\r\n\r\n        if (isValid) {\r\n            console.log('validno e !')\r\n            auth.setPersistence('session')\r\n                .then(() => {\r\n                    return auth.signInWithEmailAndPassword(emailInput, passInput)\r\n                })\r\n                .then((authToken) => {\r\n                    db.collection('users').doc(authToken.user.uid).get().then(res => {\r\n                        console.log('=====>', res.data())\r\n                        dispatch({\r\n                            type: 'userLoggedIn',\r\n                            payload: res.data()\r\n                        });\r\n                        setEmailInput('');\r\n                        setPassInput('');\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    console.log(error.message);\r\n                    setEmailError(error.message);\r\n                });\r\n\r\n\r\n        }\r\n    }\r\n\r\n    const handleClickShowPassword = () => {\r\n        isPassVisible ? setIsPassVisible(false) : setIsPassVisible(true);\r\n        console.log(isPassVisible)\r\n    };\r\n\r\n    const handleMouseDownPassword = (event) => {\r\n        event.preventDefault();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <CssBaseline />\r\n            <Container className={classes.container} position=\"relative\" align=\"center\">\r\n                <form className={classes.root} onSubmit={login} noValidate autoComplete=\"off\">\r\n                <FormControl variant=\"outlined\">\r\n                    <CssTextField\r\n                        id=\"email\"\r\n                        fullWidth={true}\r\n                        autoFocus\r\n                        // helperText={emailError}\r\n                        error={!!emailError}\r\n                        aria-describedby=\"email-login-text-helper\"\r\n                        onChange={changeEmailInput}\r\n                        label=\"Username\" variant=\"outlined\" />\r\n                        {!! emailError && <FormHelperText id=\"email-login-text-helper\">{emailError}</FormHelperText>}\r\n                        </FormControl>\r\n                    <FormControl variant=\"outlined\">\r\n                        <InputLabel className=\"label\" style={{ color: 'rgb(225, 225, 225)' }} htmlFor=\"password\">Password</InputLabel>\r\n                        <CssOutlinedInput\r\n                            id=\"password\"\r\n                            fullWidth={true}\r\n                            // helperText={passwordError}\r\n                            aria-describedby=\"password-login-text-helper\"\r\n                            error={!!passwordError}\r\n                            value={passInput}\r\n                            onChange={changePasswordInput}\r\n                            label=\"Password\"\r\n                            variant=\"outlined\"\r\n                            type={isPassVisible ? 'text' : 'password'}\r\n                            autoComplete=\"current-password\"\r\n                            endAdornment={\r\n                                <InputAdornment position=\"end\">\r\n                                    <IconButton\r\n                                        aria-label=\"toggle password visibility\"\r\n                                        onClick={handleClickShowPassword}\r\n                                        onMouseDown={handleMouseDownPassword}\r\n                                        edge=\"end\"\r\n                                    >\r\n                                        {isPassVisible ? <Visibility /> : <VisibilityOff />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }\r\n                        />\r\n                        {!! passwordError && <FormHelperText id=\"password-login-text-helper\">Must be at least 6 chars!</FormHelperText>}\r\n                    </FormControl>\r\n                    <Button type='submit' variant=\"contained\" color=\"primary\">Login</Button>\r\n                </form>\r\n            </Container>\r\n        </>\r\n    )\r\n}","import { useEffect, useState } from \"react\";\r\nimport { CssBaseline, makeStyles } from '@material-ui/core';\r\nimport FbImageLibrary from 'react-fb-image-grid';\r\nimport { useSelector } from 'react-redux';\r\nimport './ChosenMatch.module.css'\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    container: {\r\n        width: '40vw',\r\n        minWidth: '400px',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        color: 'white',\r\n    },\r\n    name: {\r\n        marginBottom: '3rem',\r\n    },\r\n    textField: {\r\n        fontSize: '1.2rem',\r\n        color: 'rgb(225,225,225)',\r\n        margin: '0 auto',\r\n        width: '100%',\r\n        padding: '0 3rem',\r\n        textAlign: 'center',\r\n    },\r\n});\r\n\r\n    \r\nexport default function ChosenMatch() {\r\n    const styles = useStyles();\r\n    const chosenProfile = useSelector(state => state.chosenProfile);\r\n    const [images, setImages] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const imagesToDisplay = chosenProfile.images.filter(image => image !== '');\r\n        setImages(imagesToDisplay);\r\n    }, [chosenProfile])\r\n\r\n    return (\r\n        <CssBaseline>\r\n            <div className={styles.container}>\r\n                <h2 className={styles.name}>{chosenProfile?.name}</h2>\r\n                <FbImageLibrary\r\n                images={images}\r\n                width={300}\r\n                // countFrom={1}\r\n                renderOverlay={() => <div style={{fontSize: '2rem'}}>Show</div>}\r\n                overlayBackgroundColor=\"#e66465\"\r\n                />\r\n                <h3>About me</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.aboutYou}\r\n                </div>\r\n                <hr />\r\n                <h3>Passions</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.passions.join(', ')}\r\n                </div>\r\n                <hr />\r\n                <h3>Gender</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.gender}\r\n                </div>\r\n                <hr />\r\n                <h3>Sexual orientation</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.sexualOrientation}\r\n                </div>\r\n                <hr />\r\n                <h3>Living in</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.country}\r\n                </div>\r\n                <hr />\r\n                <h3>Job title</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.jobTitle}\r\n                </div>\r\n                <hr />\r\n                <h3>Company</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.company}\r\n                </div>\r\n                <hr />\r\n                <h3>College</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.collageOrUni}\r\n                </div>\r\n            </div>\r\n        </CssBaseline>\r\n    )}","import { useEffect, useState } from \"react\";\r\nimport { CssBaseline, makeStyles } from '@material-ui/core';\r\nimport FbImageLibrary from 'react-fb-image-grid';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst useStyles = makeStyles({\r\n    container: {\r\n        width: '40vw',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        color: 'white',\r\n    },\r\n    name: {\r\n        marginBottom: '3rem',\r\n    },\r\n    textField: {\r\n        fontSize: '1.2rem',\r\n        color: 'rgb(225,225,225)',\r\n        margin: '0 auto',\r\n        width: '100%',\r\n        padding: '0 5rem',\r\n        textAlign: 'center',\r\n    },\r\n});\r\n\r\nexport default function ChosenProfile() {\r\n    const styles = useStyles();\r\n    const chosenProfile = useSelector(state => state.chosenProfile);\r\n    const [images, setImages] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const imagesToDisplay = chosenProfile?.images.filter(image => image !== '');\r\n        setImages(imagesToDisplay);\r\n    }, [chosenProfile])\r\n\r\n    return (\r\n        <CssBaseline>\r\n            <div className={styles.container}>\r\n                <h2 className={styles.name}>{chosenProfile?.name}</h2>\r\n                <FbImageLibrary\r\n                images={images}\r\n                width={300}\r\n                // countFrom={1}\r\n                renderOverlay={() => <div style={{fontSize: '2rem'}}>Show</div>}\r\n                overlayBackgroundColor=\"tomato\"\r\n                />\r\n                <h3>About me</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.aboutYou}\r\n                </div>\r\n                <hr />\r\n                <h3>Passions</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.passions.join(', ')}\r\n                </div>\r\n                <hr />\r\n                <h3>Gender</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.gender}\r\n                </div>\r\n                <hr />\r\n                <h3>Sexual orientation</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.sexualOrientation}\r\n                </div>\r\n                <hr />\r\n                <h3>Living in</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.country}\r\n                </div>\r\n                <hr />\r\n                <h3>Job title</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.jobTitle}\r\n                </div>\r\n                <hr />\r\n                <h3>Company</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.company}\r\n                </div>\r\n                <hr />\r\n                <h3>College</h3>\r\n                <div className={styles.textField}>\r\n                    {chosenProfile?.collageOrUni}\r\n                </div>\r\n            </div>\r\n        </CssBaseline>\r\n    )}","import Grid from '@material-ui/core/Grid';\r\nimport { Link } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styles from './Matches.module.css';\r\nimport { db } from '../../firebase';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    flexColumn: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        color: 'white',\r\n    },\r\n    title: {\r\n        fontSize: '2rem',\r\n        width: 'max-content',\r\n    },\r\n    container: {\r\n        width: '60%',\r\n        position: 'relative',\r\n        display: 'flex',\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: '1rem',\r\n    },\r\n    item: {\r\n        margin: `${theme.spacing(2)}px`,\r\n        '&:hover':  {boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)'},\r\n    },\r\n    root: {\r\n        position: 'relative',\r\n        backgroundColor: 'rgba(255, 255, 255, 0.4)',\r\n        width: 250,\r\n        height: 350,\r\n        margin: '13px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n    },\r\n    expanded: {\r\n        height: 'auto',\r\n        position: 'fixed',\r\n        top: '50px',\r\n        left: '5%',\r\n        zIndex: 2,\r\n    },\r\n    media: {\r\n        height: 240,\r\n    },\r\n    colorBlack: {\r\n        color: 'black',\r\n    },\r\n    btnContainer: {\r\n        marginBottom: '2rem',\r\n    },\r\n}));\r\n\r\nexport default function Matches() {\r\n    const classes = useStyles();\r\n    const removedFromHomePage = useSelector(state => state.alreadyRemoved);\r\n    const [moreDetailsCardKey, setMoreDetailsCardKey] = useState(-1);\r\n    const currentUser = useSelector(state => state.currentUser);\r\n    const [matches, setMatches] = useState([]);\r\n    const allUsers = useSelector(state => state.allUsers);\r\n    const defaultProfilePic = 'https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg';\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        const allMatches = allUsers.filter(user => currentUser.matches.includes(user.uid));\r\n        setMatches(allMatches);\r\n    }, [currentUser])\r\n\r\n    useEffect(() => {\r\n        matches?.length > 0 && setIsLoading(false);\r\n    }, [matches])\r\n\r\n    const manageCards = (uid) => {\r\n        moreDetailsCardKey === uid ? setMoreDetailsCardKey('') : setMoreDetailsCardKey(uid);\r\n    }\r\n\r\n    const dislikeUser = (userId) => {\r\n        const updatedRemovedFromHomePage = removedFromHomePage.filter(id => id !== userId);\r\n        dispatch({type: 'setRemoved', payload: updatedRemovedFromHomePage})\r\n        const currUserMatchesIds = currentUser.matches.filter(matchId => matchId !== userId);\r\n        const currUserLikedProfilesIds = currentUser.liked.filter(likedId => likedId !== userId);\r\n        const removedUser = allUsers.find(user => user.uid === userId)\r\n        const removedUserMatches = removedUser.matches.filter(matchId => matchId !== currentUser.uid);\r\n\r\n        db.collection('users').doc(currentUser.uid).update({\r\n            matches: [...currUserMatchesIds],\r\n            liked: [...currUserLikedProfilesIds],\r\n        }).then(() => {\r\n            dispatch({type: 'userRemovedFromLiked', payload: currUserLikedProfilesIds});\r\n            dispatch({type: 'userRemovedFromMatches', payload: currUserMatchesIds});\r\n        }).catch(err => console.log('Error after updating db for currentUser: ', err))\r\n\r\n        db.collection('users').doc(userId).update({\r\n            matches: [...removedUserMatches],\r\n        }).then(() => {\r\n            let updatedUsers = [...allUsers];\r\n            updatedUsers = updatedUsers.map(user => {\r\n                if(user.uid === userId) {\r\n                    user.matches = removedUserMatches;\r\n                }\r\n                return user;\r\n            });\r\n            dispatch({type: 'getAllUsers', payload: updatedUsers});\r\n\r\n            const newMatches = matches.filter(user => user.uid !== userId);\r\n            setMatches(newMatches);\r\n        }).catch(err => console.log('Error after updating db for currentUser: ', err))\r\n        deleteChatRoom(userId, currentUser.uid)\r\n    }\r\n\r\n    // To be moved to a Service file:\r\n    function deleteChatRoom(selectedUserId, currentUserId) {\r\n        let chatRoomDocId = selectedUserId > currentUserId ? `${currentUserId}_${selectedUserId}` : `${selectedUserId}_${currentUserId}`;\r\n        db.collection('chatRooms').doc(chatRoomDocId).delete()\r\n            .then(() => console.log(\"Successfully deleted the chatRoom for users: \", currentUserId, selectedUserId))\r\n            .catch((err) => console.log(\"Error on chatRoom deleting: \", err))\r\n    }\r\n\r\n    // if (isLoading) {\r\n    //     return <h2>THE PAGE IS LOADING...</h2>;\r\n    // }\r\n\r\n    const updateChosenProfile = (user) => {\r\n        dispatch({type: 'setChosenProfile', payload: user});\r\n        window.localStorage.setItem('chosenProfile', JSON.stringify(user));\r\n    }\r\n\r\n    return (\r\n        <div className={classes.flexColumn}>\r\n        {matches.length === 0 ?\r\n        <h2>You don't have any matches yet!</h2>\r\n        :\r\n        <Typography className={classes.title}>Your matches</Typography>\r\n        }\r\n        <Grid\r\n            container\r\n            className={classes.container}\r\n        >\r\n        {matches.map((user) =>\r\n            <Card elevation={20} className={moreDetailsCardKey === user.uid ? `${classes.root} ${classes.expanded}` : classes.root} key={user.uid} onClick={() => updateChosenProfile(user)}>\r\n                <CardActionArea component={Link} to={'/matches/' + user.uid}>\r\n                    <CardMedia\r\n                    className={classes.media}\r\n                    image={user.images && user.images[0] || defaultProfilePic}\r\n                    title={user.name}\r\n                    />\r\n                    <CardContent>\r\n                    <Typography className={classes.colorBlack} gutterBottom variant=\"h5\" component=\"h2\">\r\n                        {user.name} - {user.age}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {user.aboutYou ? user.aboutYou : `From ${user.country?.split(' ')[1]}`}\r\n                    </Typography>\r\n                    </CardContent>\r\n                </CardActionArea>\r\n                <CardActions className={classes.btnContainer}>\r\n                    <Button size=\"small\" color=\"primary\" onClick={() => dislikeUser(user.uid)}>\r\n                    Remove match\r\n                    </Button>\r\n                </CardActions>\r\n                    <Button className={styles.btnStyle} onClick={() => manageCards(user.uid)}>{moreDetailsCardKey === user.uid ? 'Show less' : 'Show more'}</Button>\r\n            </Card>\r\n        )}        \r\n        </Grid>\r\n        </div>\r\n    );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { useSelector } from 'react-redux';\r\nimport chatClasses from './Chat.module.css';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    head: {\r\n        width: theme.spacing(4),\r\n        height: theme.spacing(4),\r\n        margin: theme.spacing(1),\r\n    },\r\n    timestamp: {\r\n        color: 'gray',\r\n        fontSize: '8px',\r\n    },\r\n    active : {\r\n        background: 'rgba(255, 255, 255, 0.4)',\r\n        borderRadius: '2rem 0 0 2rem',\r\n    },\r\n    missed : {\r\n        border: '2px solid #e66465'\r\n    }\r\n}));\r\n\r\nexport default function ChatHead({ selectTargetChat,  chat, isActive  }) {\r\n    const styles = useStyles();\r\n    const allUsers = useSelector(state => state.allUsers);\r\n    const currentUserId = useSelector(state => state.currentUser.uid)\r\n    const targetUserId  = chat.id.split('_').filter(id => id !== currentUserId).join('');\r\n    const targetUser = allUsers.find(user => user.uid === targetUserId);\r\n    const [currentChat, setCurrentChat] = useState(chat);\r\n    const [hasMissedMessages, setHasMissedMessages] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (chat.messages.length > 0) {\r\n            let lastMessageSender = chat.messages[chat.messages.length - 1].sender;\r\n            if(currentChat.messages.length !== chat.messages.length && lastMessageSender !== currentUserId && !isActive) {\r\n                setHasMissedMessages(true);\r\n                setCurrentChat(chat);\r\n            }\r\n            if(isActive) {\r\n                setHasMissedMessages(false);\r\n            }\r\n        }\r\n    }, [chat, isActive, currentChat.messages.length])\r\n    \r\n    const handleChatOnClick = () => {\r\n        selectTargetChat(chat.id, targetUser);\r\n    }\r\n\r\n    return (\r\n        <span key={targetUser.id} style={hasMissedMessages ? {borderRight: '3px solid #e66465'} : {}} className={isActive ? styles['active'] : ''} onClick={handleChatOnClick}>\r\n            <Avatar className={styles.head} alt={targetUser.name} src={targetUser.images[0]} />\r\n            {targetUser.name}\r\n        </span>\r\n    )\r\n}","import firebase, { db } from '../../firebase';\r\n\r\nexport const sentMessage = (chatId, userId, message) => {\r\n    const targetChatRef = db.collection('chatRooms').doc(chatId);\r\n    targetChatRef.update({\r\n            messages: firebase.firestore.FieldValue.arrayUnion({ message: message, sender: userId, createdAt: Date.now() }),\r\n            lastMessageTimestamp: Date.now(),\r\n        })\r\n}","import { useEffect, useState } from \"react\";\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { useSelector } from 'react-redux';\r\nimport chatClasses from './Chat.module.css';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    head: {\r\n        width: theme.spacing(4),\r\n        height: theme.spacing(4),\r\n        margin: theme.spacing(1),\r\n    },\r\n    timestamp: {\r\n        color: 'gray',\r\n        fontSize: '8px',\r\n    }\r\n}));\r\n\r\nexport default function ChatHead({ message }) {\r\n    const styles = useStyles();\r\n    const allUsers = useSelector(state => state.allUsers);\r\n    const user = useSelector(state => state.currentUser);\r\n    const messageStyle = message.sender === user.uid ? 'sent' : 'received';\r\n    const userImage = allUsers.find(user => user.uid === message.sender)?.images[0];\r\n\r\n    return (\r\n        <div className={[`${chatClasses.message} ${chatClasses[messageStyle]}`]}>\r\n            <Avatar className={styles.head} alt={message.sender} src={userImage} />\r\n            <p>{message.message}</p>\r\n            <span>{new Date(message.createdAt).toDateString()}</span>\r\n        </div>\r\n    )\r\n}","import chatClasses from './Chat.module.css';\r\nimport { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport { db } from '../../firebase';\r\nimport { useSelector } from 'react-redux';\r\nimport ChatHead from './chatHead';\r\nimport { sentMessage } from './chatService';\r\nimport Message from './Message';\r\n\r\nexport default function Chat() {\r\n    const user = useSelector(state => state.currentUser);\r\n    const allUsers = useSelector(state => state.allUsers);\r\n\r\n    const [formValue, setFormValue] = useState('');\r\n    const [allChats, setAllChats] = useState([]);\r\n    const [targetChatId, setTargetChatId] = useState('');\r\n    const [selectedChatUsername, setSelectedChatUsername] = useState('');\r\n    const dummyDiv = useRef();\r\n\r\n    const chatRoomsRef = db.collection('chatRooms').where('users', 'array-contains', user.uid);\r\n\r\n    // Fetch all chat rooms\r\n    useEffect(() => {\r\n        chatRoomsRef.onSnapshot(snapShot => {\r\n            const tempAllChats = []\r\n            snapShot.forEach(doc => {\r\n                const data = doc.data();\r\n                let chat = { ...data, id: doc.id }\r\n                chat.messages.length !== 0 ? tempAllChats.unshift(chat) : tempAllChats.push(chat);\r\n            })\r\n            const sortedByTimeChats = tempAllChats.sort((a, b) => b.lastMessageTimestamp - a.lastMessageTimestamp);\r\n            setAllChats(sortedByTimeChats);\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        dummyDiv.current.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"nearest\",\r\n            inline: \"start\"\r\n        });\r\n    }, [allChats, dummyDiv, targetChatId])\r\n\r\n\r\n    const sendMessage = async (e) => {\r\n        e.preventDefault();\r\n        await sentMessage(targetChatId, user.uid, formValue);\r\n        console.log('izpratih ei tui: ', formValue, 'v chata: ', targetChatId, 'ot: ', user.uid);\r\n        setFormValue('');\r\n\r\n        dummyDiv.current.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"nearest\",\r\n            inline: \"start\"\r\n        });\r\n    }\r\n\r\n    const selectTargetChat = (id, targetUser) => {\r\n        setTargetChatId(id);\r\n        setSelectedChatUsername(targetUser.name)\r\n    }\r\n\r\n    const currentChat = useMemo(() => {\r\n        const id = allChats.findIndex(chat => chat.id === targetChatId);\r\n        return allChats[id];\r\n    }, [targetChatId, allChats])\r\n\r\n    return (\r\n        <CssBaseline>\r\n            <div className={chatClasses.chatContainer}>\r\n                <div className={chatClasses.profilesInChat}>\r\n                    <div className={chatClasses.innerDivChat}>\r\n                        {\r\n                            allChats.length > 0 && allChats.map(chat => {\r\n                                return (<ChatHead \r\n                                    chat={chat}\r\n                                    isActive={targetChatId === chat.id}\r\n                                    selectTargetChat={selectTargetChat}\r\n                                    key={chat.id}\r\n                                />)\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <main className={chatClasses.chat}>\r\n                    <div className={chatClasses.messageContainer}>\r\n                        {\r\n                            currentChat &&\r\n                            currentChat.messages.map(message => {\r\n                                return <Message message={message} key={message.createdAt} />\r\n                            })\r\n                        }\r\n                        <div ref={dummyDiv} />\r\n                    </div>\r\n                    <form className={chatClasses.chatForm} onSubmit={sendMessage}>\r\n                        <input value={formValue}\r\n                        onChange={(e) => setFormValue(e.target.value)}\r\n                        placeholder={currentChat ? `Chat with ${selectedChatUsername}` : ''} />\r\n                        <button type=\"submit\" disabled={!currentChat || !formValue}>\r\n                            <FavoriteIcon />\r\n                        </button>\r\n                    </form>\r\n                </main>\r\n            </div>\r\n        </CssBaseline>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MenuAppBar from '../menuAppBar/MenuAppBar';\r\nimport HomePage from '../homePage/HomePage';\r\nimport Profile from '../profile/Profile';\r\nimport Register from \"../login-register/Register\";\r\nimport Login from '../login-register/Login';\r\nimport ChosenMatch from '../chosenMatch/ChosenMatch';\r\nimport ChosenProfile from '../chosenProfile/ChosenProfile';\r\nimport { CssBaseline, Fab } from '@material-ui/core';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Matches from '../matches/Matches';\r\nimport InsertCommentIcon from '@material-ui/icons/InsertComment';\r\nimport Chat from '../chat/Chat';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { auth, db } from '../../firebase';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    position: 'fixed !important',\r\n    bottom: '50px',\r\n    right: '50px',\r\n    color: 'rgb(136, 25, 163)',\r\n    backgroundColor: 'rgba(255,255,255,0.5)',\r\n    '& .MuiFab-root:hover': {\r\n      backgroundColor: '#e66465',\r\n      '& .MuiSvgIcon-root': {\r\n        color: 'rgb(225,225,225)',\r\n        zIndex: 2,\r\n      },\r\n    },\r\n    zIndex: 2,\r\n  },\r\n  smallBtn: {\r\n    position: 'absolute',\r\n    width: '50px',\r\n    height: '50px',\r\n    '& .MuiSvgIcon-root': {\r\n      width: '30px'\r\n    },\r\n    color: '#e66465',\r\n    background: 'rgb(225,225,225)',\r\n  },\r\n}));\r\n\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const styles = useStyles();\r\n\r\n  const [isChatOpened, setIsChatOpened] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n\r\n  const showChat = () => {\r\n    setIsChatOpened(!isChatOpened);\r\n  }\r\n\r\n  const user = useSelector(state => state.currentUser);\r\n\r\n\r\n  //is a user still logged in\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(function (user) {\r\n      if (user) {\r\n        db.collection('users').doc(user.uid).get().then(res => {\r\n          dispatch({\r\n            type: 'userLoggedIn',\r\n            payload: res.data()\r\n          });\r\n          setIsLoading(false);\r\n        })\r\n      } else {\r\n        dispatch({\r\n          type: 'userLoggedOut'\r\n        });\r\n        setIsLoading(false);\r\n      }\r\n    });\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    db.collection('users').onSnapshot(res => {\r\n      let users = [];\r\n      res.forEach(element => {\r\n        users.push(element.data());\r\n      });\r\n      // console.log('Tuk otnovo setvame users ot App.jsx: ', users)\r\n      dispatch({\r\n        type: 'getAllUsers',\r\n        payload: users,\r\n      });\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const choseUser = JSON.parse(window.localStorage.getItem('chosenProfile'))\r\n    dispatch({type: 'setChosenProfile', payload: choseUser});\r\n}, [])\r\n\r\n  if (isLoading) {\r\n    return <div style={{ margin: 'calc(50vh - 100px) auto' }}>\r\n      <CircularProgress size={100} />\r\n    </div>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <CssBaseline />\r\n      <header>\r\n        <MenuAppBar user={user} />\r\n      </header>\r\n      <main className=\"App\">\r\n        <Switch>\r\n          <Route exact path='/' >\r\n            {user.uid ?\r\n              <HomePage />\r\n              : <Redirect to=\"/login\" />}\r\n          </Route>\r\n          <Route path=\"/chosenProfile/:id\">\r\n            {user.uid ?\r\n              <ChosenProfile />\r\n              :\r\n              <Redirect to=\"/register\" />\r\n            }\r\n          </Route>\r\n          <Route exact path='/login'>\r\n            {user.uid ?\r\n              <div>\r\n                <Redirect to=\"/\" />\r\n              </div>\r\n              :\r\n              <Login />\r\n            }\r\n          </Route>\r\n          <Route exact path='/register'>\r\n            {user.uid ?\r\n              <div>\r\n                <Redirect to=\"/\" />\r\n              </div>\r\n              :\r\n              <Register />\r\n            }\r\n          </Route>\r\n          {user.uid ?\r\n            <Route exact path='/matches'>\r\n              <Matches />\r\n            </Route>\r\n            :\r\n            <Redirect to='/register' />\r\n          }\r\n          {user.uid ?\r\n            <Route path=\"/matches/:id\">\r\n              <ChosenMatch />\r\n            </Route>\r\n            :\r\n            <Redirect to='/register' />\r\n          }\r\n          <Route exact path='/profile'>\r\n            {user.uid ? <Profile /> : <Redirect to='/profile' />}\r\n          </Route>\r\n          <Route path='*'>\r\n            <Redirect to='/' />\r\n          </Route>\r\n        </Switch>\r\n      </main>\r\n      {user.uid && isChatOpened && <Chat />}\r\n      {user.uid &&\r\n        <Paper className={styles.paper}>\r\n          <Tooltip title={isChatOpened ? 'Close Chat':'Open Chat'} className={styles.tooltip} arrow TransitionComponent={Zoom} placement='top'>\r\n            <Fab component=\"span\" className={styles.smallBtn}>\r\n              <InsertCommentIcon fontSize='large' onClick={showChat} />\r\n            </Fab>\r\n          </Tooltip>\r\n        </Paper>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const initialState = [];\r\n\r\nconst homePageReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type){\r\n        case 'addToRemoved': {\r\n            return [...state, action.payload]\r\n        }\r\n        case 'setRemoved': {\r\n            return action.payload\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default homePageReducer;","const initialState = {\r\n    uid: '',\r\n    name: '',\r\n    email: '',\r\n    aboutYou: '',\r\n    age: null,\r\n    collageOrUni: '',\r\n    company: '',\r\n    country: '',\r\n    city: '',\r\n    gender: '',\r\n    jobTitle: '',\r\n    images: [],\r\n    mediaProfiles: [],\r\n    sexualOrientation: '',\r\n    youtubeSong: '',\r\n    passions: [],\r\n    chats: [],\r\n    isOnline: false,\r\n    liked: [],\r\n    disliked: [],\r\n    matches: []\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type){\r\n        // nice!!!\r\n        case 'userLoggedIn':\r\n            return {\r\n                ...action.payload,\r\n            }\r\n        case 'userLoggedOut':\r\n            return initialState;\r\n        case 'userChangedProfilePic':\r\n            return {\r\n                ...state,\r\n                images: action.payload,\r\n            }\r\n        case 'userChangedAboutYou':\r\n            return {\r\n                ...state,\r\n                aboutYou: action.payload,\r\n            }\r\n        case 'userChangedGender': {\r\n            return {\r\n                ...state,\r\n                gender: action.payload\r\n            }\r\n        }\r\n        case 'userChangedLivingIn': {\r\n            return {\r\n                ...state,\r\n                country: action.payload\r\n            }\r\n        }\r\n        case 'userChangedPassions': {\r\n            return {\r\n                ...state,\r\n                passions: action.payload\r\n            }\r\n        }\r\n        case 'userChangedOrientation': {\r\n            return {\r\n                ...state,\r\n                sexualOrientation: action.payload\r\n            }\r\n        }\r\n        case 'userChangedJobTitle': {\r\n            return {\r\n                ...state,\r\n                jobTitle: action.payload\r\n            }\r\n        }\r\n        case 'userChangedCompany': {\r\n            return {\r\n                ...state,\r\n                company: action.payload\r\n            }\r\n        }\r\n        case 'userChangedCollegeOrUni': {\r\n            return {\r\n                ...state,\r\n                collageOrUni: action.payload\r\n            }\r\n        }\r\n        case 'userAddedToLiked': {\r\n            return {\r\n                ...state,\r\n                liked: [...state.liked, action.payload]\r\n            }\r\n        }\r\n        case 'userRemovedFromLiked': {\r\n            return {\r\n                ...state,\r\n                liked: action.payload\r\n            }\r\n        }\r\n        case 'userAddedToDisliked': {\r\n            return {\r\n                ...state,\r\n                disliked: [...state.disliked, action.payload]\r\n            }\r\n        }\r\n        case 'userAddedToMatches': {\r\n            return {\r\n                ...state,\r\n                matches: [...state.matches, action.payload]\r\n            }\r\n        }\r\n        case 'userRemovedFromMatches': {\r\n            return {\r\n                ...state,\r\n                matches: action.payload,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default userReducer;","const initialState = [];\r\n\r\nconst allUsersReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case 'getAllUsers':\r\n            return [\r\n                ...action.payload,\r\n            ]\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default allUsersReducer;","const initialState = {\r\n    uid: '',\r\n    name: '',\r\n    email: '',\r\n    aboutYou: '',\r\n    age: null,\r\n    collageOrUni: '',\r\n    company: '',\r\n    country: '',\r\n    city: '',\r\n    gender: '',\r\n    jobTitle: '',\r\n    images: [],\r\n    mediaProfiles: [],\r\n    sexualOrientation: '',\r\n    youtubeSong: '',\r\n    passions: [],\r\n    chats: [],\r\n    isOnline: false,\r\n    liked: [],\r\n    disliked: [],\r\n    matches: []\r\n};\r\n\r\nconst chosenProfileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type){\r\n        case 'setChosenProfile': {\r\n            return action.payload\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default chosenProfileReducer;","import { createStore, combineReducers, compose, applyMiddleware } from 'redux';\r\nimport homePageReducer from '../components/homePage/homePage.reducer';\r\nimport userReducer from '../components/login-register/login-register.reducer';\r\nimport allUsersReducer from '../components/users/users.reducer';\r\nimport chosenProfileReducer from '../components/chosenProfile/chosenProfile.reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n\r\n    currentUser: userReducer,\r\n    allUsers: allUsersReducer,\r\n    alreadyRemoved: homePageReducer,\r\n    chosenProfile: chosenProfileReducer,\r\n});\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    compose(\r\n        // applyMiddleware(thunk),\r\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    ));\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app/App';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport 'fontsource-roboto';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\nimport { CssBaseline } from '@material-ui/core';\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <Router>\r\n        <CssBaseline>\r\n          <App />\r\n        </CssBaseline>\r\n      </Router>\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatContainer\":\"Chat_chatContainer__AnWHR\",\"profilesInChat\":\"Chat_profilesInChat__1OBX0\",\"innerDivChat\":\"Chat_innerDivChat__3KnvM\",\"missedMsg\":\"Chat_missedMsg__11POX\",\"chat\":\"Chat_chat__1bjkx\",\"messageContainer\":\"Chat_messageContainer__1niSv\",\"chatForm\":\"Chat_chatForm__jXc0E\",\"sign-in\":\"Chat_sign-in__3JQK4\",\"message\":\"Chat_message__22gh7\",\"sent\":\"Chat_sent__1DSIE\",\"received\":\"Chat_received__2TPvf\",\"heads\":\"Chat_heads__1IwKS\"};"],"sourceRoot":""}